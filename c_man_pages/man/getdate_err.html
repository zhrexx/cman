<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 19:45:46 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>getdate</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">getdate</h1>
<a href="#NAME">NAME</a><br/>
<a href="#LIBRARY">LIBRARY</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#RETURN VALUE">RETURN VALUE</a><br/>
<a href="#ERRORS">ERRORS</a><br/>
<a href="#ENVIRONMENT">ENVIRONMENT</a><br/>
<a href="#ATTRIBUTES">ATTRIBUTES</a><br/>
<a href="#VERSIONS">VERSIONS</a><br/>
<a href="#STANDARDS">STANDARDS</a><br/>
<a href="#HISTORY">HISTORY</a><br/>
<a href="#EXAMPLES">EXAMPLES</a><br/>
<a href="#Program source">Program source</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">getdate,
getdate_r − convert a date-plus-time string to
broken-down time</p>
<h2>LIBRARY
<a name="LIBRARY"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Standard C
library (<i>libc</i>, <i>−lc</i>)</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>#include
&lt;time.h&gt;</b></p>
<p style="margin-left:9%; margin-top: 1em"><b>struct tm
*getdate(const char *</b><i>string</i><b>);</b></p>
<p style="margin-left:9%; margin-top: 1em"><b>extern int
getdate_err;</b></p>
<p style="margin-left:9%; margin-top: 1em"><b>int
getdate_r(const char *restrict</b> <i>string</i><b>, struct
tm *restrict</b> <i>res</i><b>);</b></p>
<p style="margin-left:4%; margin-top: 1em">Feature Test
Macro Requirements for glibc (see
<b>feature_test_macros</b>(7)):</p>
<p style="margin-left:9%; margin-top: 1em"><b>getdate</b>():
<br/>
_XOPEN_SOURCE &gt;= 500</p>
<p style="margin-left:9%; margin-top: 1em"><b>getdate_r</b>():
<br/>
_GNU_SOURCE</p>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The function
<b>getdate</b>() converts a string representation of a date
and time, contained in the buffer pointed to by
<i>string</i>, into a broken-down time. The broken-down time
is stored in a <i>tm</i> structure, and a pointer to this
structure is returned as the function result. This <i>tm</i>
structure is allocated in static storage, and consequently
it will be overwritten by further calls to
<b>getdate</b>().</p>
<p style="margin-left:9%; margin-top: 1em">In contrast to
<b>strptime</b>(3), (which has a <i>format</i> argument),
<b>getdate</b>() uses the formats found in the file whose
full pathname is given in the environment variable
<b>DATEMSK</b>. The first line in the file that matches the
given input string is used for the conversion.</p>
<p style="margin-left:9%; margin-top: 1em">The matching is
done case insensitively. Superfluous whitespace, either in
the pattern or in the string to be converted, is
ignored.</p>
<p style="margin-left:9%; margin-top: 1em">The conversion
specifications that a pattern can contain are those given
for <b>strptime</b>(3). One more conversion specification is
specified in POSIX.1-2001:</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="3%">
<p><b>%Z</b></p></td>
<td width="6%"></td>
<td width="63%">
<p>Timezone name. This is not implemented in glibc.</p></td>
<td width="19%">
</td></tr>
</table>
<p style="margin-left:9%; margin-top: 1em">When <b>%Z</b>
is given, the structure containing the broken-down time is
initialized with values corresponding to the current time in
the given timezone. Otherwise, the structure is initialized
to the broken-down time corresponding to the current local
time (as by a call to <b>localtime</b>(3)).</p>
<p style="margin-left:9%; margin-top: 1em">When only the
day of the week is given, the day is taken to be the first
such day on or after today.</p>
<p style="margin-left:9%; margin-top: 1em">When only the
month is given (and no year), the month is taken to be the
first such month equal to or after the current month. If no
day is given, it is the first day of the month.</p>
<p style="margin-left:9%; margin-top: 1em">When no hour,
minute, and second are given, the current hour, minute, and
second are taken.</p>
<p style="margin-left:9%; margin-top: 1em">If no date is
given, but we know the hour, then that hour is taken to be
the first such hour equal to or after the current hour.</p>
<p style="margin-left:9%; margin-top: 1em"><b>getdate_r</b>()
is a GNU extension that provides a reentrant version of
<b>getdate</b>(). Rather than using a global variable to
report errors and a static buffer to return the broken down
time, it returns errors via the function result value, and
returns the resulting broken-down time in the
caller-allocated buffer pointed to by the argument
<i>res</i>.</p>
<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">When successful,
<b>getdate</b>() returns a pointer to a <i>struct tm</i>.
Otherwise, it returns NULL and sets the global variable
<i>getdate_err</i> to one of the error numbers shown below.
Changes to <i>errno</i> are unspecified.</p>
<p style="margin-left:9%; margin-top: 1em">On success
<b>getdate_r</b>() returns 0; on error it returns one of the
error numbers shown below.</p>
<h2>ERRORS
<a name="ERRORS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The following
errors are returned via <i>getdate_err</i> (for
<b>getdate</b>()) or as the function result (for
<b>getdate_r</b>()):</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p style="margin-top: 1em"><b>1</b></p></td>
<td width="4%"></td>
<td width="86%">
<p style="margin-top: 1em">The <b>DATEMSK</b> environment
variable is not defined, or its value is an empty
string.</p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p><b>2</b></p></td>
<td width="4%"></td>
<td width="86%">
<p>The template file specified by <b>DATEMSK</b> cannot be
opened for reading.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p><b>3</b></p></td>
<td width="4%"></td>
<td width="86%">
<p>Failed to get file status information.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p><b>4</b></p></td>
<td width="4%"></td>
<td width="86%">
<p>The template file is not a regular file.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p><b>5</b></p></td>
<td width="4%"></td>
<td width="86%">
<p>An error was encountered while reading the template
file.</p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p><b>6</b></p></td>
<td width="4%"></td>
<td width="86%">
<p>Memory allocation failed (not enough memory
available).</p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p><b>7</b></p></td>
<td width="4%"></td>
<td width="86%">
<p>There is no line in the file that matches the input.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p><b>8</b></p></td>
<td width="4%"></td>
<td width="86%">
<p>Invalid input specification.</p></td></tr>
</table>
<h2>ENVIRONMENT
<a name="ENVIRONMENT"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>DATEMSK</b></p>
<p style="margin-left:18%;">File containing format
patterns.</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="3%">
<p><b>TZ</b></p></td>
<td width="88%">
</td></tr>
</table>
<p style="margin-left:9%; margin-top: 1em"><b>LC_TIME</b></p>
<p style="margin-left:18%;">Variables used by
<b>strptime</b>(3).</p>
<h2>ATTRIBUTES
<a name="ATTRIBUTES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">For an
explanation of the terms used in this section, see
<b>attributes</b>(7).</p>
<h2>VERSIONS
<a name="VERSIONS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The POSIX.1
specification for <b>strptime</b>(3) contains conversion
specifications using the <b>%E</b> or <b>%O</b> modifier,
while such specifications are not given for
<b>getdate</b>(). In glibc, <b>getdate</b>() is implemented
using <b>strptime</b>(3), so that precisely the same
conversions are supported by both.</p>
<h2>STANDARDS
<a name="STANDARDS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">POSIX.1-2008.</p>
<h2>HISTORY
<a name="HISTORY"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">POSIX.1-2001.</p>
<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The program
below calls <b>getdate</b>() for each of its command-line
arguments, and for each call displays the values in the
fields of the returned <i>tm</i> structure. The following
shell session demonstrates the operation of the program:</p>
<p style="margin-left:14%; margin-top: 1em">$
<b>TFILE=$PWD/tfile</b> <br/>
$ <b>echo '%A' &gt; $TFILE</b> # Full name of the day of the
week <br/>
$ <b>echo '%T' &gt;&gt; $TFILE</b> # Time (HH:MM:SS) <br/>
$ <b>echo '%F' &gt;&gt; $TFILE</b> # ISO date
(YYYY−MM−DD) <br/>
$ <b>date</b> <br/>
$ <b>export DATEMSK=$TFILE</b> <br/>
$ <b>./a.out Tuesday '2009−12−28' '12:22:33'</b>
<br/>
Sun Sep 7 06:03:36 CEST 2008 <br/>
Call 1 ("Tuesday") succeeded: <br/>
tm_sec = 36 <br/>
tm_min = 3 <br/>
tm_hour = 6 <br/>
tm_mday = 9 <br/>
tm_mon = 8 <br/>
tm_year = 108 <br/>
tm_wday = 2 <br/>
tm_yday = 252 <br/>
tm_isdst = 1 <br/>
Call 2 ("2009−12−28") succeeded: <br/>
tm_sec = 36 <br/>
tm_min = 3 <br/>
tm_hour = 6 <br/>
tm_mday = 28 <br/>
tm_mon = 11 <br/>
tm_year = 109 <br/>
tm_wday = 1 <br/>
tm_yday = 361 <br/>
tm_isdst = 0 <br/>
Call 3 ("12:22:33") succeeded: <br/>
tm_sec = 33 <br/>
tm_min = 22 <br/>
tm_hour = 12 <br/>
tm_mday = 7 <br/>
tm_mon = 8 <br/>
tm_year = 108 <br/>
tm_wday = 0 <br/>
tm_yday = 250 <br/>
tm_isdst = 1</p>
<h3>Program source
<a name="Program source"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">#define
_GNU_SOURCE <br/>
#include &lt;stdio.h&gt; <br/>
#include &lt;stdlib.h&gt; <br/>
#include &lt;time.h&gt; <br/>
int <br/>
main(int argc, char *argv[]) <br/>
{ <br/>
struct tm *tmp; <br/>
for (size_t j = 1; j &lt; argc; j++) { <br/>
tmp = getdate(argv[j]); <br/>
if (tmp == NULL) { <br/>
printf("Call %zu failed; getdate_err = %d\n", <br/>
j, getdate_err); <br/>
continue; <br/>
} <br/>
printf("Call %zu (\"%s\") succeeded:\n",
j, argv[j]); <br/>
printf(" tm_sec = %d\n", tmp−&gt;tm_sec);
<br/>
printf(" tm_min = %d\n", tmp−&gt;tm_min);
<br/>
printf(" tm_hour = %d\n", tmp−&gt;tm_hour);
<br/>
printf(" tm_mday = %d\n", tmp−&gt;tm_mday);
<br/>
printf(" tm_mon = %d\n", tmp−&gt;tm_mon);
<br/>
printf(" tm_year = %d\n", tmp−&gt;tm_year);
<br/>
printf(" tm_wday = %d\n", tmp−&gt;tm_wday);
<br/>
printf(" tm_yday = %d\n", tmp−&gt;tm_yday);
<br/>
printf(" tm_isdst = %d\n",
tmp−&gt;tm_isdst); <br/>
} <br/>
exit(EXIT_SUCCESS); <br/>
}</p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>time</b>(2),
<b>localtime</b>(3), <b>setlocale</b>(3),
<b>strftime</b>(3), <b>strptime</b>(3)</p>
<hr/>
</body>
</html>
