<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 19:56:39 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>XAddConnectionWatch</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">XAddConnectionWatch</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNTAX">SYNTAX</a><br/>
<a href="#ARGUMENTS">ARGUMENTS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">XAddConnectionWatch,
XRemoveConnectionWatch, XProcessInternalConnection,
XInternalConnectionNumbers − handle Xlib internal
connections</p>
<h2>SYNTAX
<a name="SYNTAX"></a>
</h2>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">typedef void
(*XConnectionWatchProc)(Display *<i>display</i>, XPointer
<i>client_data</i>, int <i>fd</i>, Bool <i>opening</i>,
XPointer *<i>watch_data</i>);</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">Status
XAddConnectionWatch(Display *<i>display</i>,
XConnectionWatchProc <i>procedure</i>, XPointer
<i>client_data</i>);</p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">void
XRemoveConnectionWatch(Display *<i>display</i>,
XConnectionWatchProc <i>procedure</i>, XPointer
<i>client_data</i>);</p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">void
XProcessInternalConnection(Display *<i>display</i>, int
<i>fd</i>);</p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">Status
XInternalConnectionNumbers(Display *<i>display</i>, int
**<i>fd_return</i>, int *<i>count_return</i>);</p></td></tr>
</table>
<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><i>client_data</i></p>
<p style="margin-left:22%;">Specifies the additional client
data.</p>
<p style="margin-left:9%;"><i>count_return</i></p>
<p style="margin-left:22%;">Returns the number of file
descriptors.</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="12%">
<p><i>display</i></p></td>
<td width="1%"></td>
<td width="52%">
<p>Specifies the connection to the X server.</p></td>
<td width="26%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="12%">
<p><i>fd</i></p></td>
<td width="1%"></td>
<td width="52%">
<p>Specifies the file descriptor.</p></td>
<td width="26%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="12%">
<p><i>fd_return</i></p></td>
<td width="1%"></td>
<td width="52%">
<p>Returns the file descriptors.</p></td>
<td width="26%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="12%">
<p><i>procedure</i></p></td>
<td width="1%"></td>
<td width="52%">
<p>Specifies the procedure to be called.</p></td>
<td width="26%">
</td></tr>
</table>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The
<b>XAddConnectionWatch</b> function registers a procedure to
be called each time Xlib opens or closes an internal
connection for the specified display. The procedure is
passed the display, the specified client_data, the file
descriptor for the connection, a Boolean indicating whether
the connection is being opened or closed, and a pointer to a
location for private watch data. If opening is <b>True</b>,
the procedure can store a pointer to private data in the
location pointed to by watch_data; when the procedure is
later called for this same connection and opening is
<b>False</b>, the location pointed to by watch_data will
hold this same private data pointer.</p>
<p style="margin-left:9%; margin-top: 1em">This function
can be called at any time after a display is opened. If
internal connections already exist, the registered procedure
will immediately be called for each of them, before
<b>XAddConnectionWatch</b> returns.
<b>XAddConnectionWatch</b> returns a nonzero status if the
procedure is successfully registered; otherwise, it returns
zero.</p>
<p style="margin-left:9%; margin-top: 1em">The registered
procedure should not call any Xlib functions. If the
procedure directly or indirectly causes the state of
internal connections or watch procedures to change, the
result is not defined. If Xlib has been initialized for
threads, the procedure is called with the display locked and
the result of a call by the procedure to any Xlib function
that locks the display is not defined unless the executing
thread has externally locked the display using
<b>XLockDisplay</b>.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>XRemoveConnectionWatch</b> function removes a previously
registered connection watch procedure. The client_data must
match the client_data used when the procedure was initially
registered.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>XProcessInternalConnection</b> function processes input
available on an internal connection. This function should be
called for an internal connection only after an operating
system facility (for example, <b>select</b> or <b>poll</b>)
has indicated that input is available; otherwise, the effect
is not defined.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>XInternalConnectionNumbers</b> function returns a list of
the file descriptors for all internal connections currently
open for the specified display. When the allocated list is
no longer needed, free it by using <b>XFree</b>. This
functions returns a nonzero status if the list is
successfully allocated; otherwise, it returns zero.</p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><i>Xlib −
C Language X Interface</i></p>
<hr/>
</body>
</html>
