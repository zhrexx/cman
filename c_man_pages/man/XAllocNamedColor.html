<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 20:53:11 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>XAllocColor</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">XAllocColor</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNTAX">SYNTAX</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#DIAGNOSTICS">DIAGNOSTICS</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">XAllocColor,
XAllocNamedColor, XAllocColorCells, XAllocColorPlanes,
XFreeColors − allocate and free colors</p>
<h2>SYNTAX
<a name="SYNTAX"></a>
</h2>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">Status XAllocColor(Display
*<i>display</i>, Colormap <i>colormap</i>, XColor
*<i>screen_in_out</i>);</p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">Status XAllocNamedColor(Display
*<i>display</i>, Colormap <i>colormap</i>, _Xconst char
*<i>color_name</i>, XColor *<i>screen_def_return</i>, XColor
*<i>exact_def_return</i>);</p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">Status XAllocColorCells(Display
*<i>display</i>, Colormap <i>colormap</i>, Bool
<i>contig</i>, unsigned long <i>plane_masks_return</i>[],
unsigned int <i>nplanes</i>, unsigned long
<i>pixels_return</i>[], unsigned int <i>npixels</i>);</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">Status XAllocColorPlanes(Display
*<i>display</i>, Colormap <i>colormap</i>, Bool
<i>contig</i>, unsigned long <i>pixels_return</i>[], int
<i>ncolors</i>, int <i>nreds</i>, int <i>ngreens</i>, int
<i>nblues</i>, unsigned long *<i>rmask_return</i>, unsigned
long *<i>gmask_return</i>, unsigned long
*<i>bmask_return</i>);</p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">int XFreeColors(Display
*<i>display</i>, Colormap <i>colormap</i>, unsigned long
<i>pixels</i>[], int <i>npixels</i>, unsigned long
<i>planes</i>);</p> </td></tr>
</table>
<p><i>color_name</i></p>
<p style="margin-left:22%;">Specifies the color name string
(for example, red) whose color definition structure you want
returned.</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="10%">
<p><i>colormap</i></p></td>
<td width="3%"></td>
<td width="78%">
<p>Specifies the colormap.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="10%">
<p><i>contig</i></p></td>
<td width="3%"></td>
<td width="78%">
<p>Specifies a Boolean value that indicates whether the
planes must be contiguous.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="10%">
<p><i>display</i></p></td>
<td width="3%"></td>
<td width="78%">
<p>Specifies the connection to the X server.</p></td></tr>
</table>
<p style="margin-left:9%;"><i>exact_def_return</i></p>
<p style="margin-left:22%;">Returns the exact RGB
values.</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="9%">
<p><i>ncolors</i></p></td>
<td width="4%"></td>
<td width="78%">
<p>Specifies the number of pixel values that are to be
returned in the pixels_return array.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="9%">
<p><i>npixels</i></p></td>
<td width="4%"></td>
<td width="78%">
<p>Specifies the number of pixels.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="9%">
<p><i>nplanes</i></p></td>
<td width="4%"></td>
<td width="78%">
<p>Specifies the number of plane masks that are to be
returned in the plane masks array.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="9%">
<p><i>nreds</i></p></td>
<td width="4%"></td>
<td width="78%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="9%">
<p><i>ngreens</i></p></td>
<td width="4%"></td>
<td width="78%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="9%">
<p><i>nblues</i></p></td>
<td width="4%"></td>
<td width="78%">
</td></tr>
</table>
<p style="margin-left:22%; margin-top: 1em">Specify the
number of red, green, and blue planes. The value you pass
must be nonnegative.</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="8%">
<p style="margin-top: 1em"><i>pixels</i></p></td>
<td width="5%"></td>
<td width="45%">
<p style="margin-top: 1em">Specifies an array of pixel
values.</p> </td>
<td width="33%">
</td></tr>
</table>
<p style="margin-left:9%;"><i>pixels_return</i></p>
<p style="margin-left:22%;">Returns an array of pixel
values.</p>
<p style="margin-left:9%;"><i>plane_mask_return</i></p>
<p style="margin-left:22%;">Returns an array of plane
masks.</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="8%">
<p><i>planes</i></p></td>
<td width="5%"></td>
<td width="49%">
<p>Specifies the planes you want to free.</p></td>
<td width="29%">
</td></tr>
</table>
<p style="margin-left:9%;"><i>rmask_return <br/>
gmask_return <br/>
bmask_return</i></p>
<p style="margin-left:22%;">Return bit masks for the red,
green, and blue planes.</p>
<p style="margin-left:9%;"><i>screen_def_return</i></p>
<p style="margin-left:22%;">Returns the closest RGB values
provided by the hardware.</p>
<p style="margin-left:9%;"><i>screen_in_out</i></p>
<p style="margin-left:22%;">Specifies and returns the
values actually used in the colormap.</p>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The
<b>XAllocColor</b> function allocates a read-only colormap
entry corresponding to the closest RGB value supported by
the hardware. <b>XAllocColor</b> returns the pixel value of
the color closest to the specified RGB elements supported by
the hardware and returns the RGB value actually used. The
corresponding colormap cell is read-only. In addition,
<b>XAllocColor</b> returns nonzero if it succeeded or zero
if it failed. Multiple clients that request the same
effective RGB value can be assigned the same read-only
entry, thus allowing entries to be shared. When the last
client deallocates a shared cell, it is deallocated.
<b>XAllocColor</b> does not use or affect the flags in the
<b>XColor</b> structure.</p>
<p style="margin-left:9%; margin-top: 1em"><b>XAllocColor</b>
can generate a <b>BadColor</b> error.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>XAllocNamedColor</b> function looks up the named color
with respect to the screen that is associated with the
specified colormap. It returns both the exact database
definition and the closest color supported by the screen.
The allocated color cell is read-only. The pixel value is
returned in screen_def_return. If the color name is not in
the Host Portable Character Encoding, the result is
implementation-dependent. Use of uppercase or lowercase does
not matter. If screen_def_return and exact_def_return point
to the same structure, the pixel field will be set
correctly, but the color values are undefined.
<b>XAllocNamedColor</b> returns nonzero if a cell is
allocated; otherwise, it returns zero.</p>
<p style="margin-left:9%; margin-top: 1em"><b>XAllocNamedColor</b>
can generate a <b>BadColor</b> error.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>XAllocColorCells</b> function allocates read/write color
cells. The number of colors must be positive and the number
of planes nonnegative, or a <b>BadValue</b> error results.
If ncolors and nplanes are requested, then ncolors pixels
and nplane plane masks are returned. No mask will have any
bits set to 1 in common with any other mask or with any of
the pixels. By ORing together each pixel with zero or more
masks, ncolors * 2
<i><small><small>nplanes</small></small></i> distinct pixels
can be produced. All of these are allocated writable by the
request. For <b>GrayScale</b> or <b>PseudoColor</b>, each
mask has exactly one bit set to 1. For <b>DirectColor</b>,
each has exactly three bits set to 1. If contig is
<b>True</b> and if all masks are ORed together, a single
contiguous set of bits set to 1 will be formed for
<b>GrayScale</b> or <b>PseudoColor</b> and three contiguous
sets of bits set to 1 (one within each pixel subfield) for
<b>DirectColor</b>. The RGB values of the allocated entries
are undefined. <b>XAllocColorCells</b> returns nonzero if it
succeeded or zero if it failed.</p>
<p style="margin-left:9%; margin-top: 1em"><b>XAllocColorCells</b>
can generate <b>BadColor</b> and <b>BadValue</b> errors.</p>
<p style="margin-left:9%; margin-top: 1em">The specified
ncolors must be positive; and nreds, ngreens, and nblues
must be nonnegative, or a <b>BadValue</b> error results. If
ncolors colors, nreds reds, ngreens greens, and nblues blues
are requested, ncolors pixels are returned; and the masks
have nreds, ngreens, and nblues bits set to 1, respectively.
If contig is <b>True</b>, each mask will have a contiguous
set of bits set to 1. No mask will have any bits set to 1 in
common with any other mask or with any of the pixels. For
<b>DirectColor</b>, each mask will lie within the
corresponding pixel subfield. By ORing together subsets of
masks with each pixel value, ncolors * 2
<small><small>(<i>nreds</i>+<i>ngreens</i>+<i>nblues</i>)</small></small>
distinct pixel values can be produced. All of these are
allocated by the request. However, in the colormap, there
are only ncolors * 2
<i><small><small>nreds</small></small></i> independent red
entries, ncolors * 2
<i><small><small>ngreens</small></small></i> independent
green entries, and ncolors * 2
<i><small><small>nblues</small></small></i> independent blue
entries. This is true even for <b>PseudoColor</b>. When the
colormap entry of a pixel value is changed (using
<b>XStoreColors</b>, <b>XStoreColor</b>, or
<b>XStoreNamedColor</b>), the pixel is decomposed according
to the masks, and the corresponding independent entries are
updated. <b>XAllocColorPlanes</b> returns nonzero if it
succeeded or zero if it failed.</p>
<p style="margin-left:9%; margin-top: 1em"><b>XAllocColorPlanes</b>
can generate <b>BadColor</b> and <b>BadValue</b> errors.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>XFreeColors</b> function frees the cells represented by
pixels whose values are in the pixels array. The planes
argument should not have any bits set to 1 in common with
any of the pixels. The set of all pixels is produced by
ORing together subsets of the planes argument with the
pixels. The request frees all of these pixels that were
allocated by the client (using <b>XAllocColor</b>,
<b>XAllocNamedColor</b>, <b>XAllocColorCells</b>, and
<b>XAllocColorPlanes</b>). Note that freeing an individual
pixel obtained from <b>XAllocColorPlanes</b> may not
actually allow it to be reused until all of its related
pixels are also freed. Similarly, a read-only entry is not
actually freed until it has been freed by all clients, and
if a client allocates the same read-only entry multiple
times, it must free the entry that many times before the
entry is actually freed.</p>
<p style="margin-left:9%; margin-top: 1em">All specified
pixels that are allocated by the client in the colormap are
freed, even if one or more pixels produce an error. If a
specified pixel is not a valid index into the colormap, a
<b>BadValue</b> error results. If a specified pixel is not
allocated by the client (that is, is unallocated or is only
allocated by another client) or if the colormap was created
with all entries writable (by passing <b>AllocAll</b> to
<b>XCreateColormap</b>), a <b>BadAccess</b> error results.
If more than one pixel is in error, the one that gets
reported is arbitrary.</p>
<p style="margin-left:9%; margin-top: 1em"><b>XFreeColors</b>
can generate <b>BadAccess</b>, <b>BadColor</b>, and
<b>BadValue</b> errors.</p>
<h2>DIAGNOSTICS
<a name="DIAGNOSTICS"></a>
</h2>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="12%">
<p style="margin-top: 1em"><b>BadAccess</b></p></td>
<td width="1%"></td>
<td width="78%">
<p style="margin-top: 1em">A client attempted to free a
color map entry that it did not already allocate.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="12%">
<p><b>BadAccess</b></p></td>
<td width="1%"></td>
<td width="78%">
<p>A client attempted to store into a read-only color map
entry.</p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="12%">
<p><b>BadColor</b></p></td>
<td width="1%"></td>
<td width="78%">
<p>A value for a Colormap argument does not name a defined
Colormap.</p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="12%">
<p><b>BadValue</b></p></td>
<td width="1%"></td>
<td width="78%">
<p>Some numeric value falls outside the range of values
accepted by the request. Unless a specific range is
specified for an argument, the full range defined by the
argument’s type is accepted. Any argument defined as a
set of alternatives can generate this error.</p></td></tr>
</table>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">XCreateColormap(3),
XQueryColor(3), XStoreColors(3) <i><br/>
Xlib − C Language X Interface</i></p>
<hr/>
</body>
</html>
