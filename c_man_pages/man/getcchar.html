<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 20:43:47 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>curs_getcchar</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">curs_getcchar</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#getcchar">getcchar</a><br/>
<a href="#setcchar">setcchar</a><br/>
<a href="#RETURN VALUE">RETURN VALUE</a><br/>
<a href="#NOTES">NOTES</a><br/>
<a href="#EXTENSIONS">EXTENSIONS</a><br/>
<a href="#PORTABILITY">PORTABILITY</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>getcchar</b>,
<b>setcchar</b> − convert between a wide-character
string and a <i>curses</i> complex character</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>#include
&lt;curses.h&gt;</b></p>
<p style="margin-left:9%; margin-top: 1em"><b>int getcchar(
<br/>
const cchar_t *</b><i>wch</i><b>, <br/>
wchar_t *</b><i>wc</i><b>, <br/>
attr_t *</b><i>attrs</i><b>, <br/>
short *</b><i>color_pair</i><b>, <br/>
void *</b><i>opts</i> <b>);</b></p>
<p style="margin-left:9%; margin-top: 1em"><b>int setcchar(
<br/>
cchar_t *</b><i>wch</i><b>, <br/>
const wchar_t *</b><i>wc</i><b>, <br/>
const attr_t</b> <i>attrs</i><b>, <br/>
short</b> <i>color_pair</i><b>, <br/>
const void *</b><i>opts</i> <b>);</b></p>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<h3>getcchar
<a name="getcchar"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">The
<b>getcchar</b> function gets a wide-character string and
rendition from a <b>cchar_t</b> argument. When <i>wc</i> is
not a null pointer, the <b>getcchar</b> function does the
following:</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="86%">
<p>Extracts information from a <b>cchar_t</b> value
<i>wch</i></p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="86%">
<p>Stores the character attributes in the location pointed
to by <i>attrs</i></p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="86%">
<p>Stores the color pair in the location pointed to by
<i>color_pair</i></p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="86%">
<p>Stores the wide-character string, characters referenced
by <i>wch</i>, into the array pointed to by <i>wc</i>.</p></td></tr>
</table>
<p style="margin-left:9%; margin-top: 1em">When <i>wc</i>
is a null pointer, the <b>getcchar</b> function does the
following:</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p style="margin-top: 1em">•</p></td>
<td width="4%"></td>
<td width="74%">
<p style="margin-top: 1em">Obtains the number of wide
characters pointed to by <i>wch</i></p></td>
<td width="12%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="74%">
<p>Does not change the data referenced by <i>attrs</i> or
<i>color_pair</i></p> </td>
<td width="12%">
</td></tr>
</table>
<h3>setcchar
<a name="setcchar"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">The
<b>setcchar</b> function initializes the location pointed to
by <i>wch</i> by using:</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p style="margin-top: 1em">•</p></td>
<td width="4%"></td>
<td width="86%">
<p style="margin-top: 1em">The character attributes in
<i>attrs</i></p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="86%">
<p>The color pair in <i>color_pair</i></p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="86%">
<p>The wide-character string pointed to by <i>wc</i>. The
string must be L’\0’ terminated, contain at most
one spacing character, which must be the first.</p></td></tr>
</table>
<p style="margin-left:14%; margin-top: 1em">Up to
<b>CCHARW_MAX</b>−1 non-spacing characters may follow.
Additional non-spacing characters are ignored.</p>
<p style="margin-left:14%; margin-top: 1em">The string may
contain a single control character instead. In that case, no
non-spacing characters are allowed.</p>
<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">When <i>wc</i>
is a null pointer, <b>getcchar</b> returns the number of
wide characters referenced by <i>wch</i>, including one for
a trailing null.</p>
<p style="margin-left:9%; margin-top: 1em">When <i>wc</i>
is not a null pointer, <b>getcchar</b> returns <b>OK</b>
upon successful completion, and <b>ERR</b> otherwise.</p>
<p style="margin-left:9%; margin-top: 1em">Upon successful
completion, <b>setcchar</b> returns <b>OK</b>. Otherwise, it
returns <b>ERR</b>.</p>
<h2>NOTES
<a name="NOTES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The <i>wch</i>
argument may be a value generated by a call to
<b>setcchar</b> or by a function that has a <b>cchar_t</b>
output argument. If <i>wch</i> is constructed by any other
means, the effect is unspecified.</p>
<h2>EXTENSIONS
<a name="EXTENSIONS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">X/Open Curses
documents the <i>opts</i> argument as reserved for future
use, saying that it must be null. This implementation uses
that parameter in ABI 6 for the functions which have a color
pair parameter to support extended color pairs:</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p style="margin-top: 1em">•</p></td>
<td width="4%"></td>
<td width="86%">
<p style="margin-top: 1em">For functions which modify the
color, e.g., <b>setcchar</b>, if <i>opts</i> is set it is
treated as a pointer to <b>int</b>, and used to set the
color pair instead of the <b>short</b> pair parameter.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="86%">
<p>For functions which retrieve the color, e.g.,
<b>getcchar</b>, if <i>opts</i> is set it is treated as a
pointer to <b>int</b>, and used to retrieve the color pair
as an <b>int</b> value, in addition retrieving it via the
standard pointer to <b>short</b> parameter.</p></td></tr>
</table>
<h2>PORTABILITY
<a name="PORTABILITY"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The
<b>CCHARW_MAX</b> symbol is specific to <i>ncurses</i>.
X/Open Curses does not provide details for the layout of the
<b>cchar_t</b> structure. It tells what data are stored in
it:</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p style="margin-top: 1em">•</p></td>
<td width="4%"></td>
<td width="86%">
<p style="margin-top: 1em">a spacing character
(<b>wchar_t</b>, i.e., 32-bits).</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="86%">
<p>non-spacing characters (again,
<b>wchar_t</b>’s).</p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="86%">
<p>attributes (at least 16 bits, inferred from the various
ACS- and WACS-flags).</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="86%">
<p>color pair (at least 16 bits, inferred from the
<b>unsigned short</b> type).</p></td></tr>
</table>
<p style="margin-left:9%; margin-top: 1em">The non-spacing
characters are optional, in the sense that zero or more may
be stored in a <b>cchar_t</b>. XOpen/Curses specifies a
limit:</p>
<p style="margin-left:14%; margin-top: 1em">Implementations
may limit the number of non-spacing characters that can be
associated with a spacing character, provided any limit is
at least 5.</p>
<p style="margin-left:9%; margin-top: 1em">The Unix
implementations at the time follow that limit:</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p style="margin-top: 1em">•</p></td>
<td width="4%"></td>
<td width="86%">
<p style="margin-top: 1em">AIX 4 and OSF1 4 use
the same declaration with an array of 5 non-spacing
characters <i>z</i> and a single spacing character
<i>c</i>.</p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="86%">
<p>HP-UX 10 uses an opaque structure with 28 bytes,
which is large enough for the 6 <b>wchar_t</b> values.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="86%">
<p>Solaris <i>xpg4</i> curses uses a single array of 6
<b>wchar_t</b> values.</p></td></tr>
</table>
<p style="margin-left:9%; margin-top: 1em">This
implementation’s <b>cchar_t</b> was defined in 1995
using <b>5</b> for the total of spacing and non-spacing
characters (<b>CCHARW_MAX</b>). That was probably due to a
misreading of the AIX 4 header files, because the
X/Open Curses document was not generally available at that
time. Later (in 2002), this detail was overlooked when
beginning to implement the functions using the
structure.</p>
<p style="margin-left:9%; margin-top: 1em">In practice,
even four non-spacing characters may seem enough. X/Open
Curses documents possible uses for non-spacing characters,
including using them for ligatures between characters (a
feature apparently not supported by any curses
implementation). Unicode does not limit the (analogous)
number of combining characters, so some applications may be
affected.</p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>curses</b>(3X),
<b>curs_attr</b>(3X), <b>curs_color</b>(3X),
<b>wcwidth</b>(3)</p>
<hr/>
</body>
</html>
