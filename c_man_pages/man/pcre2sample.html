<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 19:49:39 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>PCRE2SAMPLE</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">PCRE2SAMPLE</h1>
<a href="#NAME">NAME</a><br/>
<a href="#PCRE2 SAMPLE PROGRAM">PCRE2 SAMPLE PROGRAM</a><br/>
<a href="#AUTHOR">AUTHOR</a><br/>
<a href="#REVISION">REVISION</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">PCRE2 -
Perl-compatible regular expressions (revised API)</p>
<h2>PCRE2 SAMPLE PROGRAM
<a name="PCRE2 SAMPLE PROGRAM"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">A simple,
complete demonstration program to get you started with using
PCRE2 is supplied in the file <i>pcre2demo.c</i> in the
<b>src</b> directory in the PCRE2 distribution. A listing of
this program is given in the <b>pcre2demo</b> documentation.
If you do not have a copy of the PCRE2 distribution, you can
save this listing to re-create the contents of
<i>pcre2demo.c</i>.</p>
<p style="margin-left:9%; margin-top: 1em">The
demonstration program compiles the regular expression that
is its first argument, and matches it against the subject
string in its second argument. No PCRE2 options are set, and
default character tables are used. If matching succeeds, the
program outputs the portion of the subject that matched,
together with the contents of any captured substrings.</p>
<p style="margin-left:9%; margin-top: 1em">If the -g option
is given on the command line, the program then goes on to
check for further matches of the same regular expression in
the same subject string. The logic is a little bit tricky
because of the possibility of matching an empty string.
Comments in the code explain what is going on.</p>
<p style="margin-left:9%; margin-top: 1em">The code in
<b>pcre2demo.c</b> is an 8-bit program that uses the PCRE2
8-bit library. It handles strings and characters that are
stored in 8-bit code units. By default, one character
corresponds to one code unit, but if the pattern starts with
"(*UTF)", both it and the subject are treated as
UTF-8 strings, where characters may occupy multiple code
units.</p>
<p style="margin-left:9%; margin-top: 1em">If PCRE2 is
installed in the standard include and library directories
for your operating system, you should be able to compile the
demonstration program using a command like this:</p>
<p style="margin-left:9%; margin-top: 1em">cc -o pcre2demo
pcre2demo.c -lpcre2-8</p>
<p style="margin-left:9%; margin-top: 1em">If PCRE2 is
installed elsewhere, you may need to add additional options
to the command line. For example, on a Unix-like system that
has PCRE2 installed in <i>/usr/local</i>, you can compile
the demonstration program using a command like this:</p>
<p style="margin-left:9%; margin-top: 1em">cc -o pcre2demo
-I/usr/local/include pcre2demo.c \ <br/>
-L/usr/local/lib -lpcre2-8</p>
<p style="margin-left:9%; margin-top: 1em">Once you have
built the demonstration program, you can run simple tests
like this:</p>
<p style="margin-left:9%; margin-top: 1em">./pcre2demo
’cat|dog’ ’the cat sat on the mat’
<br/>
./pcre2demo -g ’cat|dog’ ’the dog sat on
the cat’</p>
<p style="margin-left:9%; margin-top: 1em">Note that there
is a much more comprehensive test program, called
<b>pcre2test</b>, which supports many more facilities for
testing regular expressions using all three PCRE2 libraries
(8-bit, 16-bit, and 32-bit, though not all three need be
installed). The <b>pcre2demo</b> program is provided as a
relatively simple coding example.</p>
<p style="margin-left:9%; margin-top: 1em">If you try to
run <b>pcre2demo</b> when PCRE2 is not installed in the
standard library directory, you may get an error like this
on some operating systems (e.g. Solaris):</p>
<p style="margin-left:9%; margin-top: 1em">ld.so.1:
pcre2demo: fatal: libpcre2-8.so.0: open failed: No such file
or directory</p>
<p style="margin-left:9%; margin-top: 1em">This is caused
by the way shared library support works on those systems.
You need to add</p>
<p style="margin-left:9%; margin-top: 1em">-R/usr/local/lib</p>
<p style="margin-left:9%; margin-top: 1em">(for example) to
the compile command to get round this problem.</p>
<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Philip Hazel
<br/>
Retired from University Computing Service <br/>
Cambridge, England.</p>
<h2>REVISION
<a name="REVISION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Last updated: 02
February 2016 <br/>
Copyright (c) 1997-2016 University of Cambridge.</p>
<hr/>
</body>
</html>
