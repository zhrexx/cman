<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 19:55:06 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>X509_PUBKEY_NEW</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">X509_PUBKEY_NEW</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#NOTES">NOTES</a><br/>
<a href="#RETURN VALUES">RETURN VALUES</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<a href="#HISTORY">HISTORY</a><br/>
<a href="#COPYRIGHT">COPYRIGHT</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">X509_PUBKEY_new_ex,
X509_PUBKEY_new, X509_PUBKEY_free, X509_PUBKEY_dup,
X509_PUBKEY_set, X509_PUBKEY_get0, X509_PUBKEY_get,
d2i_PUBKEY_ex, d2i_PUBKEY, i2d_PUBKEY, d2i_PUBKEY_ex_bio,
d2i_PUBKEY_bio, d2i_PUBKEY_ex_fp, d2i_PUBKEY_fp,
i2d_PUBKEY_fp, i2d_PUBKEY_bio, X509_PUBKEY_set0_public_key,
X509_PUBKEY_set0_param, X509_PUBKEY_get0_param,
X509_PUBKEY_eq − SubjectPublicKeyInfo public key
functions</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">#include
&lt;openssl/x509.h&gt; <br/>
X509_PUBKEY *X509_PUBKEY_new_ex(OSSL_LIB_CTX *libctx, const
char *propq); <br/>
X509_PUBKEY *X509_PUBKEY_new(void); <br/>
void X509_PUBKEY_free(X509_PUBKEY *a); <br/>
X509_PUBKEY *X509_PUBKEY_dup(const X509_PUBKEY *a); <br/>
int X509_PUBKEY_set(X509_PUBKEY **x, EVP_PKEY *pkey); <br/>
EVP_PKEY *X509_PUBKEY_get0(const X509_PUBKEY *key); <br/>
EVP_PKEY *X509_PUBKEY_get(const X509_PUBKEY *key); <br/>
EVP_PKEY *d2i_PUBKEY_ex(EVP_PKEY **a, const unsigned char
**pp, long length, <br/>
OSSL_LIB_CTX *libctx, const char *propq); <br/>
EVP_PKEY *d2i_PUBKEY(EVP_PKEY **a, const unsigned char **pp,
long length); <br/>
int i2d_PUBKEY(const EVP_PKEY *a, unsigned char **pp); <br/>
EVP_PKEY *d2i_PUBKEY_ex_bio(BIO *bp, EVP_PKEY **a,
OSSL_LIB_CTX *libctx, <br/>
const char *propq); <br/>
EVP_PKEY *d2i_PUBKEY_bio(BIO *bp, EVP_PKEY **a); <br/>
EVP_PKEY *d2i_PUBKEY_ex_fp(FILE *fp, EVP_PKEY **a,
OSSL_LIB_CTX *libctx, <br/>
const char *propq); <br/>
EVP_PKEY *d2i_PUBKEY_fp(FILE *fp, EVP_PKEY **a); <br/>
int i2d_PUBKEY_fp(const FILE *fp, EVP_PKEY *pkey); <br/>
int i2d_PUBKEY_bio(BIO *bp, const EVP_PKEY *pkey); <br/>
void X509_PUBKEY_set0_public_key(X509_PUBKEY *pub, <br/>
unsigned char *penc, int penclen); <br/>
int X509_PUBKEY_set0_param(X509_PUBKEY *pub, ASN1_OBJECT
*aobj, <br/>
int ptype, void *pval, <br/>
unsigned char *penc, int penclen); <br/>
int X509_PUBKEY_get0_param(ASN1_OBJECT **ppkalg, <br/>
const unsigned char **pk, int *ppklen, <br/>
X509_ALGOR **pa, const X509_PUBKEY *pub); <br/>
int X509_PUBKEY_eq(X509_PUBKEY *a, X509_PUBKEY *b);</p>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The
<b>X509_PUBKEY</b> structure represents the ASN.1
<b>SubjectPublicKeyInfo</b> structure defined in RFC5280 and
used in certificates and certificate requests.</p>
<p style="margin-left:9%; margin-top: 1em"><b>X509_PUBKEY_new_ex()</b>
allocates and initializes an <b>X509_PUBKEY</b> structure
associated with the given <b>OSSL_LIB_CTX</b> in the
<i>libctx</i> parameter. Any algorithm fetches associated
with using the <b>X509_PUBKEY</b> object will use the
property query string <i>propq</i>. See "ALGORITHM
FETCHING" in <b>crypto</b>(7) for further information
about algorithm fetching.</p>
<p style="margin-left:9%; margin-top: 1em"><b>X509_PUBKEY_new()</b>
is the same as <b>X509_PUBKEY_new_ex()</b> except that the
default (NULL) <b>OSSL_LIB_CTX</b> and a NULL property query
string are used.</p>
<p style="margin-left:9%; margin-top: 1em"><b>X509_PUBKEY_dup()</b>
creates a duplicate copy of the <b>X509_PUBKEY</b> object
specified by <i>a</i>.</p>
<p style="margin-left:9%; margin-top: 1em"><b>X509_PUBKEY_free()</b>
frees up <b>X509_PUBKEY</b> structure <i>a</i>. If <i>a</i>
is NULL nothing is done.</p>
<p style="margin-left:9%; margin-top: 1em"><b>X509_PUBKEY_set()</b>
sets the public key in <i>*x</i> to the public key contained
in the <b>EVP_PKEY</b> structure <i>pkey</i>. If <i>*x</i>
is not NULL any existing public key structure will be
freed.</p>
<p style="margin-left:9%; margin-top: 1em"><b>X509_PUBKEY_get0()</b>
returns the public key contained in <i>key</i>. The returned
value is an internal pointer which <b>MUST NOT</b> be freed
after use.</p>
<p style="margin-left:9%; margin-top: 1em"><b>X509_PUBKEY_get()</b>
is similar to <b>X509_PUBKEY_get0()</b> except the reference
count on the returned key is incremented so it <b>MUST</b>
be freed using <b>EVP_PKEY_free()</b> after use.</p>
<p style="margin-left:9%; margin-top: 1em"><b>d2i_PUBKEY_ex()</b>
decodes an <b>EVP_PKEY</b> structure using
<b>SubjectPublicKeyInfo</b> format. Some public key decoding
implementations may use cryptographic algorithms. In this
case the supplied library context <i>libctx</i> and property
query string <i>propq</i> are used. <b>d2i_PUBKEY()</b> does
the same as <b>d2i_PUBKEY_ex()</b> except that the default
library context and property query string are used.</p>
<p style="margin-left:9%; margin-top: 1em"><b>i2d_PUBKEY()</b>
encodes an <b>EVP_PKEY</b> structure using
<b>SubjectPublicKeyInfo</b> format.</p>
<p style="margin-left:9%; margin-top: 1em"><b>d2i_PUBKEY_bio()</b>,
<b>d2i_PUBKEY_fp()</b>, <b>i2d_PUBKEY_bio()</b> and
<b>i2d_PUBKEY_fp()</b> are similar to <b>d2i_PUBKEY()</b>
and <b>i2d_PUBKEY()</b> except they decode or encode using a
<b>BIO</b> or <b>FILE</b> pointer.</p>
<p style="margin-left:9%; margin-top: 1em"><b>d2i_PUBKEY_ex_bio()</b>
and <b>d2i_PUBKEY_ex_fp()</b> are similar to
<b>d2i_PUBKEY_ex()</b> except they decode using a <b>BIO</b>
or <b>FILE</b> pointer.</p>
<p style="margin-left:9%; margin-top: 1em"><b>X509_PUBKEY_set0_public_key()</b>
sets the public−key encoding of <i>pub</i> to the
<i>penclen</i> bytes contained in buffer <i>penc</i>. Any
earlier public−key encoding in <i>pub</i> is freed.
<i>penc</i> may be NULL to indicate that there is no actual
public key data. Ownership of the <i>penc</i> argument is
passed to <i>pub</i>.</p>
<p style="margin-left:9%; margin-top: 1em"><b>X509_PUBKEY_set0_param()</b>
sets the public−key parameters of <i>pub</i>. The OID
associated with the algorithm is set to <i>aobj</i>. The
type of the algorithm parameters is set to <i>type</i> using
the structure <i>pval</i>. If <i>penc</i> is not NULL the
encoding of the public key itself is set to the
<i>penclen</i> bytes contained in buffer <i>penc</i> and any
earlier public−key encoding in <i>pub</i> is freed. On
success ownership of all the supplied arguments is passed to
<i>pub</i> so they must not be freed after the call.</p>
<p style="margin-left:9%; margin-top: 1em"><b>X509_PUBKEY_get0_param()</b>
retrieves the public key parameters from <i>pub</i>,
<i>*ppkalg</i> is set to the associated OID and the encoding
consists of <i>*ppklen</i> bytes at <i>*pk</i>, <i>*pa</i>
is set to the associated AlgorithmIdentifier for the public
key. If the value of any of these parameters is not required
it can be set to NULL. All of the retrieved pointers are
internal and must not be freed after the call.</p>
<p style="margin-left:9%; margin-top: 1em"><b>X509_PUBKEY_eq()</b>
compares two <b>X509_PUBKEY</b> values.</p>
<h2>NOTES
<a name="NOTES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The
<b>X509_PUBKEY</b> functions can be used to encode and
decode public keys in a standard format.</p>
<p style="margin-left:9%; margin-top: 1em">In many cases
applications will not call the <b>X509_PUBKEY</b> functions
directly: they will instead call wrapper functions such as
<b>X509_get0_pubkey()</b>.</p>
<h2>RETURN VALUES
<a name="RETURN VALUES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">If the
allocation fails, <b>X509_PUBKEY_new()</b> and
<b>X509_PUBKEY_dup()</b> return NULL and set an error code
that can be obtained by <b>ERR_get_error</b>(3). Otherwise
they return a pointer to the newly allocated structure.</p>
<p style="margin-left:9%; margin-top: 1em"><b>X509_PUBKEY_free()</b>
does not return a value.</p>
<p style="margin-left:9%; margin-top: 1em"><b>X509_PUBKEY_get0()</b>,
<b>X509_PUBKEY_get()</b>, <b>d2i_PUBKEY_ex()</b>,
<b>d2i_PUBKEY()</b>, <b>d2i_PUBKEY_ex_bio()</b>,
<b>d2i_PUBKEY_bio()</b>, <b>d2i_PUBKEY_ex_fp()</b> and
<b>d2i_PUBKEY_fp()</b> return a pointer to an
<b>EVP_PKEY</b> structure or NULL if an error occurs.</p>
<p style="margin-left:9%; margin-top: 1em"><b>i2d_PUBKEY()</b>
returns the number of bytes successfully encoded or a
negative value if an error occurs.</p>
<p style="margin-left:9%; margin-top: 1em"><b>i2d_PUBKEY_fp()</b>
and <b>i2d_PUBKEY_bio()</b> return 1 if successfully encoded
or 0 if an error occurs.</p>
<p style="margin-left:9%; margin-top: 1em"><b>X509_PUBKEY_set0_public_key()</b>
does not return a value.</p>
<p style="margin-left:9%; margin-top: 1em"><b>X509_PUBKEY_set()</b>,
<b>X509_PUBKEY_set0_param()</b> and
<b>X509_PUBKEY_get0_param()</b> return 1 for success and 0
if an error occurred.</p>
<p style="margin-left:9%; margin-top: 1em"><b>X509_PUBKEY_eq()</b>
returns 1 for equal, 0 for different, and &lt; 0 on
error.</p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>d2i_X509</b>(3),
<b>ERR_get_error</b>(3), <b>X509_get_pubkey</b>(3),</p>
<h2>HISTORY
<a name="HISTORY"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The
<b>X509_PUBKEY_new_ex()</b> and <b>X509_PUBKEY_eq()</b>
functions were added in OpenSSL 3.0.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>X509_PUBKEY_set0_public_key()</b>,
<b>d2i_PUBKEY_ex_bio()</b> and <b>d2i_PUBKEY_ex_fp()</b>
functions were added in OpenSSL 3.2.</p>
<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Copyright
2016−2022 The OpenSSL Project Authors. All Rights
Reserved.</p>
<p style="margin-left:9%; margin-top: 1em">Licensed under
the Apache License 2.0 (the "License"). You may
not use this file except in compliance with the License. You
can obtain a copy in the file LICENSE in the source
distribution or at
&lt;https://www.openssl.org/source/license.html&gt;.</p>
<hr/>
</body>
</html>
