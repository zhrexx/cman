<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 19:47:25 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>D2I_PRIVATEKEY</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">D2I_PRIVATEKEY</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#NOTES">NOTES</a><br/>
<a href="#RETURN VALUES">RETURN VALUES</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<a href="#HISTORY">HISTORY</a><br/>
<a href="#COPYRIGHT">COPYRIGHT</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">d2i_PrivateKey_ex,
d2i_PrivateKey, d2i_PublicKey, d2i_KeyParams,
d2i_AutoPrivateKey_ex, d2i_AutoPrivateKey, i2d_PrivateKey,
i2d_PublicKey, i2d_KeyParams, i2d_KeyParams_bio,
d2i_PrivateKey_ex_bio, d2i_PrivateKey_bio,
d2i_PrivateKey_ex_fp, d2i_PrivateKey_fp, d2i_KeyParams_bio,
i2d_PrivateKey_bio, i2d_PrivateKey_fp − decode and
encode functions for reading and saving EVP_PKEY
structures</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">#include
&lt;openssl/evp.h&gt; <br/>
EVP_PKEY *d2i_PrivateKey_ex(int type, EVP_PKEY **a, const
unsigned char **pp, <br/>
long length, OSSL_LIB_CTX *libctx, <br/>
const char *propq); <br/>
EVP_PKEY *d2i_PrivateKey(int type, EVP_PKEY **a, const
unsigned char **pp, <br/>
long length); <br/>
EVP_PKEY *d2i_PublicKey(int type, EVP_PKEY **a, const
unsigned char **pp, <br/>
long length); <br/>
EVP_PKEY *d2i_KeyParams(int type, EVP_PKEY **a, const
unsigned char **pp, <br/>
long length); <br/>
EVP_PKEY *d2i_AutoPrivateKey_ex(EVP_PKEY **a, const unsigned
char **pp, <br/>
long length, OSSL_LIB_CTX *libctx, <br/>
const char *propq); <br/>
EVP_PKEY *d2i_AutoPrivateKey(EVP_PKEY **a, const unsigned
char **pp, <br/>
long length); <br/>
int i2d_PrivateKey(const EVP_PKEY *a, unsigned char **pp);
<br/>
int i2d_PublicKey(const EVP_PKEY *a, unsigned char **pp);
<br/>
int i2d_KeyParams(const EVP_PKEY *a, unsigned char **pp);
<br/>
int i2d_KeyParams_bio(BIO *bp, const EVP_PKEY *pkey); <br/>
EVP_PKEY *d2i_KeyParams_bio(int type, EVP_PKEY **a, BIO
*in); <br/>
#include &lt;openssl/x509.h&gt; <br/>
EVP_PKEY *d2i_PrivateKey_ex_bio(BIO *bp, EVP_PKEY **a,
OSSL_LIB_CTX *libctx, <br/>
const char *propq); <br/>
EVP_PKEY *d2i_PrivateKey_bio(BIO *bp, EVP_PKEY **a); <br/>
EVP_PKEY *d2i_PrivateKey_ex_fp(FILE *fp, EVP_PKEY **a,
OSSL_LIB_CTX *libctx, <br/>
const char *propq); <br/>
EVP_PKEY *d2i_PrivateKey_fp(FILE *fp, EVP_PKEY **a); <br/>
int i2d_PrivateKey_bio(BIO *bp, const EVP_PKEY *pkey); <br/>
int i2d_PrivateKey_fp(FILE *fp, const EVP_PKEY *pkey);</p>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>d2i_PrivateKey_ex()</b>
decodes a private key using algorithm <i>type</i>. It
attempts to use any key−specific format or PKCS#8
unencrypted PrivateKeyInfo format. The <i>type</i> parameter
should be a public key algorithm constant such as
<b>EVP_PKEY_RSA</b>. An error occurs if the decoded key does
not match <i>type</i>. Some private key decoding
implementations may use cryptographic algorithms (for
example to automatically derive the public key if it is not
explicitly included in the encoding). In this case the
supplied library context <i>libctx</i> and property query
string <i>propq</i> are used. If successful and the <i>a</i>
parameter is not NULL the function assigns the returned
<b>EVP_PKEY</b> structure pointer to <i>*a</i>, overwriting
any previous value.</p>
<p style="margin-left:9%; margin-top: 1em"><b>d2i_PrivateKey()</b>
does the same as <b>d2i_PrivateKey_ex()</b> except that the
default library context and property query string are used.
<b>d2i_PublicKey()</b> does the same for public keys.
<b>d2i_KeyParams()</b> does the same for key parameters.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>d2i_PrivateKey_ex_bio()</b> and
<b>d2i_PrivateKey_bio()</b> functions are similar to
<b>d2i_PrivateKey_ex()</b> and <b>d2i_PrivateKey()</b>
respectively except that they decode the data read from the
given BIO. The <b>d2i_PrivateKey_ex_fp()</b> and
<b>d2i_PrivateKey_fp()</b> functions are the same except
that they read the data from the given FILE.</p>
<p style="margin-left:9%; margin-top: 1em"><b>d2i_AutoPrivateKey_ex()</b>
and <b>d2i_AutoPrivateKey()</b> are similar to
<b>d2i_PrivateKey_ex()</b> and <b>d2i_PrivateKey()</b>
respectively except that they attempt to automatically
detect the private key format.</p>
<p style="margin-left:9%; margin-top: 1em"><b>i2d_PrivateKey()</b>
encodes <i>a</i>. It uses a key specific format or, if none
is defined for that key type, PKCS#8 unencrypted
PrivateKeyInfo format. <b>i2d_PublicKey()</b> does the same
for public keys. <b>i2d_KeyParams()</b> does the same for
key parameters. These functions are similar to the
<b>d2i_X509()</b> functions; see <b>d2i_X509</b>(3).
<b>i2d_PrivateKey_bio()</b> and <b>i2d_PrivateKey_fp()</b>
do the same thing except that they encode to a <b>BIO</b> or
<b>FILE</b> respectively. Again, these work similarly to the
functions described in <b>d2i_X509</b>(3).</p>
<h2>NOTES
<a name="NOTES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">All the
functions that operate on data in memory update the data
pointer <i>*pp</i> after a successful operation, just like
the other d2i and i2d functions; see <b>d2i_X509</b>(3).</p>
<p style="margin-left:9%; margin-top: 1em">All these
functions use DER format and unencrypted keys. Applications
wishing to encrypt or decrypt private keys should use other
functions such as <b>d2i_PKCS8PrivateKey()</b> instead.</p>
<p style="margin-left:9%; margin-top: 1em">To decode a key
with type <b>EVP_PKEY_EC</b>, <b>d2i_PublicKey()</b>
requires <i>*a</i> to be a non−NULL EVP_PKEY structure
assigned an EC_KEY structure referencing the proper
EC_GROUP.</p>
<h2>RETURN VALUES
<a name="RETURN VALUES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The
<b>d2i_PrivateKey_ex()</b>, <b>d2i_PrivateKey()</b>,
<b>d2i_AutoPrivateKey_ex()</b>, <b>d2i_AutoPrivateKey()</b>,
<b>d2i_PrivateKey_ex_bio()</b>, <b>d2i_PrivateKey_bio()</b>,
<b>d2i_PrivateKey_ex_fp()</b>, <b>d2i_PrivateKey_fp()</b>,
<b>d2i_PublicKey()</b>, <b>d2i_KeyParams()</b> and
<b>d2i_KeyParams_bio()</b> functions return a valid
<b>EVP_PKEY</b> structure or NULL if an error occurs. The
error code can be obtained by calling
<b>ERR_get_error</b>(3).</p>
<p style="margin-left:9%; margin-top: 1em"><b>i2d_PrivateKey()</b>,
<b>i2d_PublicKey()</b> and <b>i2d_KeyParams()</b> return the
number of bytes successfully encoded or a negative value if
an error occurs. The error code can be obtained by calling
<b>ERR_get_error</b>(3).</p>
<p style="margin-left:9%; margin-top: 1em"><b>i2d_PrivateKey_bio()</b>,
<b>i2d_PrivateKey_fp()</b> and <b>i2d_KeyParams_bio()</b>
return 1 if successfully encoded or zero if an error
occurs.</p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>crypto</b>(7),
<b>d2i_PKCS8PrivateKey_bio</b>(3)</p>
<h2>HISTORY
<a name="HISTORY"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>d2i_PrivateKey_ex()</b>,
<b>d2i_PrivateKey_ex_bio()</b>,
<b>d2i_PrivateKey_ex_fp()</b>, and
<b>d2i_AutoPrivateKey_ex()</b> were added in OpenSSL
3.0.</p>
<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Copyright
2017−2021 The OpenSSL Project Authors. All Rights
Reserved.</p>
<p style="margin-left:9%; margin-top: 1em">Licensed under
the Apache License 2.0 (the "License"). You may
not use this file except in compliance with the License. You
can obtain a copy in the file LICENSE in the source
distribution or at
&lt;https://www.openssl.org/source/license.html&gt;.</p>
<hr/>
</body>
</html>
