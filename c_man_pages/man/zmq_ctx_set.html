<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 19:57:20 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>ZMQ_CTX_SET</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">ZMQ_CTX_SET</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#ZMQ_BLOCKY: Fix blocky behavior">ZMQ_BLOCKY: Fix blocky behavior</a><br/>
<a href="#ZMQ_IO_THREADS: Set number of I/O threads">ZMQ_IO_THREADS: Set number of I/O threads</a><br/>
<a href="#ZMQ_THREAD_SCHED_POLICY: Set scheduling policy for I/O threads">ZMQ_THREAD_SCHED_POLICY: Set scheduling policy for I/O threads</a><br/>
<a href="#ZMQ_THREAD_PRIORITY: Set scheduling priority for I/O threads">ZMQ_THREAD_PRIORITY: Set scheduling priority for I/O threads</a><br/>
<a href="#ZMQ_THREAD_AFFINITY_CPU_ADD: Add a CPU to list of affinity for I/O threads">ZMQ_THREAD_AFFINITY_CPU_ADD: Add a CPU to list of affinity for I/O threads</a><br/>
<a href="#ZMQ_THREAD_AFFINITY_CPU_REMOVE: Remove a CPU to list of affinity for I/Othreads">ZMQ_THREAD_AFFINITY_CPU_REMOVE: Remove a CPU to list of affinity for I/Othreads</a><br/>
<a href="#ZMQ_THREAD_NAME_PREFIX: Set name prefix for I/O threads">ZMQ_THREAD_NAME_PREFIX: Set name prefix for I/O threads</a><br/>
<a href="#ZMQ_MAX_MSGSZ: Set maximum message size">ZMQ_MAX_MSGSZ: Set maximum message size</a><br/>
<a href="#ZMQ_ZERO_COPY_RECV: Specify message decoding strategy">ZMQ_ZERO_COPY_RECV: Specify message decoding strategy</a><br/>
<a href="#ZMQ_MAX_SOCKETS: Set maximum number of sockets">ZMQ_MAX_SOCKETS: Set maximum number of sockets</a><br/>
<a href="#ZMQ_IPV6: Set IPv6 option">ZMQ_IPV6: Set IPv6 option</a><br/>
<a href="#RETURN VALUE">RETURN VALUE</a><br/>
<a href="#ERRORS">ERRORS</a><br/>
<a href="#EXAMPLE">EXAMPLE</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<a href="#AUTHORS">AUTHORS</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">zmq_ctx_set
− set context options</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>int
zmq_ctx_set (void</b> <i>*context</i><b>, int</b>
<i>option_name</i><b>, int</b>
<i>option_value</i><b>);</b></p>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The
<i>zmq_ctx_set()</i> function shall set the option specified
by the <i>option_name</i> argument to the value of the
<i>option_value</i> argument.</p>
<p style="margin-left:9%; margin-top: 1em">The
<i>zmq_ctx_set()</i> function accepts the following
options:</p>
<h3>ZMQ_BLOCKY: Fix blocky behavior
<a name="ZMQ_BLOCKY: Fix blocky behavior"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">By default the
context will block, forever, on a zmq_ctx_term call. The
assumption behind this behavior is that abrupt termination
will cause message loss. Most real applications use some
form of handshaking to ensure applications receive
termination messages, and then terminate the context with
<i>ZMQ_LINGER</i> set to zero on all sockets. This setting
is an easier way to get the same result. When
<i>ZMQ_BLOCKY</i> is set to false, all new sockets are given
a linger timeout of zero. You must still close all sockets
before calling zmq_ctx_term.</p>
<h3>ZMQ_IO_THREADS: Set number of I/O threads
<a name="ZMQ_IO_THREADS: Set number of I/O threads"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">The
<i>ZMQ_IO_THREADS</i> argument specifies the size of the 0MQ
thread pool to handle I/O operations. If your application is
using only the <i>inproc</i> transport for messaging you may
set this to zero, otherwise set it to at least one. This
option only applies before creating any sockets on the
context.</p>
<h3>ZMQ_THREAD_SCHED_POLICY: Set scheduling policy for I/O threads
<a name="ZMQ_THREAD_SCHED_POLICY: Set scheduling policy for I/O threads"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">The
<i>ZMQ_THREAD_SCHED_POLICY</i> argument sets the scheduling
policy for internal context’s thread pool. This option
is not available on windows. Supported values for this
option can be found in sched.h file, or at
<b><font color="#0000FF">http://man7.org/linux/man−pages/man2/sched_setscheduler.2.html</font></b><font color="#000000">.
This option only applies before creating any sockets on the
context.</font></p>
<h3>ZMQ_THREAD_PRIORITY: Set scheduling priority for I/O threads
<a name="ZMQ_THREAD_PRIORITY: Set scheduling priority for I/O threads"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000">The
<i>ZMQ_THREAD_PRIORITY</i> argument sets scheduling priority
for internal context’s thread pool. This option is not
available on windows. Supported values for this option
depend on chosen scheduling policy. On Linux, when the
scheduler policy is SCHED_OTHER, SCHED_IDLE or SCHED_BATCH,
the OS scheduler will not use the thread priority but rather
the thread "nice value"; in such cases, if
<i>ZMQ_THREAD_PRIORITY</i> is set to a strictly positive
value, the system call "nice" will be used to set
the nice value to −20 (max priority) instead of
adjusting the thread priority (which must be zero for those
scheduling policies). Details can be found in sched.h file,
or at</font>
<b><font color="#0000FF">http://man7.org/linux/man−pages/man2/sched_setscheduler.2.html</font></b><font color="#000000">.
This option only applies before creating any sockets on the
context.</font></p>
<h3>ZMQ_THREAD_AFFINITY_CPU_ADD: Add a CPU to list of affinity for I/O threads
<a name="ZMQ_THREAD_AFFINITY_CPU_ADD: Add a CPU to list of affinity for I/O threads"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000">The
<i>ZMQ_THREAD_AFFINITY_CPU_ADD</i> argument adds a specific
CPU to the affinity list for the internal context’s
thread pool. This option is only supported on Linux. This
option only applies before creating any sockets on the
context. The default affinity list is empty and means that
no explicit CPU−affinity will be set on internal
context’s threads.</font></p>
<h3>ZMQ_THREAD_AFFINITY_CPU_REMOVE: Remove a CPU to list of affinity for I/Othreads
<a name="ZMQ_THREAD_AFFINITY_CPU_REMOVE: Remove a CPU to list of affinity for I/Othreads"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000">The
<i>ZMQ_THREAD_AFFINITY_CPU_REMOVE</i> argument removes a
specific CPU to the affinity list for the internal
context’s thread pool. This option is only supported
on Linux. This option only applies before creating any
sockets on the context. The default affinity list is empty
and means that no explicit CPU−affinity will be set on
internal context’s threads.</font></p>
<h3>ZMQ_THREAD_NAME_PREFIX: Set name prefix for I/O threads
<a name="ZMQ_THREAD_NAME_PREFIX: Set name prefix for I/O threads"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000">The
<i>ZMQ_THREAD_NAME_PREFIX</i> argument sets a numeric prefix
to each thread created for the internal context’s
thread pool. This option is only supported on Linux. This
option is useful to help debugging done via "top
−H" or "gdb"; in case multiple
processes on the system are using ZeroMQ it is useful to
provide through this context option an
application−specific prefix to distinguish ZeroMQ
background threads that belong to different processes. This
option only applies before creating any sockets on the
context.</font></p>
<h3>ZMQ_MAX_MSGSZ: Set maximum message size
<a name="ZMQ_MAX_MSGSZ: Set maximum message size"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000">The
<i>ZMQ_MAX_MSGSZ</i> argument sets the maximum allowed size
of a message sent in the context. You can query the maximal
allowed value with <b>zmq_ctx_get</b>(3) using the
<i>ZMQ_MAX_MSGSZ</i> option.</font></p>
<h3>ZMQ_ZERO_COPY_RECV: Specify message decoding strategy
<a name="ZMQ_ZERO_COPY_RECV: Specify message decoding strategy"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000">The
<i>ZMQ_ZERO_COPY_RECV</i> argument specifies whether the
message decoder should use a zero copy strategy when
receiving messages. The zero copy strategy can lead to
increased memory usage in some cases. This option allows you
to use the older copying strategy. You can query the value
of this option with <b>zmq_ctx_get</b>(3) using the
<i>ZMQ_ZERO_COPY_RECV</i> option. NOTE: in DRAFT state, not
yet available in stable releases.</font></p>
<h3>ZMQ_MAX_SOCKETS: Set maximum number of sockets
<a name="ZMQ_MAX_SOCKETS: Set maximum number of sockets"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000">The
<i>ZMQ_MAX_SOCKETS</i> argument sets the maximum number of
sockets allowed on the context. You can query the maximal
allowed value with <b>zmq_ctx_get</b>(3) using the
<i>ZMQ_SOCKET_LIMIT</i> option.</font></p>
<h3>ZMQ_IPV6: Set IPv6 option
<a name="ZMQ_IPV6: Set IPv6 option"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000">The
<i>ZMQ_IPV6</i> argument sets the IPv6 value for all sockets
created in the context from this point onwards. A value of 1
means IPv6 is enabled, while 0 means the socket will use
only IPv4. When IPv6 is enabled, a socket will connect to,
or accept connections from, both IPv4 and IPv6
hosts.</font></p>
<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000">The
<i>zmq_ctx_set()</i> function returns zero if successful.
Otherwise it returns −1 and sets <i>errno</i> to one
of the values defined below.</font></p>
<h2>ERRORS
<a name="ERRORS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000"><b>EINVAL</b></font></p>
<p style="margin-left:14%;"><font color="#000000">The
requested option <i>option_name</i> is unknown.</font></p>
<h2>EXAMPLE
<a name="EXAMPLE"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000"><b>Setting
a limit on the number of sockets</b>.</font></p>
<p style="margin-left:14%; margin-top: 1em"><font color="#000000">void
*context = zmq_ctx_new (); <br/>
zmq_ctx_set (context, ZMQ_MAX_SOCKETS, 256); <br/>
int max_sockets = zmq_ctx_get (context, ZMQ_MAX_SOCKETS);
<br/>
assert (max_sockets == 256);</font></p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000"><b>zmq_ctx_get</b>(3)
<b>zmq</b>(7)</font></p>
<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000">This
page was written by the 0MQ community. To make a change
please read the 0MQ Contribution Policy at</font>
<b><font color="#0000FF">http://www.zeromq.org/docs:contributing</font></b><font color="#000000">.</font></p>
<hr/>
</body>
</html>
