<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 20:48:51 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SD_HWDB_NEW</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">SD_HWDB_NEW</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#RETURN VALUE">RETURN VALUE</a><br/>
<a href="#Errors">Errors</a><br/>
<a href="#NOTES">NOTES</a><br/>
<a href="#HISTORY">HISTORY</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">sd_hwdb_new,
sd_hwdb_new_from_path, sd_hwdb_ref, sd_hwdb_unref −
Create a new hwdb object and create or destroy references to
it</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>#include
&lt;systemd/sd−hwdb.h&gt;</b></p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="77%">
<p style="margin-top: 1em"><b>int
sd_hwdb_new(sd_hwdb **</b><i>hwdb</i><b>);</b></p> </td>
<td width="14%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="77%">
<p style="margin-top: 1em"><b>int
sd_hwdb_new_from_path(const char *</b><i>path</i><b>,
sd_hwdb **</b><i>hwdb</i><b>);</b></p> </td>
<td width="14%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="77%">
<p style="margin-top: 1em"><b>sd_hwdb*
sd_hwdb_ref(sd_hwdb *</b><i>hwdb</i><b>);</b></p> </td>
<td width="14%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="77%">
<p style="margin-top: 1em"><b>sd_hwdb*
sd_hwdb_unref(sd_hwdb *</b><i>hwdb</i><b>);</b></p> </td>
<td width="14%">
</td></tr>
</table>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>sd_hwdb_new()</b>
creates a new hwdb object to access the binary hwdb
database. Upon initialization, the file containing the
binary representation of the hardware database is located
and opened. The new object is returned in <i>hwdb</i>.</p>
<p style="margin-left:9%; margin-top: 1em"><b>sd_hwdb_new_from_path()</b>
may be used to specify the path from which the binary
hardware database should be opened.</p>
<p style="margin-left:9%; margin-top: 1em">The <i>hwdb</i>
object is reference counted. <b>sd_hwdb_ref()</b> and
<b>sd_hwdb_unref()</b> may be used to get a new reference or
destroy an existing reference to an object. The caller must
dispose of the reference acquired with <b>sd_hwdb_new()</b>
by calling <b>sd_hwdb_unref()</b> when done with the
object.</p>
<p style="margin-left:9%; margin-top: 1em">Use
<b>sd_hwdb_seek</b>(3), <b>sd_hwdb_get</b>(3), and
<b>sd_hwdb_enumerate</b>(3) to access entries.</p>
<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">On success,
<b>sd_hwdb_new()</b> and <b>sd_hwdb_new_from_path()</b>
return a non−negative integer. On failure, a negative
errno−style error code is returned.</p>
<p style="margin-left:9%; margin-top: 1em"><b>sd_hwdb_ref()</b>
always returns the argument.</p>
<p style="margin-left:9%; margin-top: 1em"><b>sd_hwdb_unref()</b>
always returns <b>NULL</b>.</p>
<h3>Errors
<a name="Errors"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">Returned errors
may indicate the following problems:</p>
<p style="margin-left:9%; margin-top: 1em"><b>−ENOENT</b></p>
<p style="margin-left:14%;">The binary hardware database
file could not be located. See <b>systemd-hwdb</b>(8) for
more information.</p>
<p style="margin-left:14%; margin-top: 1em">Added in
version 246.</p>
<p style="margin-left:9%; margin-top: 1em"><b>−EINVAL</b></p>
<p style="margin-left:14%;">The located binary hardware
database file is in an incompatible format.</p>
<p style="margin-left:14%; margin-top: 1em">Added in
version 246.</p>
<p style="margin-left:9%; margin-top: 1em"><b>−ENOMEM</b></p>
<p style="margin-left:14%;">Memory allocation failed.</p>
<p style="margin-left:14%; margin-top: 1em">Added in
version 246.</p>
<h2>NOTES
<a name="NOTES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Functions
described here are available as a shared library, which can
be compiled against and linked to with the
<b>libsystemd pkg-config</b>(1) file.</p>
<p style="margin-left:9%; margin-top: 1em">The code
described here uses <b>getenv</b>(3), which is declared to
be not multi−thread−safe. This means that the
code calling the functions described here must not call
<b>setenv</b>(3) from a parallel thread. It is recommended
to only do calls to <b>setenv()</b> from an early phase of
the program when no other threads have been started.</p>
<h2>HISTORY
<a name="HISTORY"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>sd_hwdb_new()</b>,
<b>sd_hwdb_ref()</b>, and <b>sd_hwdb_unref()</b> were added
in version 246.</p>
<p style="margin-left:9%; margin-top: 1em"><b>sd_hwdb_new_from_path()</b>
was added in version 252.</p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>systemd</b>(1),
<b>systemd-udevd.service</b>(8), <b>sd-hwdb</b>(3),
<b>systemd-hwdb</b>(8)</p>
<hr/>
</body>
</html>
