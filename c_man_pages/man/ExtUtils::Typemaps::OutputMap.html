<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 20:43:02 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>ExtUtils::Typemaps::OutputMap</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">ExtUtils::Typemaps::OutputMap</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#METHODS">METHODS</a><br/>
<a href="#new">new</a><br/>
<a href="#code">code</a><br/>
<a href="#xstype">xstype</a><br/>
<a href="#cleaned_code">cleaned_code</a><br/>
<a href="#targetable">targetable</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<a href="#AUTHOR">AUTHOR</a><br/>
<a href="#COPYRIGHT &amp; LICENSE">COPYRIGHT &amp; LICENSE</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">ExtUtils::Typemaps::OutputMap
− Entry in the OUTPUT section of a typemap</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">use
ExtUtils::Typemaps; <br/>
... <br/>
my $output = $typemap−&gt;get_output_map('T_NV'); <br/>
my $code = $output−&gt;code(); <br/>
$output−&gt;code("...");</p>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Refer to
ExtUtils::Typemaps for details.</p>
<h2>METHODS
<a name="METHODS"></a>
</h2>
<h3>new
<a name="new"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">Requires
"xstype" and "code" parameters.</p>
<h3>code
<a name="code"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">Returns or sets
the OUTPUT mapping code for this entry.</p>
<h3>xstype
<a name="xstype"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">Returns the name
of the XS type of the OUTPUT map.</p>
<h3>cleaned_code
<a name="cleaned_code"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">Returns a
cleaned−up copy of the code to which certain
transformations have been applied to make it more ANSI
compliant.</p>
<h3>targetable
<a name="targetable"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">This is an
obscure but effective optimization that used to live in
"ExtUtils::ParseXS" directly. Not implementing it
should never result in incorrect use of typemaps, just less
efficient code.</p>
<p style="margin-left:9%; margin-top: 1em">In a nutshell,
this will check whether the output code involves calling
"sv_setiv", "sv_setuv",
"sv_setnv", "sv_setpv" or
"sv_setpvn" to set the special $arg placeholder to
a new value <b>AT THE END OF THE OUTPUT CODE</b>. If that is
the case, the code is eligible for using the
"TARG"−related macros to optimize this. Thus
the name of the method: "targetable".</p>
<p style="margin-left:9%; margin-top: 1em">If this
optimization is applicable, "ExtUtils::ParseXS"
will emit a "dXSTARG;" definition at the start of
the generated XSUB code, and type (see below) dependent code
to set "TARG" and push it on the stack at the end
of the generated XSUB code.</p>
<p style="margin-left:9%; margin-top: 1em">If the
optimization can not be applied, this returns undef. If it
can be applied, this method returns a hash reference
containing the following information:</p>
<p style="margin-left:9%; margin-top: 1em">type: Any of the
characters i, u, n, p <br/>
with_size: Bool indicating whether this is the sv_setpvn
variant <br/>
what: The code that actually evaluates to the output scalar
<br/>
what_size: If "with_size", this has the string
length (as code, <br/>
not constant, including leading comma)</p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">ExtUtils::Typemaps</p>
<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Steffen Mueller
"&lt;smueller@cpan.org"&gt;</p>
<h2>COPYRIGHT &amp; LICENSE
<a name="COPYRIGHT &amp; LICENSE"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Copyright 2009,
2010, 2011, 2012 Steffen Mueller</p>
<p style="margin-left:9%; margin-top: 1em">This program is
free software; you can redistribute it and/or modify it
under the same terms as Perl itself.</p>
<hr/>
</body>
</html>
