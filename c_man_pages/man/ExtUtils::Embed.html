<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 20:43:01 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>ExtUtils::Embed</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">ExtUtils::Embed</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#@EXPORT">@EXPORT</a><br/>
<a href="#FUNCTIONS">FUNCTIONS</a><br/>
<a href="#EXAMPLES">EXAMPLES</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<a href="#AUTHOR">AUTHOR</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">ExtUtils::Embed
− Utilities for embedding Perl in C/C++
applications</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">perl
−MExtUtils::Embed −e xsinit <br/>
perl −MExtUtils::Embed −e ccopts <br/>
perl −MExtUtils::Embed −e ldopts</p>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">"ExtUtils::Embed"
provides utility functions for embedding a Perl interpreter
and extensions in your C/C++ applications. Typically, an
application <i>Makefile</i> will invoke
"ExtUtils::Embed" functions while building your
application.</p>
<h2>@EXPORT
<a name="@EXPORT"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">"ExtUtils::Embed"
exports the following functions:</p>
<p style="margin-left:9%; margin-top: 1em"><b>xsinit()</b>,
<b>ldopts()</b>, <b>ccopts()</b>, <b>perl_inc()</b>,
<b>ccflags()</b>, <b>ccdlflags()</b>, <b>xsi_header()</b>,
<b>xsi_protos()</b>, <b>xsi_body()</b></p>
<h2>FUNCTIONS
<a name="FUNCTIONS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>xsinit()</b></p>
<p style="margin-left:14%;">Generate C/C++ code for the XS
initializer function.</p>
<p style="margin-left:14%; margin-top: 1em">When invoked as
`perl −MExtUtils::Embed −e xsinit
−−` the following options are recognized:</p>
<p style="margin-left:14%; margin-top: 1em"><b>−o</b>
&lt;output filename&gt; (Defaults to <b>perlxsi.c</b>)</p>
<p style="margin-left:14%; margin-top: 1em"><b>−o
STDOUT</b> will print to STDOUT.</p>
<p style="margin-left:14%; margin-top: 1em"><b>−std</b>
(Write code for extensions that are linked with the current
Perl.)</p>
<p style="margin-left:14%; margin-top: 1em">Any additional
arguments are expected to be names of modules to generate
code for.</p>
<p style="margin-left:14%; margin-top: 1em">When invoked
with parameters the following are accepted and optional:</p>
<p style="margin-left:14%; margin-top: 1em">"xsinit($filename,$std,[@modules])"</p>
<p style="margin-left:14%; margin-top: 1em">Where,</p>
<p style="margin-left:14%; margin-top: 1em"><b>$filename</b>
is equivalent to the <b>−o</b> option.</p>
<p style="margin-left:14%; margin-top: 1em"><b>$std</b> is
boolean, equivalent to the <b>−std</b> option.</p>
<p style="margin-left:14%; margin-top: 1em"><b>[@modules]</b>
is an array ref, same as additional arguments mentioned
above.</p>
<p style="margin-left:9%;">Examples</p>
<p style="margin-left:14%;">perl −MExtUtils::Embed
−e xsinit −− −o xsinit.c Socket</p>
<p style="margin-left:14%; margin-top: 1em">This will
generate code with an "xs_init" function that
glues the perl "Socket::bootstrap" function to the
C "boot_Socket" function and writes it to a file
named <i>xsinit.c</i>.</p>
<p style="margin-left:14%; margin-top: 1em">Note that
DynaLoader is a special case where it must call
"boot_DynaLoader" directly.</p>
<p style="margin-left:14%; margin-top: 1em">perl
−MExtUtils::Embed −e xsinit</p>
<p style="margin-left:14%; margin-top: 1em">This will
generate code for linking with "DynaLoader" and
each static extension found in $Config{static_ext}. The code
is written to the default file name <i>perlxsi.c</i>.</p>
<p style="margin-left:14%; margin-top: 1em">perl
−MExtUtils::Embed −e xsinit −−
−o xsinit.c \ <br/>
−std DBI DBD::Oracle</p>
<p style="margin-left:14%; margin-top: 1em">Here, code is
written for all the currently linked extensions along with
code for "DBI" and "DBD::Oracle".</p>
<p style="margin-left:14%; margin-top: 1em">If you have a
working "DynaLoader" then there is rarely any need
to statically link in any other extensions.</p>
<p style="margin-left:9%;"><b>ldopts()</b></p>
<p style="margin-left:14%;">Output arguments for linking
the Perl library and extensions to your application.</p>
<p style="margin-left:14%; margin-top: 1em">When invoked as
`perl −MExtUtils::Embed −e ldopts
−−` the following options are recognized:</p>
<p style="margin-left:14%; margin-top: 1em"><b>−std</b></p>
<p style="margin-left:14%; margin-top: 1em">Output
arguments for linking the Perl library and any extensions
linked with the current Perl.</p>
<p style="margin-left:14%; margin-top: 1em"><b>−I</b>
&lt;path1:path2&gt;</p>
<p style="margin-left:14%; margin-top: 1em">Search path for
ModuleName.a archives. Default path is @INC. Library
archives are expected to be found as
<i>/some/path/auto/ModuleName/ModuleName.a</i> For example,
when looking for <i>Socket.a</i> relative to a search path,
we should find <i>auto/Socket/Socket.a</i></p>
<p style="margin-left:14%; margin-top: 1em">When looking
for "DBD::Oracle" relative to a search path, we
should find <i>auto/DBD/Oracle/Oracle.a</i></p>
<p style="margin-left:14%; margin-top: 1em">Keep in mind
that you can always supply <i>/my/own/path/ModuleName.a</i>
as an additional linker argument.</p>
<p style="margin-left:14%; margin-top: 1em"><b>−−</b>
&lt;list of linker args&gt;</p>
<p style="margin-left:14%; margin-top: 1em">Additional
linker arguments to be considered.</p>
<p style="margin-left:14%; margin-top: 1em">Any additional
arguments found before the <b>−−</b> token are
expected to be names of modules to generate code for.</p>
<p style="margin-left:14%; margin-top: 1em">When invoked
with parameters the following are accepted and optional:</p>
<p style="margin-left:14%; margin-top: 1em">"ldopts($std,[@modules],[@link_args],$path)"</p>
<p style="margin-left:14%; margin-top: 1em">Where:</p>
<p style="margin-left:14%; margin-top: 1em"><b>$std</b> is
boolean, equivalent to the <b>−std</b> option.</p>
<p style="margin-left:14%; margin-top: 1em"><b>[@modules]</b>
is equivalent to additional arguments found before the
<b>−−</b> token.</p>
<p style="margin-left:14%; margin-top: 1em"><b>[@link_args]</b>
is equivalent to arguments found after the
<b>−−</b> token.</p>
<p style="margin-left:14%; margin-top: 1em"><b>$path</b> is
equivalent to the <b>−I</b> option.</p>
<p style="margin-left:14%; margin-top: 1em">In addition,
when ldopts is called with parameters, it will return the
argument string rather than print it to STDOUT.</p>
<p style="margin-left:9%;">Examples</p>
<p style="margin-left:14%;">perl −MExtUtils::Embed
−e ldopts</p>
<p style="margin-left:14%; margin-top: 1em">This will print
arguments for linking with "libperl" and
extensions found in $Config{static_ext}. This includes
libraries found in $Config{libs} and the first ModuleName.a
library for each extension that is found by searching @INC
or the path specified by the <b>−I</b> option. In
addition, when ModuleName.a is found, additional linker
arguments are picked up from the <i>extralibs.ld</i> file in
the same directory.</p>
<p style="margin-left:14%; margin-top: 1em">perl
−MExtUtils::Embed −e ldopts −−
−std Socket</p>
<p style="margin-left:14%; margin-top: 1em">This will do
the same as the above example, along with printing
additional arguments for linking with the "Socket"
extension.</p>
<p style="margin-left:14%; margin-top: 1em">perl
−MExtUtils::Embed −e ldopts −−
−std Msql −− \ <br/>
−L/usr/msql/lib −lmsql</p>
<p style="margin-left:14%; margin-top: 1em">Any arguments
after the second ’−−’ token are
additional linker arguments that will be examined for
potential conflict. If there is no conflict, the additional
arguments will be part of the output.</p>
<p style="margin-left:9%;"><b>perl_inc()</b></p>
<p style="margin-left:14%;">For including perl header files
this function simply prints:</p>
<p style="margin-left:14%; margin-top: 1em">−I$Config{archlibexp}/CORE</p>
<p style="margin-left:14%; margin-top: 1em">So, rather than
having to say:</p>
<p style="margin-left:14%; margin-top: 1em">perl
−MConfig −e 'print
"−I$Config{archlibexp}/CORE"'</p>
<p style="margin-left:14%; margin-top: 1em">Just say:</p>
<p style="margin-left:14%; margin-top: 1em">perl
−MExtUtils::Embed −e perl_inc</p>
<p style="margin-left:9%;"><b>ccflags()</b>,
<b>ccdlflags()</b></p>
<p style="margin-left:14%;">These functions simply print
$Config{ccflags} and $Config{ccdlflags}</p>
<p style="margin-left:9%;"><b>ccopts()</b></p>
<p style="margin-left:14%;">This function combines
perl_inc(), ccflags() and ccdlflags() into one.</p>
<p style="margin-left:9%;"><b>xsi_header()</b></p>
<p style="margin-left:14%;">This function simply returns a
string defining the same "EXTERN_C" macro as
<i>perlmain.c</i> along with #including <i>perl.h</i> and
<i>EXTERN.h</i>.</p>
<p style="margin-left:9%;">xsi_protos(@modules)</p>
<p style="margin-left:14%;">This function returns a string
of "boot_$ModuleName" prototypes for each
@modules.</p>
<p style="margin-left:9%;">xsi_body(@modules)</p>
<p style="margin-left:14%;">This function returns a string
of calls to newXS() that glue the module <i>bootstrap</i>
function to <i>boot_ModuleName</i> for each @modules.</p>
<p style="margin-left:14%; margin-top: 1em">xsinit() uses
the xsi_* functions to generate most of its code.</p>
<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">For examples on
how to use "ExtUtils::Embed" for building C/C++
applications with embedded perl, see perlembed.</p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">perlembed</p>
<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Doug MacEachern
&lt;"dougm@osf.org"&gt;</p>
<p style="margin-left:9%; margin-top: 1em">Based on ideas
from Tim Bunce &lt;"Tim.Bunce@ig.co.uk"&gt; and
<i>minimod.pl</i> by Andreas Koenig
&lt;"k@anna.in−berlin.de"&gt; and Tim
Bunce.</p>
<hr/>
</body>
</html>
