<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 19:48:04 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>Locale::gettext_dumb</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">Locale::gettext_dumb</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#USAGE">USAGE</a><br/>
<a href="#EXAMPLE">EXAMPLE</a><br/>
<a href="#AUTHOR">AUTHOR</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Locale::gettext_dumb
− Locale unaware Implementation of Uniforum Message
Translation</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">use
Locale::gettext_dumb qw(:locale_h :libintl_h); <br/>
# Normally, you will not want to include this module
directly but this way: <br/>
use Locale::Messages; <br/>
my $selected = Locale::Messages−&gt;select_package
('gettext_dumb'); <br/>
gettext $msgid; <br/>
dgettext $domainname, $msgid; <br/>
dcgettext $domainname, $msgid, LC_MESSAGES; <br/>
ngettext $msgid, $msgid_plural, $count; <br/>
dngettext $domainname, $msgid, $msgid_plural, $count; <br/>
dcngettext $domainname, $msgid, $msgid_plural, $count,
LC_MESSAGES; <br/>
pgettext $msgctxt, $msgid; <br/>
dpgettext $domainname, $msgctxt, $msgid; <br/>
dcpgettext $domainname, $msgctxt, $msgid, LC_MESSAGES; <br/>
npgettext $msgctxt, $msgid, $msgid_plural, $count; <br/>
dnpgettext $domainname, $msgctxt, $msgid, $msgid_plural,
$count; <br/>
dcnpgettext $domainname, $msgctxt, $msgid, $msgid_plural,
$count, LC_MESSAGES; <br/>
textdomain $domainname; <br/>
bindtextdomain $domainname, $directory; <br/>
bind_textdomain_codeset $domainname, $encoding; <br/>
my $category = LC_CTYPE; <br/>
my $category = LC_NUMERIC; <br/>
my $category = LC_TIME; <br/>
my $category = LC_COLLATE; <br/>
my $category = LC_MONETARY; <br/>
my $category = LC_MESSAGES; <br/>
my $category = LC_ALL;</p>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>IMPORTANT!</b>
This module is experimental. It may not work as
described!</p>
<p style="margin-left:9%; margin-top: 1em">The module
<b>Locale::gettext_dumb</b> does exactly the same as
<b>Locale::gettext_xs</b>(3pm) or
<b>Locale::gettext_pp</b>(3pm).</p>
<p style="margin-left:9%; margin-top: 1em">While both other
modules use <b>POSIX::setlocale()</b> to determine the
currently selected locale, this backend only checks the
environment variables LANGUAGE, LANG, LC_ALL, LC_MESSAGES
(in that order), when it tries to locate a message catalog
(a .mo file).</p>
<p style="margin-left:9%; margin-top: 1em">This class was
introduced in libintl−perl 1.22.</p>
<h2>USAGE
<a name="USAGE"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">This module
should not be used for desktop software or scripts run
locally. Why? If you use a message catalog for example in
Danish in UTF−8 (da_DA.UTF8) but the system locale is
set to Russian with KOI8−R (ru_RU.KOI8−R) you
may produce invalid output, either invalid multi−byte
sequences or invalid text, depending on how you look at
it.</p>
<p style="margin-left:9%; margin-top: 1em">That will
happen, when you mix output from <b>Locale::gettext_pp</b>
with locale−dependent output from the operating system
like the contents of the variable "$!", date and
time formatting functions (<b>localtime()</b>,
<b>gmtime()</b>, <b>POSIX::strftime()</b> etc.), number
formatting with <b>printf()</b> and friends, and so on.</p>
<p style="margin-left:9%; margin-top: 1em">A typical usage
scenario looks like this:</p>
<p style="margin-left:9%; margin-top: 1em">You have a
server application (for example a web application) that is
supposed to display a fixed set of messages in many
languages. If you want to do this with
<b>Locale::gettext_xs</b>(3pm) or
<b>Locale::gettext_pp</b>(3pm), you have to install the
locale data for all of those languages. Otherwise,
translating the messages will not work.</p>
<p style="margin-left:9%; margin-top: 1em">With
<b>Locale::gettext_dumb</b>(3pm) you can relax these
requirements, and display messages for all languages that
you have mo files for.</p>
<p style="margin-left:9%; margin-top: 1em">On the other
hand, you will soon reach limits with this approach. Almost
any application requires more than bare translation of
messages for localisation. You want to formatted dates and
times, you want to display numbers in the correct formatting
for the selected languages, and you may want to display
system error messages ("$!").</p>
<p style="margin-left:9%; margin-top: 1em">In practice,
<b>Locale::gettext_dumb</b>(3pm) is still useful in these
scenarios. Your users will have to live with the fact that
the presented output is in different languages resp. for
different locales, when "their" locale is not
installed on your system.</p>
<p style="margin-left:9%; margin-top: 1em">More dangerous
is mixing output in different character sets but that can be
easily avoided. Simply make sure that
<b>Locale::gettext_dump</b> uses UTF−8 (for example by
setting the environment variable OUTPUT_CHARSET or by
calling <b>bind_textdomain_codeset()</b>) and make sure that
the system locale also uses UTF−8, for example
"en_US.UTF8". If that fails, switch to a locale
that uses a subset of UTF−8. In practice that will be
US−ASCII, the character set used by the default locale
"C" resp. "POSIX".</p>
<p style="margin-left:9%; margin-top: 1em">Your application
will then to a certain extent mix output for different
localisations resp. languages. But this is completely under
your control.</p>
<h2>EXAMPLE
<a name="EXAMPLE"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">See above!
Normally you should not use this module! However, let us
assume you have read the warnings. In a web application you
would do something like this:</p>
<p style="margin-left:9%; margin-top: 1em">use
Locale::TextDomain qw (com.example.yourapp); <br/>
use Locale::Messages qw (nl_putenv LC_ALL bindtextdomain
<br/>
bind_textdomain_codeset); <br/>
use Locale::Util qw (web_set_locale); <br/>
use POSIX qw (setlocale); <br/>
# First try to switch to the locale requested by the user.
If you <br/>
# know it you can try to pass it to setlocale like this:
<br/>
# <br/>
# my $hardcoded_locale = 'fr_FR.UTF−8'; <br/>
# my $success = POSIX::setlocale (LC_ALL,
$hardcoded_locale); <br/>
# <br/>
# However, we try to let libintl−perl do a better job
for us: <br/>
my $success = web_set_locale $ENV{HTTP_ACCEPT_LANGUAGE},
<br/>
$ENV{HTTP_ACCEPT_CHARSET}; <br/>
# Note: If your application forces the use of UTF−8
for its output <br/>
# you should pass 'UTF−8' as the second argument to
web_set_locale <br/>
# instead of $ENV{HTTP_ACCEPT_CHARSET}. <br/>
if (!$success) { <br/>
# Did not work. Switch to the dumb interface of <br/>
# Locale::Messages. <br/>
Locale::Messages−&gt;select_package ('gettext_dumb');
<br/>
# And try to switch to a default locale: <br/>
if (!setlocale (LC_ALL, 'en_US.UTF−8')) { <br/>
# Still no luck. Enforce at least US−ASCII: <br/>
setlocale (LC_ALL, 'C'); <br/>
} <br/>
bind_textdomain_codeset 'com.example.yourapp',
'utf−8'; <br/>
}</p>
<p style="margin-left:9%; margin-top: 1em">If your
application forces the usage of UTF−8 you should
ignore the environment variable</p>
<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Copyright (C)
2002−2017 Guido Flohr
&lt;http://www.guido-flohr.net/&gt;
(&lt;mailto:guido.flohr@cantanea.com&gt;), all rights
reserved. See the source code for details!code for
details!</p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>Locale::TextDomain</b>(3pm),
<b>Locale::Messages</b>(3pm), <b>Encode</b>(3pm),
<b>perllocale</b>(3pm), <b>POSIX</b>(3pm), <b>perl</b>(1),
<b>gettext</b>(1), <b>gettext</b>(3)</p>
<hr/>
</body>
</html>
