<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 19:56:50 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>XkbSetControls</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">XkbSetControls</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#ARGUMENTS">ARGUMENTS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#RETURN VALUES">RETURN VALUES</a><br/>
<a href="#DIAGNOSTICS">DIAGNOSTICS</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">XkbSetControls
− Copies changes to the X server based on a modified
ctrls structure in a local copy of the keyboard
description</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="24%">
<p style="margin-top: 1em"><b>Bool XkbSetControls</b></p></td>
<td width="2%"></td>
<td width="65%">
<p style="margin-top: 1em"><b>(Display
*</b><i>display</i><b>, unsigned long</b> <i>which</i><b>,
XkbDescPtr</b></p> </td></tr>
</table>
<p style="margin-left:9%;"><i>xkb</i><b>);</b></p>
<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b><i>display</i></b></p>
<p style="margin-left:18%;">connection to X server</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="6%">
<p><i>which</i></p></td>
<td width="3%"></td>
<td width="58%">
<p>mask of controls requested</p></td>
<td width="24%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="6%">
<p><i>xkb</i></p></td>
<td width="3%"></td>
<td width="58%">
<p>keyboard description for controls information</p></td>
<td width="24%">
</td></tr>
</table>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">For each bit
that is set in the <i>which</i> parameter,
<i>XkbSetControls</i> sends the corresponding values from
the <i>xkb-&gt;ctrls</i> field to the server. Valid values
for <i>which</i> are any combination of the masks listed in
Table 1 that have "ok" in the <i>which</i>
column.</p>
<p style="margin-left:9%; margin-top: 1em">Table 1 shows
the actual values for the individual mask bits used to
select controls for modification and to enable and disable
the control. Note that the same mask bit is used to specify
general modifications to the parameters used to configure
the control (which), and to enable and disable the control
(enabled_ctrls). The anomalies in the table (no
"ok" in column) are for controls that have no
configurable attributes; and for controls that are not
boolean controls and therefore cannot be enabled or
disabled.</p>
<p style="margin-left:9%; margin-top: 1em">If
<i>xkb-&gt;ctrls</i> is NULL, the server does not support a
compatible version of Xkb, or the Xkb extension has not been
properly initialized, <i>XkbSetControls</i> returns False.
Otherwise, it sends the request to the X server and returns
True.</p>
<p style="margin-left:9%; margin-top: 1em">Note that
changes to attributes of controls in the XkbControlsRec
structure are apparent only when the associated control is
enabled, although the corresponding values are still updated
in the X server. For example, the <i>repeat_delay</i> and
<i>repeat_interval</i> fields are ignored unless the
RepeatKeys control is enabled (that is, the X server’s
equivalent of <i>xkb-&gt;ctrls</i> has XkbRepeatKeyMask set
in <i>enabled_ctrls).</i> It is permissible to modify the
attributes of a control in one call to <i>XkbSetControls</i>
and enable the control in a subsequent call. See
<i>XkbChangeEnabledControls</i> for more information on
enabling and disabling controls.</p>
<p style="margin-left:9%; margin-top: 1em">Note that the
<i>enabled_ctrls</i> field is itself a control - the
EnabledControls control. As such, to set a specific
configuration of enabled and disabled boolean controls, you
must set <i>enabled_ctrls</i> to the appropriate bits to
enable only the controls you want and disable all others,
then specify the XkbControlsEnabledMask in a call to
<i>XkbSetControls.</i></p>
<p style="margin-left:9%; margin-top: 1em">Because this is
somewhat awkward if all you want to do is enable and disable
controls, and not modify any of their attributes, a
convenience function is also provided for this purpose,
<i>XkbChangeEnabledControls.</i></p>
<h2>RETURN VALUES
<a name="RETURN VALUES"></a>
</h2>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="6%">
<p style="margin-top: 1em">True</p></td>
<td width="13%"></td>
<td width="72%">
<p style="margin-top: 1em">The <i>XkbSetControls</i>
function returns True when it sends the request to the X
server.</p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="6%">
<p>False</p></td>
<td width="13%"></td>
<td width="72%">
<p>The <i>XkbSetControls</i> function returns False when
<i>xkb-&gt;ctrls</i> is NULL, the server does not support a
compatible version of Xkb, or the Xkb extension has not been
properly initialized.</p></td></tr>
</table>
<h2>DIAGNOSTICS
<a name="DIAGNOSTICS"></a>
</h2>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="10%">
<p style="margin-top: 1em"><b>BadAlloc</b></p></td>
<td width="9%"></td>
<td width="72%">
<p style="margin-top: 1em">Unable to allocate storage</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="10%">
<p><b>BadMatch</b></p></td>
<td width="9%"></td>
<td width="72%">
<p>A compatible version of Xkb was not available in the
server or an argument has correct type and range, but is
otherwise invalid</p></td></tr>
</table>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>XkbChangeEnabledControls</b>(3),
<b>XkbFreeControls</b>(3)</p>
<hr/>
</body>
</html>
