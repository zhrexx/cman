<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 19:50:54 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SD_BUS_SET_DESCRIPTION</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">SD_BUS_SET_DESCRIPTION</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#RETURN VALUE">RETURN VALUE</a><br/>
<a href="#Errors">Errors</a><br/>
<a href="#NOTES">NOTES</a><br/>
<a href="#HISTORY">HISTORY</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<a href="#NOTES">NOTES</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">sd_bus_set_description,
sd_bus_get_description, sd_bus_set_anonymous,
sd_bus_is_anonymous, sd_bus_set_trusted, sd_bus_is_trusted,
sd_bus_set_allow_interactive_authorization,
sd_bus_get_allow_interactive_authorization,
sd_bus_get_scope, sd_bus_get_tid, sd_bus_get_unique_name
− Set or query properties of a bus object</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>#include
&lt;systemd/sd−bus.h&gt;</b></p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="86%">
<p style="margin-top: 1em"><b>int
sd_bus_set_description(sd_bus *</b><i>bus</i><b>,
const char *</b><i>description</i><b>);</b></p> </td>
<td width="5%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="86%">
<p style="margin-top: 1em"><b>int
sd_bus_get_description(sd_bus *</b><i>bus</i><b>,
const char **</b><i>description</i><b>);</b></p> </td>
<td width="5%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="86%">
<p style="margin-top: 1em"><b>int
sd_bus_set_anonymous(sd_bus *</b><i>bus</i><b>,
int </b><i>b</i><b>);</b></p> </td>
<td width="5%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="86%">
<p style="margin-top: 1em"><b>int
sd_bus_is_anonymous(sd_bus *</b><i>bus</i><b>);</b></p> </td>
<td width="5%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="86%">
<p style="margin-top: 1em"><b>int
sd_bus_set_trusted(sd_bus *</b><i>bus</i><b>,
int </b><i>b</i><b>);</b></p> </td>
<td width="5%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="86%">
<p style="margin-top: 1em"><b>int
sd_bus_is_trusted(sd_bus *</b><i>bus</i><b>);</b></p> </td>
<td width="5%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="86%">
<p style="margin-top: 1em"><b>int
sd_bus_set_allow_interactive_authorization(sd_bus *</b><i>bus</i><b>,
int </b><i>b</i><b>);</b></p> </td>
<td width="5%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="86%">
<p style="margin-top: 1em"><b>int
sd_bus_get_allow_interactive_authorization(sd_bus *</b><i>bus</i><b>);</b></p> </td>
<td width="5%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="86%">
<p style="margin-top: 1em"><b>int
sd_bus_get_scope(sd_bus *</b><i>bus</i><b>,
const char **</b><i>scope</i><b>);</b></p> </td>
<td width="5%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="86%">
<p style="margin-top: 1em"><b>int
sd_bus_get_tid(sd_bus *</b><i>bus</i><b>,
pid_t *</b><i>tid</i><b>);</b></p> </td>
<td width="5%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="86%">
<p style="margin-top: 1em"><b>int
sd_bus_get_unique_name(sd_bus *</b><i>bus</i><b>,
const char **</b><i>unique</i><b>);</b></p> </td>
<td width="5%">
</td></tr>
</table>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>sd_bus_set_description()</b>
sets the description string that is used in logging to the
specified string. The string is copied internally and freed
when the bus object is deallocated. The <i>description</i>
argument may be <b>NULL</b>, in which case the description
is unset. This function must be called before the bus is
started.</p>
<p style="margin-left:9%; margin-top: 1em"><b>sd_bus_get_description()</b>
returns a description string in <i>description</i>. This
string may have been previously set with
<b>sd_bus_set_description()</b> or
<b>sd_bus_open_with_description</b>(3) or similar. If not
set this way, a default string like "system" or
"user" will be returned for the system or user
buses, and <b>−ENXIO</b> otherwise.</p>
<p style="margin-left:9%; margin-top: 1em"><b>sd_bus_set_anonymous()</b>
enables or disables "anonymous authentication",
i.e. lack of authentication, of the bus peer. This function
must be called before the bus is started. See the
<b><font color="#0000FF">D−Bus Authentication
Mechanisms</font></b>
<small><font color="#000000">[1]</font></small>
<font color="#000000">section of the D−Bus
specification for details.</font></p>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000"><b>sd_bus_is_anonymous()</b>
returns true if the bus connection allows anonymous
authentication (in the sense described in previous
paragraph).</font></p>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000"><b>sd_bus_set_trusted()</b>
sets the "trusted" state on the <i>bus</i> object.
If true, all connections on the bus are trusted and access
to all privileged and unprivileged methods is granted. This
function must be called before the bus is
started.</font></p>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000"><b>sd_bus_is_trusted()</b>
returns true if the bus connection is trusted (in the sense
described in previous paragraph).</font></p>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000"><b>sd_bus_set_allow_interactive_authorization()</b>
enables or disables interactive authorization for method
calls. If true, messages are marked with the
<b>ALLOW_INTERACTIVE_AUTHORIZATION</b> flag specified by
the</font> <b><font color="#0000FF">D−Bus</font></b>
<small><font color="#000000">[2]</font></small>
<font color="#000000">specification, informing the receiving
side that the caller is prepared to wait for interactive
authorization, which might take a considerable time to
complete. If this flag is set, the user may be queried for
passwords or confirmation via</font>
<b><font color="#0000FF">polkit</font></b>
<small><font color="#000000">[3]</font></small>
<font color="#000000">or a similar framework.</font></p>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000"><b>sd_bus_get_allow_interactive_authorization()</b>
returns true if interactive authorization is allowed and
false if not.</font></p>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000"><b>sd_bus_get_scope()</b>
stores the scope of the given bus object in <i>scope</i>.
The scope of the system bus is "system". The scope
of a user session bus is "user". If the given bus
object is not the system or a user session bus,
<b>sd_bus_get_scope()</b> returns an error.</font></p>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000"><b>sd_bus_get_tid()</b>
stores the kernel thread id of the thread associated with
the given bus object in <i>tid</i>. If <i>bus</i> is a
default bus object obtained by calling one of the functions
of the <b>sd_bus_default</b>(3) family of functions, it
stores the thread id of the thread the bus object was
created in. Otherwise, if the bus object is attached to an
event loop, it stores the thread id of the thread the event
loop object was created in. If <i>bus</i> is not a default
bus object and is not attached to an event loop,
<b>sd_bus_get_tid()</b> returns an error.</font></p>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000"><b>sd_bus_get_unique_name()</b>
stores the unique name of the bus object on the bus in
<i>unique</i>. See</font> <b><font color="#0000FF">The
D−Bus specification</font></b>
<small><font color="#000000">[4]</font></small>
<font color="#000000">for more information on bus names.
Note that the caller does not own the string stored in
<i>unique</i> and should not free it.</font></p>
<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000">On
success, these functions return a non−negative
integer. On failure, they return a negative
errno−style error code.</font></p>
<h3>Errors
<a name="Errors"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000">Returned
errors may indicate the following problems:</font></p>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000"><b>−EINVAL</b></font></p>
<p style="margin-left:14%;"><font color="#000000">An
argument is invalid.</font></p>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000"><b>−ENOPKG</b></font></p>
<p style="margin-left:14%;"><font color="#000000">The bus
cannot be resolved.</font></p>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000"><b>−EPERM</b></font></p>
<p style="margin-left:14%;"><font color="#000000">The bus
has already been started.</font></p>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000"><b>−ECHILD</b></font></p>
<p style="margin-left:14%;"><font color="#000000">The bus
was created in a different process, library or module
instance.</font></p>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000"><b>−ENOMEM</b></font></p>
<p style="margin-left:14%;"><font color="#000000">Memory
allocation failed.</font></p>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000"><b>−ENODATA</b></font></p>
<p style="margin-left:14%;"><font color="#000000">The bus
object passed to <b>sd_bus_get_scope()</b> was not a system
or user session bus.</font></p>
<p style="margin-left:14%; margin-top: 1em"><font color="#000000">Added
in version 246.</font></p>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000"><b>−ENXIO</b></font></p>
<p style="margin-left:14%;"><font color="#000000">The bus
object passed to <b>sd_bus_get_tid()</b> was not a default
bus object and is not attached to an event loop.</font></p>
<p style="margin-left:14%; margin-top: 1em"><font color="#000000">The
bus object passed to <b>sd_bus_get_description()</b> did not
have a <i>description</i>.</font></p>
<p style="margin-left:14%; margin-top: 1em"><font color="#000000">Added
in version 246.</font></p>
<h2>NOTES
<a name="NOTES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000">Functions
described here are available as a shared library, which can
be compiled against and linked to with the
<b>libsystemd pkg-config</b>(1) file.</font></p>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000">The
code described here uses <b>getenv</b>(3), which is declared
to be not multi−thread−safe. This means that the
code calling the functions described here must not call
<b>setenv</b>(3) from a parallel thread. It is recommended
to only do calls to <b>setenv()</b> from an early phase of
the program when no other threads have been
started.</font></p>
<h2>HISTORY
<a name="HISTORY"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000"><b>sd_bus_set_description()</b>,
<b>sd_bus_get_description()</b>,
<b>sd_bus_set_anonymous()</b>, <b>sd_bus_set_trusted()</b>,
<b>sd_bus_set_allow_interactive_authorization()</b>, and
<b>sd_bus_get_allow_interactive_authorization()</b> were
added in version 240.</font></p>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000"><b>sd_bus_is_anonymous()</b>,
<b>sd_bus_is_trusted()</b>, <b>sd_bus_get_scope()</b>,
<b>sd_bus_get_tid()</b>, and <b>sd_bus_get_unique_name()</b>
were added in version 246.</font></p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><font color="#000000"><b>systemd</b>(1),
<b>sd-bus</b>(3), <b>sd_bus_default_user</b>(3),
<b>sd_bus_default_system</b>(3), <b>sd_bus_open_user</b>(3),
<b>sd_bus_open_system</b>(3)</font></p>
<h2>NOTES
<a name="NOTES"></a>
</h2>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="10%"></td>
<td width="3%">
<p style="margin-top: 1em"><font color="#000000">1.</font></p> </td>
<td width="1%"></td>
<td width="40%">
<p style="margin-top: 1em"><font color="#000000">D-Bus
Authentication Mechanisms</font></p></td>
<td width="46%">
</td></tr>
</table>
<p style="margin-left:14%;"><font color="#000000">view-source:https://dbus.freedesktop.org/doc/dbus-specification.html#auth-mechanisms</font></p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="10%"></td>
<td width="3%">
<p style="margin-top: 1em"><font color="#000000">2.</font></p> </td>
<td width="1%"></td>
<td width="7%">
<p style="margin-top: 1em"><font color="#000000">D-Bus</font></p> </td>
<td width="79%">
</td></tr>
</table>
<p style="margin-left:14%;"><font color="#000000">view-source:https://dbus.freedesktop.org/doc/dbus-specification.html</font></p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="10%"></td>
<td width="3%">
<p style="margin-top: 1em"><font color="#000000">3.</font></p> </td>
<td width="1%"></td>
<td width="8%">
<p style="margin-top: 1em"><font color="#000000">polkit</font></p> </td>
<td width="78%">
</td></tr>
</table>
<p style="margin-left:14%;"><font color="#000000">https://www.freedesktop.org/wiki/Software/polkit</font></p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="10%"></td>
<td width="3%">
<p style="margin-top: 1em"><font color="#000000">4.</font></p> </td>
<td width="1%"></td>
<td width="30%">
<p style="margin-top: 1em"><font color="#000000">The D-Bus
specification</font></p> </td>
<td width="56%">
</td></tr>
</table>
<p style="margin-left:14%;"><font color="#000000">https://dbus.freedesktop.org/doc/dbus-specification.html#message-protocol-names-bus</font></p>
<hr/>
</body>
</html>
