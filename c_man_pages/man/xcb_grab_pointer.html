<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 20:53:23 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>xcb_grab_pointer</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">xcb_grab_pointer</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#Request function">Request function</a><br/>
<a href="#Reply datastructure">Reply datastructure</a><br/>
<a href="#Reply function">Reply function</a><br/>
<a href="#REQUEST ARGUMENTS">REQUEST ARGUMENTS</a><br/>
<a href="#REPLY FIELDS">REPLY FIELDS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#RETURN VALUE">RETURN VALUE</a><br/>
<a href="#ERRORS">ERRORS</a><br/>
<a href="#EXAMPLE">EXAMPLE</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<a href="#AUTHOR">AUTHOR</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">xcb_grab_pointer
− Grab the pointer</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>#include
&lt;xcb/xproto.h&gt;</b></p>
<h3>Request function
<a name="Request function"></a>
</h3>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="85%">
<p style="margin-top: 1em">xcb_grab_pointer_cookie_t
<b>xcb_grab_pointer</b>(xcb_connection_t *<i>conn</i>,
uint8_t <i>owner_events</i>,
xcb_window_t <i>grab_window</i>,
uint16_t <i>event_mask</i>,
uint8_t <i>pointer_mode</i>,
uint8_t <i>keyboard_mode</i>,
xcb_window_t <i>confine_to</i>,
xcb_cursor_t <i>cursor</i>,
xcb_timestamp_t <i>time</i>);</p> </td>
<td width="6%">
</td></tr>
</table>
<h3>Reply datastructure
<a name="Reply datastructure"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">typedef struct
xcb_grab_pointer_reply_t { <br/>
uint8_t <i>response_type</i>; <br/>
uint8_t <i>status</i>; <br/>
uint16_t <i>sequence</i>; <br/>
uint32_t <i>length</i>; <br/>
} <b>xcb_grab_pointer_reply_t</b>;</p>
<h3>Reply function
<a name="Reply function"></a>
</h3>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="85%">
<p style="margin-top: 1em">xcb_grab_pointer_reply_t
*<b>xcb_grab_pointer_reply</b>(xcb_connection_t *<i>conn</i>,
xcb_grab_pointer_cookie_t <i>cookie</i>,
xcb_generic_error_t **<i>e</i>);</p> </td>
<td width="6%">
</td></tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<h2>REQUEST ARGUMENTS
<a name="REQUEST ARGUMENTS"></a>
</h2>
<td width="9%"></td>
<td width="5%"></td>
<td width="8%"></td>
<td width="33%">
</td>
<td width="45%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="5%">
<p><i>conn</i></p></td>
<td width="8%"></td>
<td width="33%">
<p>The XCB connection to X11.</p></td>
<td width="45%">
</td></tr>
</table>
<p style="margin-left:9%;"><i>owner_events</i></p>
<p style="margin-left:22%;">If 1, the <i>grab_window</i>
will still get the pointer events. If 0, events are not
reported to the <i>grab_window</i>.</p>
<p style="margin-left:9%;"><i>grab_window</i></p>
<p style="margin-left:22%;">Specifies the window on which
the pointer should be grabbed.</p>
<p style="margin-left:9%;"><i>event_mask</i></p>
<p style="margin-left:22%;">Specifies which pointer events
are reported to the client.</p>
<p style="margin-left:22%; margin-top: 1em">TODO: which
values?</p>
<p style="margin-left:9%;"><i>pointer_mode</i></p>
<p style="margin-left:22%;">One of the following values:
<i><br/>
XCB_GRAB_MODE_SYNC</i></p>
<p style="margin-left:35%;">The state of the keyboard
appears to freeze: No further keyboard events are generated
by the server until the grabbing client issues a releasing
<i>AllowEvents</i> request or until the keyboard grab is
released.</p>
<p style="margin-left:22%;"><i>XCB_GRAB_MODE_ASYNC</i></p>
<p style="margin-left:35%;">Keyboard event processing
continues normally.</p>
<p style="margin-left:9%;"><i>keyboard_mode</i></p>
<p style="margin-left:22%;">One of the following values:
<i><br/>
XCB_GRAB_MODE_SYNC</i></p>
<p style="margin-left:35%;">The state of the keyboard
appears to freeze: No further keyboard events are generated
by the server until the grabbing client issues a releasing
<i>AllowEvents</i> request or until the keyboard grab is
released.</p>
<p style="margin-left:22%;"><i>XCB_GRAB_MODE_ASYNC</i></p>
<p style="margin-left:35%;">Keyboard event processing
continues normally.</p>
<p style="margin-left:9%;"><i>confine_to</i></p>
<p style="margin-left:22%;">Specifies the window to confine
the pointer in (the user will not be able to move the
pointer out of that window).</p>
<p style="margin-left:22%; margin-top: 1em">The special
value <i>XCB_NONE</i> means don’t confine the
pointer.</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="8%">
<p><i>cursor</i></p></td>
<td width="5%"></td>
<td width="78%">
<p>Specifies the cursor that should be displayed or
<i>XCB_NONE</i> to not change the cursor.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="8%">
<p><i>time</i></p></td>
<td width="5%"></td>
<td width="78%">
<p>The time argument allows you to avoid certain
circumstances that come up if applications take a long time
to respond or if there are long network delays. Consider a
situation where you have two applications, both of which
normally grab the pointer when clicked on. If both
applications specify the timestamp from the event, the
second application may wake up faster and successfully grab
the pointer before the first application. The first
application then will get an indication that the other
application grabbed the pointer before its request was
processed.</p> </td></tr>
</table>
<p style="margin-left:22%; margin-top: 1em">The special
value <i>XCB_CURRENT_TIME</i> will be replaced with the
current server time.</p>
<h2>REPLY FIELDS
<a name="REPLY FIELDS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><i>response_type</i></p>
<p style="margin-left:22%;">The type of this reply, in this
case <i>XCB_GRAB_POINTER</i>. This field is also present in
the <i>xcb_generic_reply_t</i> and can be used to tell
replies apart from each other.</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="10%">
<p><i>sequence</i></p></td>
<td width="3%"></td>
<td width="78%">
<p>The sequence number of the last request processed by the
X11 server.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="10%">
<p><i>length</i></p></td>
<td width="3%"></td>
<td width="78%">
<p>The length of the reply, in words (a word is 4
bytes).</p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="10%">
<p><i>status</i></p></td>
<td width="3%"></td>
<td width="78%">
<p>One of the following values:</p></td></tr>
</table>
<p style="margin-left:22%;"><i>XCB_GRAB_STATUS_SUCCESS</i></p>
<p style="margin-left:35%;">TODO: NOT YET DOCUMENTED.</p>
<p style="margin-left:22%;"><i>XCB_GRAB_STATUS_ALREADY_GRABBED</i></p>
<p style="margin-left:35%;">TODO: NOT YET DOCUMENTED.</p>
<p style="margin-left:22%;"><i>XCB_GRAB_STATUS_INVALID_TIME</i></p>
<p style="margin-left:35%;">TODO: NOT YET DOCUMENTED.</p>
<p style="margin-left:22%;"><i>XCB_GRAB_STATUS_NOT_VIEWABLE</i></p>
<p style="margin-left:35%;">TODO: NOT YET DOCUMENTED.</p>
<p style="margin-left:22%;"><i>XCB_GRAB_STATUS_FROZEN</i></p>
<p style="margin-left:35%;">TODO: NOT YET DOCUMENTED.</p>
<p style="margin-left:22%;">TODO: NOT YET DOCUMENTED.</p>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Actively grabs
control of the pointer. Further pointer events are reported
only to the grabbing client. Overrides any active pointer
grab by this client.</p>
<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Returns an
<i>xcb_grab_pointer_cookie_t</i>. Errors have to be handled
when calling the reply function
<i>xcb_grab_pointer_reply</i>.</p>
<p style="margin-left:9%; margin-top: 1em">If you want to
handle errors in the event loop instead, use
<i>xcb_grab_pointer_unchecked</i>. See
<b>xcb-requests(3)</b> for details.</p>
<h2>ERRORS
<a name="ERRORS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><i>xcb_value_error_t</i></p>
<p style="margin-left:22%;">TODO: reasons?</p>
<p style="margin-left:9%;"><i>xcb_window_error_t</i></p>
<p style="margin-left:22%;">The specified <i>window</i>
does not exist.</p>
<h2>EXAMPLE
<a name="EXAMPLE"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">/* <br/>
* Grabs the pointer actively <br/>
* <br/>
*/ <br/>
void my_example(xcb_connection_t *conn, xcb_screen_t
*screen, xcb_cursor_t cursor) { <br/>
xcb_grab_pointer_cookie_t cookie; <br/>
xcb_grab_pointer_reply_t *reply;</p>
<p style="margin-left:9%; margin-top: 1em">cookie =
xcb_grab_pointer( <br/>
conn, <br/>
false, /* get all pointer events specified by the following
mask */ <br/>
screen-&gt;root, /* grab the root window */ <br/>
XCB_NONE, /* which events to let through */ <br/>
XCB_GRAB_MODE_ASYNC, /* pointer events should continue as
normal */ <br/>
XCB_GRAB_MODE_ASYNC, /* keyboard mode */ <br/>
XCB_NONE, /* confine_to = in which window should the cursor
stay */ <br/>
cursor, /* we change the cursor to whatever the user wanted
*/ <br/>
XCB_CURRENT_TIME <br/>
);</p>
<p style="margin-left:9%; margin-top: 1em">if ((reply =
xcb_grab_pointer_reply(conn, cookie, NULL))) { <br/>
if (reply-&gt;status == XCB_GRAB_STATUS_SUCCESS) <br/>
printf("successfully grabbed the pointer\n"); <br/>
free(reply); <br/>
} <br/>
}</p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>xcb-requests</b>(3),
<b>xcb-examples</b>(3), <b>xcb_grab_keyboard</b>(3)</p>
<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Generated from
xproto.xml. Contact xcb@lists.freedesktop.org for
corrections and improvements.</p>
<hr/>
</body>
</html>
