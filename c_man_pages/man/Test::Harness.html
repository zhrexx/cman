<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 20:51:57 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>Test::Harness</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">Test::Harness</h1>
<a href="#NAME">NAME</a><br/>
<a href="#VERSION">VERSION</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#FUNCTIONS">FUNCTIONS</a><br/>
<a href="#runtests( @test_files )">runtests( @test_files )</a><br/>
<a href="#execute_tests( tests =&gt; \@test_files, out =&gt; \*FH )">execute_tests( tests =&gt; \@test_files, out =&gt; \*FH )</a><br/>
<a href="#EXPORT">EXPORT</a><br/>
<a href="#ENVIRONMENT VARIABLES THAT TAP::HARNESS::COMPATIBLE SETS">ENVIRONMENT VARIABLES THAT TAP::HARNESS::COMPATIBLE SETS</a><br/>
<a href="#ENVIRONMENT VARIABLES THAT AFFECT TEST::HARNESS">ENVIRONMENT VARIABLES THAT AFFECT TEST::HARNESS</a><br/>
<a href="#Taint Mode">Taint Mode</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<a href="#BUGS">BUGS</a><br/>
<a href="#AUTHORS">AUTHORS</a><br/>
<a href="#LICENCE AND COPYRIGHT">LICENCE AND COPYRIGHT</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Test::Harness
− Run Perl standard test scripts with statistics</p>
<h2>VERSION
<a name="VERSION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Version 3.50</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">use
Test::Harness; <br/>
runtests(@test_files);</p>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Although, for
historical reasons, the Test::Harness distribution takes its
name from this module it now exists only to provide
TAP::Harness with an interface that is somewhat backwards
compatible with Test::Harness 2.xx. If you're writing new
code consider using TAP::Harness directly instead.</p>
<p style="margin-left:9%; margin-top: 1em">Emulation is
provided for "runtests" and
"execute_tests" but the pluggable 'Straps'
interface that previous versions of Test::Harness supported
is not reproduced here. Straps is now available as a stand
alone module: Test::Harness::Straps.</p>
<p style="margin-left:9%; margin-top: 1em">See TAP::Parser,
TAP::Harness for the main documentation for this
distribution.</p>
<h2>FUNCTIONS
<a name="FUNCTIONS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The following
functions are available.</p>
<h3>runtests( @test_files )
<a name="runtests( @test_files )"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">This runs all
the given <i>@test_files</i> and divines whether they passed
or failed based on their output to STDOUT (details above).
It prints out each individual test which failed along with a
summary report and a how long it all took.</p>
<p style="margin-left:9%; margin-top: 1em">It returns true
if everything was ok. Otherwise it will die() with one of
the messages in the DIAGNOSTICS section.</p>
<h3>execute_tests( tests =&gt; \@test_files, out =&gt; \*FH )
<a name="execute_tests( tests =&gt; \@test_files, out =&gt; \*FH )"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">Runs all the
given @test_files (just like runtests()) but doesn't
generate the final report. During testing, progress
information will be written to the currently selected output
filehandle (usually "STDOUT"), or to the
filehandle given by the "out" parameter. The
<i>out</i> is optional.</p>
<p style="margin-left:9%; margin-top: 1em">Returns a list
of two values, $total and $failed, describing the results.
$total is a hash ref summary of all the tests run. Its keys
and values are this:</p>
<p style="margin-left:9%; margin-top: 1em">bonus Number of
individual todo tests unexpectedly passed <br/>
max Number of individual tests ran <br/>
ok Number of individual tests passed <br/>
sub_skipped Number of individual tests skipped <br/>
todo Number of individual todo tests <br/>
files Number of test files ran <br/>
good Number of test files passed <br/>
bad Number of test files failed <br/>
tests Number of test files originally given <br/>
skipped Number of test files skipped</p>
<p style="margin-left:9%; margin-top: 1em">If
"$total−&gt;{bad} == 0" and
"$total−&gt;{max} &gt; 0", you've got a
successful test.</p>
<p style="margin-left:9%; margin-top: 1em">$failed is a
hash ref of all the test scripts that failed. Each key is
the name of a test script, each value is another hash
representing how that script failed. Its keys are these:</p>
<p style="margin-left:9%; margin-top: 1em">name Name of the
test which failed <br/>
estat Script's exit value <br/>
wstat Script's wait status <br/>
max Number of individual tests <br/>
failed Number which failed <br/>
canon List of tests which failed (as string).</p>
<p style="margin-left:9%; margin-top: 1em">$failed should
be empty if everything passed.</p>
<h2>EXPORT
<a name="EXPORT"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">&amp;runtests is
exported by "Test::Harness" by default.</p>
<p style="margin-left:9%; margin-top: 1em">&amp;execute_tests,
$verbose, $switches and $debug are exported upon
request.</p>
<h2>ENVIRONMENT VARIABLES THAT TAP::HARNESS::COMPATIBLE SETS
<a name="ENVIRONMENT VARIABLES THAT TAP::HARNESS::COMPATIBLE SETS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">"Test::Harness"
sets these before executing the individual tests. <br/>
"HARNESS_ACTIVE"</p>
<p style="margin-left:14%;">This is set to a true value. It
allows the tests to determine if they are being executed
through the harness or by any other means.</p>
<p style="margin-left:9%;">"HARNESS_VERSION"</p>
<p style="margin-left:14%;">This is the version of
"Test::Harness".</p>
<h2>ENVIRONMENT VARIABLES THAT AFFECT TEST::HARNESS
<a name="ENVIRONMENT VARIABLES THAT AFFECT TEST::HARNESS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">"HARNESS_PERL_SWITCHES"</p>
<p style="margin-left:14%;">Setting this adds perl command
line switches to each test file run.</p>
<p style="margin-left:14%; margin-top: 1em">For example,
"HARNESS_PERL_SWITCHES=−T" will turn on
taint mode.
"HARNESS_PERL_SWITCHES=−MDevel::Cover" will
run "Devel::Cover" for each test.</p>
<p style="margin-left:14%; margin-top: 1em">"−w"
is always set. You can turn this off in the test with
"BEGIN { $ˆW = 0 }".</p>
<p style="margin-left:9%;">"HARNESS_TIMER"</p>
<p style="margin-left:14%;">Setting this to true will make
the harness display the number of milliseconds each test
took. You can also use <i>prove</i>'s
"−−timer" switch.</p>
<p style="margin-left:9%;">"HARNESS_VERBOSE"</p>
<p style="margin-left:14%;">If true,
"Test::Harness" will output the verbose results of
running its tests. Setting $Test::Harness::verbose will
override this, or you can use the "−v"
switch in the <i>prove</i> utility.</p>
<p style="margin-left:9%;">"HARNESS_OPTIONS"</p>
<p style="margin-left:14%;">Provide additional options to
the harness. Currently supported options are: <br/>
"j&lt;n&gt;"</p>
<p style="margin-left:19%;">Run &lt;n&gt; (default 9)
parallel jobs.</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="14%"></td>
<td width="4%">
<p>"c"</p></td>
<td width="1%"></td>
<td width="71%">
<p>Try to color output. See "new" in
TAP::Formatter::Base.</p> </td>
<td width="10%">
</td></tr>
</table>
<p style="margin-left:14%;">"a&lt;file.tgz&gt;"</p>
<p style="margin-left:19%;">Will use TAP::Harness::Archive
as the harness class, and save the TAP to
"file.tgz"</p>
<p style="margin-left:14%;">"fPackage−With−Dashes"</p>
<p style="margin-left:19%;">Set the formatter_class of the
harness being run. Since the "HARNESS_OPTIONS" is
separated by ":", we use "−"
instead.</p>
<p style="margin-left:14%; margin-top: 1em">Multiple
options may be separated by colons:</p>
<p style="margin-left:14%; margin-top: 1em">HARNESS_OPTIONS=j9:c
make test</p>
<p style="margin-left:9%;">"HARNESS_SUBCLASS"</p>
<p style="margin-left:14%;">Specifies a TAP::Harness
subclass to be used in place of TAP::Harness.</p>
<p style="margin-left:9%;">"HARNESS_SUMMARY_COLOR_SUCCESS"</p>
<p style="margin-left:14%;">Determines the Term::ANSIColor
for the summary in case it is successful. This color
defaults to 'green'.</p>
<p style="margin-left:9%;">"HARNESS_SUMMARY_COLOR_FAIL"</p>
<p style="margin-left:14%;">Determines the Term::ANSIColor
for the failure in case it is successful. This color
defaults to 'red'.</p>
<h2>Taint Mode
<a name="Taint Mode"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Normally when a
Perl program is run in taint mode the contents of the
"PERL5LIB" environment variable do not appear in
@INC.</p>
<p style="margin-left:9%; margin-top: 1em">Because
"PERL5LIB" is often used during testing to add
build directories to @INC "Test::Harness" passes
the names of any directories found in "PERL5LIB"
as −I switches. The net effect of this is that
"PERL5LIB" is honoured even in taint mode.</p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">TAP::Harness</p>
<h2>BUGS
<a name="BUGS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Please report
any bugs or feature requests to
"bug−test−harness at rt.cpan.org", or
through the web interface at
&lt;http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Test−Harness&gt;.
I will be notified, and then you'll automatically be
notified of progress on your bug as I make changes.</p>
<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Andy Armstrong
"&lt;andy@hexten.net&gt;"</p>
<p style="margin-left:9%; margin-top: 1em">Test::Harness
2.64 (maintained by Andy Lester and on which this module is
based) has this attribution:</p>
<p style="margin-left:9%; margin-top: 1em">Either Tim Bunce
or Andreas Koenig, we don't know. What we know for <br/>
sure is, that it was inspired by Larry Wall's F&lt;TEST&gt;
script that came <br/>
with perl distributions for ages. Numerous anonymous
contributors <br/>
exist. Andreas Koenig held the torch for many years, and
then <br/>
Michael G Schwern.</p>
<h2>LICENCE AND COPYRIGHT
<a name="LICENCE AND COPYRIGHT"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Copyright (c)
2007−2011, Andy Armstrong
"&lt;andy@hexten.net&gt;". All rights
reserved.</p>
<p style="margin-left:9%; margin-top: 1em">This module is
free software; you can redistribute it and/or modify it
under the same terms as Perl itself. See perlartistic.</p>
<hr/>
</body>
</html>
