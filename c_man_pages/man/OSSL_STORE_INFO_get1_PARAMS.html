<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 19:49:25 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>OSSL_STORE_INFO</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">OSSL_STORE_INFO</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#Types">Types</a><br/>
<a href="#Functions">Functions</a><br/>
<a href="#SUPPORTED OBJECTS">SUPPORTED OBJECTS</a><br/>
<a href="#RETURN VALUES">RETURN VALUES</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<a href="#HISTORY">HISTORY</a><br/>
<a href="#COPYRIGHT">COPYRIGHT</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">OSSL_STORE_INFO,
OSSL_STORE_INFO_get_type, OSSL_STORE_INFO_get0_NAME,
OSSL_STORE_INFO_get0_NAME_description,
OSSL_STORE_INFO_get0_PARAMS, OSSL_STORE_INFO_get0_PUBKEY,
OSSL_STORE_INFO_get0_PKEY, OSSL_STORE_INFO_get0_CERT,
OSSL_STORE_INFO_get0_CRL, OSSL_STORE_INFO_get1_NAME,
OSSL_STORE_INFO_get1_NAME_description,
OSSL_STORE_INFO_get1_PARAMS, OSSL_STORE_INFO_get1_PUBKEY,
OSSL_STORE_INFO_get1_PKEY, OSSL_STORE_INFO_get1_CERT,
OSSL_STORE_INFO_get1_CRL, OSSL_STORE_INFO_type_string,
OSSL_STORE_INFO_free, OSSL_STORE_INFO_new_NAME,
OSSL_STORE_INFO_set0_NAME_description,
OSSL_STORE_INFO_new_PARAMS, OSSL_STORE_INFO_new_PUBKEY,
OSSL_STORE_INFO_new_PKEY, OSSL_STORE_INFO_new_CERT,
OSSL_STORE_INFO_new_CRL, OSSL_STORE_INFO_new,
OSSL_STORE_INFO_get0_data − Functions to manipulate
OSSL_STORE_INFO objects</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">#include
&lt;openssl/store.h&gt; <br/>
typedef struct ossl_store_info_st OSSL_STORE_INFO; <br/>
int OSSL_STORE_INFO_get_type(const OSSL_STORE_INFO
*store_info); <br/>
const char *OSSL_STORE_INFO_get0_NAME(const OSSL_STORE_INFO
*store_info); <br/>
char *OSSL_STORE_INFO_get1_NAME(const OSSL_STORE_INFO
*store_info); <br/>
const char *OSSL_STORE_INFO_get0_NAME_description(const
OSSL_STORE_INFO <br/>
*store_info); <br/>
char *OSSL_STORE_INFO_get1_NAME_description(const
OSSL_STORE_INFO *store_info); <br/>
EVP_PKEY *OSSL_STORE_INFO_get0_PARAMS(const OSSL_STORE_INFO
*store_info); <br/>
EVP_PKEY *OSSL_STORE_INFO_get1_PARAMS(const OSSL_STORE_INFO
*store_info); <br/>
EVP_PKEY *OSSL_STORE_INFO_get0_PUBKEY(const OSSL_STORE_INFO
*info); <br/>
EVP_PKEY *OSSL_STORE_INFO_get1_PUBKEY(const OSSL_STORE_INFO
*info); <br/>
EVP_PKEY *OSSL_STORE_INFO_get0_PKEY(const OSSL_STORE_INFO
*store_info); <br/>
EVP_PKEY *OSSL_STORE_INFO_get1_PKEY(const OSSL_STORE_INFO
*store_info); <br/>
X509 *OSSL_STORE_INFO_get0_CERT(const OSSL_STORE_INFO
*store_info); <br/>
X509 *OSSL_STORE_INFO_get1_CERT(const OSSL_STORE_INFO
*store_info); <br/>
X509_CRL *OSSL_STORE_INFO_get0_CRL(const OSSL_STORE_INFO
*store_info); <br/>
X509_CRL *OSSL_STORE_INFO_get1_CRL(const OSSL_STORE_INFO
*store_info); <br/>
const char *OSSL_STORE_INFO_type_string(int type); <br/>
void OSSL_STORE_INFO_free(OSSL_STORE_INFO *store_info); <br/>
OSSL_STORE_INFO *OSSL_STORE_INFO_new_NAME(char *name); <br/>
int OSSL_STORE_INFO_set0_NAME_description(OSSL_STORE_INFO
*info, char *desc); <br/>
OSSL_STORE_INFO *OSSL_STORE_INFO_new_PARAMS(DSA
*dsa_params); <br/>
OSSL_STORE_INFO *OSSL_STORE_INFO_new_PUBKEY(EVP_PKEY
*pubkey); <br/>
OSSL_STORE_INFO *OSSL_STORE_INFO_new_PKEY(EVP_PKEY *pkey);
<br/>
OSSL_STORE_INFO *OSSL_STORE_INFO_new_CERT(X509 *x509); <br/>
OSSL_STORE_INFO *OSSL_STORE_INFO_new_CRL(X509_CRL *crl);
<br/>
OSSL_STORE_INFO *OSSL_STORE_INFO_new(int type, void *data);
<br/>
void *OSSL_STORE_INFO_get0_data(int type, const
OSSL_STORE_INFO *info);</p>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">These functions
are primarily useful for applications to retrieve supported
objects from <b>OSSL_STORE_INFO</b> objects and for scheme
specific loaders to create <b>OSSL_STORE_INFO</b>
holders.</p>
<h3>Types
<a name="Types"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em"><b>OSSL_STORE_INFO</b>
is an opaque type that's just an intermediary holder for the
objects that have been retrieved by <b>OSSL_STORE_load()</b>
and similar functions. Supported OpenSSL type object can be
extracted using one of STORE_INFO_get0_&lt;TYPE&gt;() where
&lt;TYPE&gt; can be NAME, PARAMS, PKEY, CERT, or CRL. The
life time of this extracted object is as long as the life
time of the <b>OSSL_STORE_INFO</b> it was extracted from, so
care should be taken not to free the latter too early. As an
alternative, STORE_INFO_get1_&lt;TYPE&gt;() extracts a
duplicate (or the same object with its reference count
increased), which can be used after the containing
<b>OSSL_STORE_INFO</b> has been freed. The object returned
by STORE_INFO_get1_&lt;TYPE&gt;() must be freed separately
by the caller. See "SUPPORTED OBJECTS" for more
information on the types that are supported.</p>
<h3>Functions
<a name="Functions"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em"><b>OSSL_STORE_INFO_get_type()</b>
takes a <b>OSSL_STORE_INFO</b> and returns the STORE type
number for the object inside.</p>
<p style="margin-left:9%; margin-top: 1em"><b>STORE_INFO_get_type_string()</b>
takes a STORE type number and returns a short string
describing it.</p>
<p style="margin-left:9%; margin-top: 1em"><b>OSSL_STORE_INFO_get0_NAME()</b>,
<b>OSSL_STORE_INFO_get0_NAME_description()</b>,
<b>OSSL_STORE_INFO_get0_PARAMS()</b>,
<b>OSSL_STORE_INFO_get0_PUBKEY()</b>,
<b>OSSL_STORE_INFO_get0_PKEY()</b>,
<b>OSSL_STORE_INFO_get0_CERT()</b>,
<b>OSSL_STORE_INFO_get0_CRL()</b> all take a
<b>OSSL_STORE_INFO</b> and return the object it holds if the
<b>OSSL_STORE_INFO</b> type (as returned by
<b>OSSL_STORE_INFO_get_type()</b>) matches the function,
otherwise NULL.</p>
<p style="margin-left:9%; margin-top: 1em"><b>OSSL_STORE_INFO_get1_NAME()</b>,
<b>OSSL_STORE_INFO_get1_NAME_description()</b>,
<b>OSSL_STORE_INFO_get1_PARAMS()</b>,
<b>OSSL_STORE_INFO_get1_PUBKEY()</b>,
<b>OSSL_STORE_INFO_get1_PKEY()</b>,
<b>OSSL_STORE_INFO_get1_CERT()</b> and
<b>OSSL_STORE_INFO_get1_CRL()</b> all take a
<b>OSSL_STORE_INFO</b> and return a duplicate the object it
holds if the <b>OSSL_STORE_INFO</b> type (as returned by
<b>OSSL_STORE_INFO_get_type()</b>) matches the function,
otherwise NULL.</p>
<p style="margin-left:9%; margin-top: 1em"><b>OSSL_STORE_INFO_free()</b>
frees a <b>OSSL_STORE_INFO</b> and its contained type. If
the argument is NULL, nothing is done.</p>
<p style="margin-left:9%; margin-top: 1em"><b>OSSL_STORE_INFO_new_NAME()</b>
, <b>OSSL_STORE_INFO_new_PARAMS()</b>, ,
<b>OSSL_STORE_INFO_new_PUBKEY()</b>,
<b>OSSL_STORE_INFO_new_PKEY()</b>,
<b>OSSL_STORE_INFO_new_CERT()</b> and
<b>OSSL_STORE_INFO_new_CRL()</b> create a
<b>OSSL_STORE_INFO</b> object to hold the given input
object. On success the input object is consumed.</p>
<p style="margin-left:9%; margin-top: 1em">Additionally,
for <b>OSSL_STORE_INFO_NAME</b> objects,
<b>OSSL_STORE_INFO_set0_NAME_description()</b> can be used
to add an extra description. This description is meant to be
human readable and should be used for information
printout.</p>
<p style="margin-left:9%; margin-top: 1em"><b>OSSL_STORE_INFO_new()</b>
creates a <b>OSSL_STORE_INFO</b> with an arbitrary
<i>type</i> number and <i>data</i> structure. It's the
responsibility of the caller to define type numbers other
than the ones defined by <i>&lt;openssl/store.h&gt;</i>, and
to handle freeing the associated data structure on their
own. <i>Using type numbers that are defined by
&lt;openssl/store.h&gt; may cause undefined behaviours,
including crashes</i>.</p>
<p style="margin-left:9%; margin-top: 1em"><b>OSSL_STORE_INFO_get0_data()</b>
returns the data pointer that was passed to
<b>OSSL_STORE_INFO_new()</b> if <i>type</i> matches the type
number in <i>info</i>.</p>
<p style="margin-left:9%; margin-top: 1em"><b>OSSL_STORE_INFO_new()</b>
and <b>OSSL_STORE_INFO_get0_data()</b> may be useful for
applications that define their own STORE data, but must be
used with care.</p>
<h2>SUPPORTED OBJECTS
<a name="SUPPORTED OBJECTS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Currently
supported object types are: <br/>
OSSL_STORE_INFO_NAME</p>
<p style="margin-left:14%;">A name is exactly that, a name.
It's like a name in a directory, but formatted as a complete
URI. For example, the path in URI "file:/foo/bar/"
could include a file named "cookie.pem", and in
that case, the returned <b>OSSL_STORE_INFO_NAME</b> object
would have the URI "file:/foo/bar/cookie.pem",
which can be used by the application to get the objects in
that file. This can be applied to all schemes that can
somehow support a listing of object URIs.</p>
<p style="margin-left:14%; margin-top: 1em">For
"file:" URIs that are used without the explicit
scheme, the returned name will be the path of each object,
so if "/foo/bar" was given and that path has the
file "cookie.pem", the name
"/foo/bar/cookie.pem" will be returned.</p>
<p style="margin-left:14%; margin-top: 1em">The returned
URI is considered canonical and must be unique and permanent
for the storage where the object (or collection of objects)
resides. Each loader is responsible for ensuring that it
only returns canonical URIs. However, it's possible that
certain schemes allow an object (or collection thereof) to
be reached with alternative URIs; just because one URI is
canonical doesn't mean that other variants can't be
used.</p>
<p style="margin-left:14%; margin-top: 1em">At the
discretion of the loader that was used to get these names,
an extra description may be attached as well.</p>
<p style="margin-left:9%;">OSSL_STORE_INFO_PARAMS</p>
<p style="margin-left:14%;">Key parameters.</p>
<p style="margin-left:9%;">OSSL_STORE_INFO_PKEY</p>
<p style="margin-left:14%;">A keypair or just a private key
(possibly with key parameters).</p>
<p style="margin-left:9%;">OSSL_STORE_INFO_PUBKEY</p>
<p style="margin-left:14%;">A public key (possibly with key
parameters).</p>
<p style="margin-left:9%;">OSSL_STORE_INFO_CERT</p>
<p style="margin-left:14%;">An X.509 certificate.</p>
<p style="margin-left:9%;">OSSL_STORE_INFO_CRL</p>
<p style="margin-left:14%;">A X.509 certificate revocation
list.</p>
<h2>RETURN VALUES
<a name="RETURN VALUES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>OSSL_STORE_INFO_get_type()</b>
returns the STORE type number of the given
<b>OSSL_STORE_INFO</b>. There is no error value.</p>
<p style="margin-left:9%; margin-top: 1em"><b>OSSL_STORE_INFO_get0_NAME()</b>,
<b>OSSL_STORE_INFO_get0_NAME_description()</b>,
<b>OSSL_STORE_INFO_get0_PARAMS()</b>,
<b>OSSL_STORE_INFO_get0_PKEY()</b>,
<b>OSSL_STORE_INFO_get0_CERT()</b> and
<b>OSSL_STORE_INFO_get0_CRL()</b> all return a pointer to
the OpenSSL object on success, NULL otherwise.</p>
<p style="margin-left:9%; margin-top: 1em"><b>OSSL_STORE_INFO_get1_NAME()</b>,
<b>OSSL_STORE_INFO_get1_NAME_description()</b>,
<b>OSSL_STORE_INFO_get1_PARAMS()</b>,
<b>OSSL_STORE_INFO_get1_PKEY()</b>,
<b>OSSL_STORE_INFO_get1_CERT()</b> and
<b>OSSL_STORE_INFO_get1_CRL()</b> all return a pointer to a
duplicate of the OpenSSL object on success, NULL
otherwise.</p>
<p style="margin-left:9%; margin-top: 1em"><b>OSSL_STORE_INFO_type_string()</b>
returns a string on success, or NULL on failure.</p>
<p style="margin-left:9%; margin-top: 1em"><b>OSSL_STORE_INFO_new_NAME()</b>,
<b>OSSL_STORE_INFO_new_PARAMS()</b>,
<b>OSSL_STORE_INFO_new_PKEY()</b>,
<b>OSSL_STORE_INFO_new_CERT()</b> and
<b>OSSL_STORE_INFO_new_CRL()</b> return a
<b>OSSL_STORE_INFO</b> pointer on success, or NULL on
failure.</p>
<p style="margin-left:9%; margin-top: 1em"><b>OSSL_STORE_INFO_set0_NAME_description()</b>
returns 1 on success, or 0 on failure.</p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>ossl_store</b>(7),
<b>OSSL_STORE_open</b>(3),
<b>OSSL_STORE_register_loader</b>(3)</p>
<h2>HISTORY
<a name="HISTORY"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The OSSL_STORE
API was added in OpenSSL 1.1.1.</p>
<p style="margin-left:9%; margin-top: 1em">The
OSSL_STORE_INFO_PUBKEY object type was added in OpenSSL
3.0.</p>
<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Copyright
2016−2024 The OpenSSL Project Authors. All Rights
Reserved.</p>
<p style="margin-left:9%; margin-top: 1em">Licensed under
the Apache License 2.0 (the "License"). You may
not use this file except in compliance with the License. You
can obtain a copy in the file LICENSE in the source
distribution or at
&lt;https://www.openssl.org/source/license.html&gt;.</p>
<hr/>
</body>
</html>
