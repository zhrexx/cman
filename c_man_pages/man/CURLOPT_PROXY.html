<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 20:40:46 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>CURLOPT_PROXY</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">CURLOPT_PROXY</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#Environment variables">Environment variables</a><br/>
<a href="#DEFAULT">DEFAULT</a><br/>
<a href="#PROTOCOLS">PROTOCOLS</a><br/>
<a href="#EXAMPLE">EXAMPLE</a><br/>
<a href="#HISTORY">HISTORY</a><br/>
<a href="#AVAILABILITY">AVAILABILITY</a><br/>
<a href="#RETURN VALUE">RETURN VALUE</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">CURLOPT_PROXY
− proxy to use</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">#include
&lt;curl/curl.h&gt;</p>
<p style="margin-left:9%; margin-top: 1em">CURLcode
curl_easy_setopt(CURL *handle, CURLOPT_PROXY, char
*proxy);</p>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Set the
<i>proxy</i> to use for transfers with this easy handle. The
parameter should be a char * to a null−terminated
string holding the hostname or dotted numerical IP address.
A numerical IPv6 address must be written within
[brackets].</p>
<p style="margin-left:9%; margin-top: 1em">To specify port
number in this string, append :[port] to the end of the host
name. The proxy's port number may optionally (but
discouraged) be specified with the separate option
<i>CURLOPT_PROXYPORT(3)</i>. If not specified, libcurl
defaults to using port 1080 for proxies.</p>
<p style="margin-left:9%; margin-top: 1em">The proxy string
may be prefixed with [scheme]:// to specify which kind of
proxy is used. <br/>
http://</p>
<p style="margin-left:18%;">HTTP Proxy. Default when no
scheme or proxy type is specified.</p>
<p style="margin-left:9%;">https://</p>
<p style="margin-left:18%;">HTTPS Proxy. (Added in 7.52.0
for OpenSSL and GnuTLS Since 7.87.0, it also works for
BearSSL, mbedTLS, rustls, Schannel, Secure Transport and
wolfSSL.)</p>
<p style="margin-left:18%; margin-top: 1em">This uses
HTTP/1 by default. Setting <i>CURLOPT_PROXYTYPE(3)</i> to
<b>CURLPROXY_HTTPS2</b> allows libcurl to negotiate using
HTTP/2 with proxy.</p>
<p style="margin-left:9%;">socks4://</p>
<p style="margin-left:18%;">SOCKS4 Proxy.</p>
<p style="margin-left:9%;">socks4a://</p>
<p style="margin-left:18%;">SOCKS4a Proxy. Proxy resolves
URL hostname.</p>
<p style="margin-left:9%;">socks5://</p>
<p style="margin-left:18%;">SOCKS5 Proxy.</p>
<p style="margin-left:9%;">socks5h://</p>
<p style="margin-left:18%;">SOCKS5 Proxy. Proxy resolves
URL hostname.</p>
<p style="margin-left:9%; margin-top: 1em">Without a scheme
prefix, <i>CURLOPT_PROXYTYPE(3)</i> can be used to specify
which kind of proxy the string identifies.</p>
<p style="margin-left:9%; margin-top: 1em">When you tell
the library to use an HTTP proxy, libcurl transparently
converts operations to HTTP even if you specify an FTP URL
etc. This may have an impact on what other features of the
library you can use, such as <i>CURLOPT_QUOTE(3)</i> and
similar FTP specifics that do not work unless you tunnel
through the HTTP proxy. Such tunneling is activated with
<i>CURLOPT_HTTPPROXYTUNNEL(3)</i>.</p>
<p style="margin-left:9%; margin-top: 1em">Setting the
proxy string to "" (an empty string) explicitly
disables the use of a proxy, even if there is an environment
variable set for it.</p>
<p style="margin-left:9%; margin-top: 1em">A proxy host
string can also include protocol scheme (http://) and
embedded user + password.</p>
<p style="margin-left:9%; margin-top: 1em">Unix domain
sockets are supported for socks proxies since 7.84.0. Set
localhost for the host part. e.g.
socks5h://localhost/path/to/socket.sock</p>
<p style="margin-left:9%; margin-top: 1em">When you set a
hostname to use, do not assume that there is any particular
single port number used widely for proxies. Specify it.</p>
<p style="margin-left:9%; margin-top: 1em">When a proxy is
used, the active FTP mode as set with
<i>CUROPT_FTPPORT(3)</i>, cannot be used.</p>
<h2>Environment variables
<a name="Environment variables"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">libcurl respects
the proxy environment variables named <b>http_proxy</b>,
<b>ftp_proxy</b>, <b>sftp_proxy</b> etc. If set, libcurl
uses the specified proxy for that URL scheme. For an
"FTP://" URL, the <b>ftp_proxy</b> is considered.
<b>all_proxy</b> is used if no protocol specific proxy was
set.</p>
<p style="margin-left:9%; margin-top: 1em">If
<b>no_proxy</b> (or <b>NO_PROXY</b>) is set, it is the exact
equivalent of setting the <i>CURLOPT_NOPROXY(3)</i>
option.</p>
<p style="margin-left:9%; margin-top: 1em">The
<i>CURLOPT_PROXY(3)</i> and <i>CURLOPT_NOPROXY(3)</i>
options override environment variables.</p>
<h2>DEFAULT
<a name="DEFAULT"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">NULL</p>
<h2>PROTOCOLS
<a name="PROTOCOLS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">This
functionality affects all supported protocols</p>
<h2>EXAMPLE
<a name="EXAMPLE"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">int main(void)
<br/>
{ <br/>
CURL *curl = curl_easy_init(); <br/>
if(curl) { <br/>
curl_easy_setopt(curl, CURLOPT_URL,
"https://example.com/file.txt"); <br/>
curl_easy_setopt(curl, CURLOPT_PROXY,
"http://proxy:80"); <br/>
curl_easy_perform(curl); <br/>
} <br/>
}</p>
<h2>HISTORY
<a name="HISTORY"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Since 7.14.1 the
proxy environment variable names can include the protocol
scheme.</p>
<p style="margin-left:9%; margin-top: 1em">Since 7.21.7 the
proxy string supports the socks protocols as
"schemes".</p>
<p style="margin-left:9%; margin-top: 1em">Since 7.50.2,
unsupported schemes in proxy strings cause libcurl to return
error.</p>
<h2>AVAILABILITY
<a name="AVAILABILITY"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Added in curl
7.1</p>
<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Returns CURLE_OK
if proxies are supported, CURLE_UNKNOWN_OPTION if not, or
CURLE_OUT_OF_MEMORY if there was insufficient heap
space.</p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>CURLOPT_HTTPPROXYTUNNEL</b>(3),
<b>CURLOPT_PRE_PROXY</b>(3), <b>CURLOPT_PROXYPORT</b>(3),
<b>CURLOPT_PROXYTYPE</b>(3)</p>
<hr/>
</body>
</html>
