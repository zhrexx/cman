<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 19:55:05 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>X509_NAME_GET_INDEX_BY_NID</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">X509_NAME_GET_INDEX_BY_NID</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#NOTES">NOTES</a><br/>
<a href="#RETURN VALUES">RETURN VALUES</a><br/>
<a href="#EXAMPLES">EXAMPLES</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<a href="#COPYRIGHT">COPYRIGHT</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">X509_NAME_get_index_by_NID,
X509_NAME_get_index_by_OBJ, X509_NAME_get_entry,
X509_NAME_entry_count, X509_NAME_get_text_by_NID,
X509_NAME_get_text_by_OBJ − X509_NAME lookup and
enumeration functions</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">#include
&lt;openssl/x509.h&gt; <br/>
int X509_NAME_get_index_by_NID(const X509_NAME *name, int
nid, int lastpos); <br/>
int X509_NAME_get_index_by_OBJ(const X509_NAME *name, <br/>
const ASN1_OBJECT *obj, int lastpos); <br/>
int X509_NAME_entry_count(const X509_NAME *name); <br/>
X509_NAME_ENTRY *X509_NAME_get_entry(const X509_NAME *name,
int loc); <br/>
int X509_NAME_get_text_by_NID(const X509_NAME *name, int
nid, <br/>
char *buf, int len); <br/>
int X509_NAME_get_text_by_OBJ(const X509_NAME *name, const
ASN1_OBJECT *obj, <br/>
char *buf, int len);</p>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">These functions
allow an <b>X509_NAME</b> structure to be examined. The
<b>X509_NAME</b> structure is the same as the <b>Name</b>
type defined in RFC2459 (and elsewhere) and used for example
in certificate subject and issuer names.</p>
<p style="margin-left:9%; margin-top: 1em"><b>X509_NAME_get_index_by_NID()</b>
and <b>X509_NAME_get_index_by_OBJ()</b> retrieve the next
index matching <b>nid</b> or <b>obj</b> after
<b>lastpos</b>. <b>lastpos</b> should initially be set to
−1. If there are no more entries −1 is returned.
If <b>nid</b> is invalid (doesn't correspond to a valid OID)
then −2 is returned.</p>
<p style="margin-left:9%; margin-top: 1em"><b>X509_NAME_entry_count()</b>
returns the total number of entries in <b>name</b>.</p>
<p style="margin-left:9%; margin-top: 1em"><b>X509_NAME_get_entry()</b>
retrieves the <b>X509_NAME_ENTRY</b> from <b>name</b>
corresponding to index <b>loc</b>. Acceptable values for
<b>loc</b> run from 0 to (X509_NAME_entry_count(name)
− 1). The value returned is an internal pointer which
must not be freed.</p>
<p style="margin-left:9%; margin-top: 1em"><b>X509_NAME_get_text_by_NID()</b>,
<b>X509_NAME_get_text_by_OBJ()</b> retrieve the
"text" from the first entry in <b>name</b> which
matches <b>nid</b> or <b>obj</b>, if no such entry exists
−1 is returned. At most <b>len</b> bytes will be
written and the text written to <b>buf</b> will be null
terminated. The length of the output string written is
returned excluding the terminating null. If <b>buf</b> is
&lt;NULL&gt; then the amount of space needed in <b>buf</b>
(excluding the final null) is returned.</p>
<h2>NOTES
<a name="NOTES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>X509_NAME_get_text_by_NID()</b>
and <b>X509_NAME_get_text_by_OBJ()</b> should be considered
deprecated because they have various limitations which make
them of minimal use in practice. They can only find the
first matching entry and will copy the contents of the field
verbatim: this can be highly confusing if the target is a
multicharacter string type like a BMPString or a
UTF8String.</p>
<p style="margin-left:9%; margin-top: 1em">For a more
general solution <b>X509_NAME_get_index_by_NID()</b> or
<b>X509_NAME_get_index_by_OBJ()</b> should be used followed
by <b>X509_NAME_get_entry()</b> on any matching indices and
then the various <b>X509_NAME_ENTRY</b> utility functions on
the result.</p>
<p style="margin-left:9%; margin-top: 1em">The list of all
relevant <b>NID_*</b> and <b>OBJ_* codes</b> can be found in
the source code header files
<i>&lt;openssl/obj_mac.h&gt;</i> and/or
<i>&lt;openssl/objects.h&gt;</i>.</p>
<p style="margin-left:9%; margin-top: 1em">Applications
which could pass invalid NIDs to
<b>X509_NAME_get_index_by_NID()</b> should check for the
return value of −2. Alternatively the NID validity can
be determined first by checking OBJ_nid2obj(nid) is not
NULL.</p>
<h2>RETURN VALUES
<a name="RETURN VALUES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>X509_NAME_get_index_by_NID()</b>
and <b>X509_NAME_get_index_by_OBJ()</b> return the index of
the next matching entry or −1 if not found.
<b>X509_NAME_get_index_by_NID()</b> can also return −2
if the supplied NID is invalid.</p>
<p style="margin-left:9%; margin-top: 1em"><b>X509_NAME_entry_count()</b>
returns the total number of entries, and 0 for failure.</p>
<p style="margin-left:9%; margin-top: 1em"><b>X509_NAME_get_entry()</b>
returns an <b>X509_NAME</b> pointer to the requested entry
or <b>NULL</b> if the index is invalid.</p>
<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Process all
entries:</p>
<p style="margin-left:9%; margin-top: 1em">int i; <br/>
X509_NAME_ENTRY *e; <br/>
for (i = 0; i &lt; X509_NAME_entry_count(nm); i++) { <br/>
e = X509_NAME_get_entry(nm, i); <br/>
/* Do something with e */ <br/>
}</p>
<p style="margin-left:9%; margin-top: 1em">Process all
commonName entries:</p>
<p style="margin-left:9%; margin-top: 1em">int lastpos =
−1; <br/>
X509_NAME_ENTRY *e; <br/>
for (;;) { <br/>
lastpos = X509_NAME_get_index_by_NID(nm, NID_commonName,
lastpos); <br/>
if (lastpos == −1) <br/>
break; <br/>
e = X509_NAME_get_entry(nm, lastpos); <br/>
/* Do something with e */ <br/>
}</p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>ERR_get_error</b>(3),
<b>d2i_X509_NAME</b>(3)</p>
<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Copyright
2002−2021 The OpenSSL Project Authors. All Rights
Reserved.</p>
<p style="margin-left:9%; margin-top: 1em">Licensed under
the Apache License 2.0 (the "License"). You may
not use this file except in compliance with the License. You
can obtain a copy in the file LICENSE in the source
distribution or at
&lt;https://www.openssl.org/source/license.html&gt;.</p>
<hr/>
</body>
</html>
