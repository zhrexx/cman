<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 20:39:15 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>curs_addch</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">curs_addch</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#waddch">waddch</a><br/>
<a href="#wechochar">wechochar</a><br/>
<a href="#Forms-Drawing Characters">Forms-Drawing Characters</a><br/>
<a href="#RETURN VALUE">RETURN VALUE</a><br/>
<a href="#NOTES">NOTES</a><br/>
<a href="#EXTENSIONS">EXTENSIONS</a><br/>
<a href="#TABSIZE">TABSIZE</a><br/>
<a href="#PORTABILITY">PORTABILITY</a><br/>
<a href="#ACS Symbols">ACS Symbols</a><br/>
<a href="#Character Set">Character Set</a><br/>
<a href="#HISTORY">HISTORY</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>addch</b>,
<b>waddch</b>, <b>mvaddch</b>, <b>mvwaddch</b>,
<b>echochar</b>, <b>wechochar</b> − add a
<i>curses</i> character to a window and advance the
cursor</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>#include
&lt;curses.h&gt;</b></p>
<p style="margin-left:9%; margin-top: 1em"><b>int
addch(const chtype</b> <i>ch</i><b>); <br/>
int waddch(WINDOW *</b><i>win</i><b>, const chtype</b>
<i>ch</i><b>); <br/>
int mvaddch(int</b> <i>y</i><b>, int</b> <i>x</i><b>, const
chtype</b> <i>ch</i><b>); <br/>
int mvwaddch(WINDOW *</b><i>win</i><b>, int</b> <i>y</i><b>,
int</b> <i>x</i><b>, const chtype</b> <i>ch</i><b>);</b></p>
<p style="margin-left:9%; margin-top: 1em"><b>int
echochar(const chtype</b> <i>ch</i><b>); <br/>
int wechochar(WINDOW *</b><i>win</i><b>, const chtype</b>
<i>ch</i><b>);</b></p>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<h3>waddch
<a name="waddch"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em"><b>waddch</b>
writes the <i>curses</i> character <i>ch</i> to the window
<i>win</i>, then advances the cursor position, analogously
to the standard C library’s <i>putchar</i>(3).
<b>ncurses</b>(3X) describes the variants of this
function.</p>
<p style="margin-left:9%; margin-top: 1em">If advancement
occurs at the right margin,</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="86%">
<p>the cursor automatically wraps to the beginning of the
next line, then,</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="86%">
<p>if it was at the bottom of the scrolling region, and if
<b>scrollok</b>(3X) is enabled for <i>win</i>, the scrolling
region scrolls up one line.</p></td></tr>
</table>
<p style="margin-left:9%; margin-top: 1em">If <i>ch</i> is
a backspace, carriage return, line feed, or tab, the cursor
moves appropriately within the window.</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p style="margin-top: 1em">•</p></td>
<td width="4%"></td>
<td width="86%">
<p style="margin-top: 1em">Backspace moves the cursor one
character left; at the left margin of a window, it does
nothing.</p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="86%">
<p>Carriage return moves the cursor to the left margin on
the current line of the window.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="86%">
<p>Line feed does a <b>clrtoeol</b>(3X), then advances as
if from the right margin.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="86%">
<p>Tab advances the cursor to the next tab stop (possibly
on the next line); these are placed at every eighth column
by default. Alter the tab interval with the <b>TABSIZE</b>
extension; see <b>curs_variables</b>(3X).</p></td></tr>
</table>
<p style="margin-left:9%; margin-top: 1em">If <i>ch</i> is
any other nonprintable character, it is drawn in printable
form using the same convention as <b>unctrl</b>(3X). Calling
<b>winch</b>(3X) on the location of a nonprintable character
does not return the character itself, but its
<b>unctrl</b>(3X) representation.</p>
<p style="margin-left:9%; margin-top: 1em">The object or
expression <i>ch</i> may contain attributes and/or a color
pair identifier. (A <i>chtype</i> can be copied from place
to place using <b>winch</b>(3X) and <b>waddch</b>.) See
<b>curs_attr</b>(3X) for values of predefined constants that
can be usefully “or”ed with characters.</p>
<h3>wechochar
<a name="wechochar"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em"><b>echochar</b>
and <b>wechochar</b> are equivalent to calling
(<b>w</b>)<b>addch</b> followed by (<b>w</b>)<b>refresh</b>.
<i>curses</i> interprets these functions as a hint that only
a single character is being output; for non-control
characters, a considerable performance gain may be enjoyed
by employing them.</p>
<h3>Forms-Drawing Characters
<a name="Forms-Drawing Characters"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em"><i>curses</i>
defines macros starting with <b>ACS_</b> that can be used
with <b>waddch</b> to write line-drawing and other special
characters to the screen. <i>ncurses</i> terms these
<i>forms-drawing characters.</i> The ACS default listed
below is used if the <b>acs_chars</b> (<b>acsc</b>)
<i>terminfo</i> capability does not define a
terminal-specific replacement for it, or if the terminal and
locale configuration requires Unicode to access these
characters but the library is unable to use Unicode. The
“acsc char” column corresponds to how the
characters are specified in the <b>acs_chars</b>
(<b>acsc</b>) string capability, and the characters in it
may appear on the screen if the terminal type’s
database entry incorrectly advertises ACS support. The name
“ACS” originates in the Alternate Character Set
feature of the DEC VT100 terminal.</p>
<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">These functions
return <b>OK</b> on success and <b>ERR</b> on failure.</p>
<p style="margin-left:9%; margin-top: 1em">In
<i>ncurses</i>, <b>waddch</b> returns <b>ERR</b> if</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p style="margin-top: 1em">•</p></td>
<td width="4%"></td>
<td width="86%">
<p style="margin-top: 1em"><i>win</i> is <b>NULL</b>,</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="86%">
<p>wrapping to a new line is impossible because
<b>scrollok</b>(3X) has not been called on <i>win</i> when a
write to its bottom right location is attempted, or</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="86%">
<p>it is not possible to add a complete character at the
cursor position.</p></td></tr>
</table>
<p style="margin-left:9%; margin-top: 1em">The last may be
due to different causes:</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p style="margin-top: 1em">•</p></td>
<td width="4%"></td>
<td width="86%">
<p style="margin-top: 1em">conversion of a wide character
to a multibyte character sequence can fail, or</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="86%">
<p>at least one of the bytes resulting from wide character
conversion to a multibyte character sequence cannot be added
to the window. See section “PORTABILITY” below
regarding the use of <b>waddch</b> with wide characters.</p></td></tr>
</table>
<p style="margin-left:9%; margin-top: 1em">Functions
prefixed with “mv” first perform cursor movement
and fail if the position (<i>y</i>, <i>x</i>) is outside the
window boundaries.</p>
<h2>NOTES
<a name="NOTES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>addch</b>,
<b>mvaddch</b>, <b>mvwaddch</b>, and <b>echochar</b> may be
implemented as macros.</p>
<h2>EXTENSIONS
<a name="EXTENSIONS"></a>
</h2>
<h3>TABSIZE
<a name="TABSIZE"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">SVr4 and other
versions of <i>curses</i> implement the <b>TABSIZE</b>
variable, but X/Open Curses does not specify it; see
<b>curs_variables</b>(3X).</p>
<h2>PORTABILITY
<a name="PORTABILITY"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Applications
employing <i>ncurses</i> extensions should condition their
use on the visibility of the <b>NCURSES_VERSION</b>
preprocessor macro.</p>
<p style="margin-left:9%; margin-top: 1em">X/Open Curses,
Issue 4 describes these functions. It specifies no error
conditions for them.</p>
<p style="margin-left:9%; margin-top: 1em">SVr4
<i>curses</i> describes a successful return value only as
“an integer value other than <b>ERR</b>”.</p>
<p style="margin-left:9%; margin-top: 1em">The defaults
specified for forms-drawing characters apply in the POSIX
locale.</p>
<h3>ACS Symbols
<a name="ACS Symbols"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">X/Open Curses
states that the <b>ACS_</b> definitions are <i>char</i>
constants. Some implementations are problematic.</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p style="margin-top: 1em">•</p></td>
<td width="4%"></td>
<td width="86%">
<p style="margin-top: 1em">Solaris <i>curses</i>, for
example, defines the ACS symbols as constants; others define
them as elements of an array.</p></td></tr>
</table>
<p style="margin-left:14%; margin-top: 1em">This
implementation uses an array, <b>acs_map</b>, as did SVr4
<i>curses</i>. NetBSD also uses an array, actually named
<b>_acs_char</b>, with a <b>#define</b> for
compatibility.</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p style="margin-top: 1em">•</p></td>
<td width="4%"></td>
<td width="86%">
<p style="margin-top: 1em">HP-UX <i>curses</i> equates some
of the <b>ACS_</b> symbols to the analogous <b>WACS_</b>
symbols as if the <b>ACS_</b> symbols were wide characters
(see <b>curs_add_wch</b>(3X)). The misdefined symbols are
the arrows and others that are not used for line
drawing.</p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="86%">
<p>X/Open Curses (Issues 2 through 7) has a typographical
error for the <b>ACS_LANTERN</b> symbol, equating its
“VT100+ Character” to “I” (capital
I), while the header files for SVr4 <i>curses</i> and other
implementations use “i” (small i).</p></td></tr>
</table>
<p style="margin-left:14%; margin-top: 1em">None of the
terminal descriptions on Unix platforms use uppercase I,
except for Solaris (in its <i>terminfo</i> entry for
<i>screen</i>(1), apparently based on the X/Open
documentation around 1995). On the other hand, its
<b>gs6300</b> (AT&amp;T PC6300 with EMOTS Terminal Emulator)
description uses lowercase i.</p>
<p style="margin-left:9%; margin-top: 1em">Some ACS symbols
(<b>ACS_S3</b>, <b>ACS_S7</b>, <b>ACS_LEQUAL</b>,
<b>ACS_GEQUAL</b>, <b>ACS_PI</b>, <b>ACS_NEQUAL</b>, and
<b>ACS_STERLING</b>) were not documented in any publicly
released System V. However, many publicly available
<i>terminfo</i> entries include <b>acsc</b> capabilities in
which their key characters (<b>pryz{|}</b>) are embedded,
and a second-hand list of their character descriptions has
come to light. The <i>ncurses</i> developers invented
ACS-prefixed names for them.</p>
<p style="margin-left:9%; margin-top: 1em">The
<i>displayed</i> values of <b>ACS_</b> constants depend
on</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p style="margin-top: 1em">•</p></td>
<td width="4%"></td>
<td width="86%">
<p style="margin-top: 1em">the <i>ncurses</i> ABI—for
example, wide-character versus non-wide-character
configurations (the former is capable of displaying Unicode
while the latter is not), and</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="86%">
<p>whether the locale uses UTF-8 encoding.</p></td></tr>
</table>
<p style="margin-left:9%; margin-top: 1em">In certain
cases, the terminal is unable to display forms-drawing
characters <i>except</i> by using UTF-8; see the discussion
of the <i>NCURSES_NO_UTF8_ACS</i> environment variable in
<b>ncurses</b>(3X).</p>
<h3>Character Set
<a name="Character Set"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">X/Open Curses
assumes that the parameter passed to <b>waddch</b> contains
a single character. That character may have been more than
eight bits wide in an SVr3 or SVr4 implementation, but
X/Open Curses leaves the width of a non-wide character code
unspecified. The standard further does not specify the
internal structure of a <i>chtype</i>, though the use of bit
operations to combine the character code with attributes and
a color pair identifier into a <i>chtype</i> for passage to
<b>waddch</b> is common. A portable application uses only
the macros discussed in <b>curs_attr</b>(3X) to manipulate a
<i>chtype</i>.</p>
<p style="margin-left:9%; margin-top: 1em">In
<i>ncurses</i>, <i>chtype</i> holds an eight-bit character,
but the library allows a multibyte character sequence to be
passed via a succession of calls to <b>waddch</b>. Other
implementations do not; a <b>waddch</b> call transmits
exactly one character, which may be rendered in one or more
screen locations depending on whether it is printable (see
<b>unctrl</b>(3X)). Depending on the locale, <i>ncurses</i>
inspects the byte passed in each <b>waddch</b> call and
checks whether the latest call continues a multibyte
character. When a character is <i>complete</i>,
<i>ncurses</i> displays the character and advances the
cursor. If the calling application interrupts the succession
of bytes in a multibyte character sequence by changing the
current location—for example, with
<b>wmove</b>(3X)—<i>ncurses</i> discards the
incomplete character.</p>
<p style="margin-left:9%; margin-top: 1em">For portability
to other implementations, do not rely upon the foregoing
behavior. Check whether a character can be represented as a
single byte in the current locale.</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p style="margin-top: 1em">•</p></td>
<td width="4%"></td>
<td width="59%">
<p style="margin-top: 1em">If it can, call either
<b>waddch</b> or <b>wadd_wch</b>(3X).</p></td>
<td width="27%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="59%">
<p>If it cannot, use only <b>wadd_wch</b>(3X).</p></td>
<td width="27%">
</td></tr>
</table>
<h2>HISTORY
<a name="HISTORY"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">4BSD (1980)
<i>curses</i> introduced <i>waddch</i>.</p>
<p style="margin-left:9%; margin-top: 1em">SVr3 (1987)
added <i>wechochar</i>.</p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>curs_add_wch</b>(3X)
describes comparable functions of the <i>ncurses</i> library
in its wide-character configuration (<i>ncursesw</i>).</p>
<p style="margin-left:9%; margin-top: 1em"><b>curses</b>(3X),
<b>curs_addchstr</b>(3X), <b>curs_addstr</b>(3X),
<b>curs_attr</b>(3X), <b>curs_clear</b>(3X),
<b>curs_inch</b>(3X), <b>curs_outopts</b>(3X),
<b>curs_refresh</b>(3X), <b>curs_variables</b>(3X),
<b>putchar</b>(3)</p>
<hr/>
</body>
</html>
