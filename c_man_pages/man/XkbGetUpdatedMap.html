<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 20:54:39 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>XkbGetUpdatedMap</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">XkbGetUpdatedMap</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#ARGUMENTS">ARGUMENTS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#RETURN VALUES">RETURN VALUES</a><br/>
<a href="#STRUCTURES">STRUCTURES</a><br/>
<a href="#DIAGNOSTICS">DIAGNOSTICS</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">XkbGetUpdatedMap
− Update the client or server map information in an
existing keyboard description</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="31%">
<p style="margin-top: 1em"><b>Status
XkbGetUpdatedMap</b></p> </td>
<td width="2%"></td>
<td width="58%">
<p style="margin-top: 1em"><b>(Display
*</b><i>display</i><b>, unsigned int</b>
<i>which</i><b>,</b></p> </td></tr>
</table>
<p style="margin-left:9%;"><b>XkbDescPtr</b>
<i>xkb</i><b>);</b></p>
<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b><i>display</i></b></p>
<p style="margin-left:18%;">connection to X server</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="6%">
<p><i>which</i></p></td>
<td width="3%"></td>
<td width="51%">
<p>mask selecting subcomponents to populate</p></td>
<td width="31%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="6%">
<p><i>xkb</i></p></td>
<td width="3%"></td>
<td width="51%">
<p>keyboard description to be updated</p></td>
<td width="31%">
</td></tr>
</table>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The <i>which</i>
parameter is a bitwise inclusive OR of the masks in Table 1.
If the needed components of the <i>xkb</i> structure are not
already allocated, <i>XkbGetUpdatedMap</i> allocates them.
<i>XkbGetUpdatedMap</i> fetches the requested information
for the device specified in the XkbDescRec passed in the
<i>xkb</i> parameter.</p>
<p style="margin-left:9%; margin-top: 1em"><i>XkbGetUpdatedMap</i>
is synchronous; it queries the server for the desired
information, waits for a reply, and then returns. If
successful, <i>XkbGetUpdatedMap</i> returns Success. If
unsuccessful, <i>XkbGetUpdatedMap</i> returns one of the
following: BadAlloc (unable to allocate a component in the
XkbDescRec structure), BadValue (some mask bits in
<i>which</i> are undefined), BadImplementation (a compatible
version of the Xkb extension is not available in the server
or the reply from the server was invalid).</p>
<h2>RETURN VALUES
<a name="RETURN VALUES"></a>
</h2>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="9%">
<p style="margin-top: 1em">Success</p></td>
<td width="10%"></td>
<td width="72%">
<p style="margin-top: 1em">The <i>XkbGetUpdatedMap</i>
function returns Success if a reply is received to the
server query for the desired information.</p></td></tr>
</table>
<h2>STRUCTURES
<a name="STRUCTURES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The complete
description of an Xkb keyboard is given by an XkbDescRec.
The component structures in the XkbDescRec represent the
major Xkb components.</p>
<p style="margin-left:9%; margin-top: 1em">typedef struct {
<br/>
struct _XDisplay * display; /* connection to X server */
<br/>
unsigned short flags; /* private to Xkb, do not modify */
<br/>
unsigned short device_spec; /* device of interest */ <br/>
KeyCode min_key_code; /* minimum keycode for device */ <br/>
KeyCode max_key_code; /* maximum keycode for device */ <br/>
XkbControlsPtr ctrls; /* controls */ <br/>
XkbServerMapPtr server; /* server keymap */ <br/>
XkbClientMapPtr map; /* client keymap */ <br/>
XkbIndicatorPtr indicators; /* indicator map */ <br/>
XkbNamesPtr names; /* names for all components */ <br/>
XkbCompatMapPtr compat; /* compatibility map */ <br/>
XkbGeometryPtr geom; /* physical geometry of keyboard */
<br/>
} XkbDescRec, *XkbDescPtr;</p>
<p style="margin-left:9%; margin-top: 1em">The
<i>display</i> field points to an X display structure. The
<i>flags</i> field is private to the library: modifying
<i>flags</i> may yield unpredictable results. The
<i>device_spec</i> field specifies the device identifier of
the keyboard input device, or XkbUseCoreKeyboard, which
specifies the core keyboard device. The <i>min_key_code</i>
and <i>max_key_code</i> fields specify the least and
greatest keycode that can be returned by the keyboard.</p>
<p style="margin-left:9%; margin-top: 1em">Each structure
component has a corresponding mask bit that is used in
function calls to indicate that the structure should be
manipulated in some manner, such as allocating it or freeing
it. These masks and their relationships to the fields in the
XkbDescRec are shown in Table 2.</p>
<h2>DIAGNOSTICS
<a name="DIAGNOSTICS"></a>
</h2>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="10%">
<p style="margin-top: 1em"><b>BadAlloc</b></p></td>
<td width="9%"></td>
<td width="34%">
<p style="margin-top: 1em">Unable to allocate storage</p></td>
<td width="38%">
</td></tr>
</table>
<p style="margin-left:9%;"><b>BadImplementation</b></p>
<p style="margin-left:28%;">Invalid reply from server</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="10%">
<p><b>BadValue</b></p></td>
<td width="9%"></td>
<td width="35%">
<p>An argument is out of range</p></td>
<td width="37%">
</td></tr>
</table>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>XkbChangeTypesOfKey</b>(3),
<b>XkbCopyKeyType</b>(3), <b>XkbCopyKeyTypes</b>(3),
<b>XkbGetKeyActions</b>(3), <b>XkbGetKeyBehaviors</b>(3),
<b>XkbGetKeyExplicitComponents</b>(3),
<b>XkbGetKeyModifierMap</b>(3), <b>XkbGetKeySyms</b>(3),
<b>XkbGetKeyTypes</b>(3), <b>XkbResizeKeyActions</b>(3),
<b>XkbResizeKeySyms</b>(3), <b>XkbResizeKeyType</b>(3),
<b>XkbGetVirtualModMap</b>(3),
<b>XkbGetVirtualMods</b>(3)</p>
<hr/>
</body>
</html>
