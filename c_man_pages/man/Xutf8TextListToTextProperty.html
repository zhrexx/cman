<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 20:55:01 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>XmbTextListToTextProperty</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">XmbTextListToTextProperty</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNTAX">SYNTAX</a><br/>
<a href="#ARGUMENTS">ARGUMENTS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#STRUCTURES">STRUCTURES</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">XmbTextListToTextProperty,
XwcTextListToTextProperty, Xutf8TextListToTextProperty,
XmbTextPropertyToTextList, XwcTextPropertyToTextList,
Xutf8TextPropertyToTextList, XwcFreeStringList,
XDefaultString − convert text lists and text property
structures</p>
<h2>SYNTAX
<a name="SYNTAX"></a>
</h2>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">int
XmbTextListToTextProperty(Display *<i>display</i>, char
**<i>list</i>, int <i>count</i>, XICCEncodingStyle
<i>style</i>, XTextProperty *<i>text_prop_return</i>);</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">int
XwcTextListToTextProperty(Display *<i>display</i>, wchar_t
**<i>list</i>, int <i>count</i>, XICCEncodingStyle
<i>style</i>, XTextProperty *<i>text_prop_return</i>);</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">int
Xutf8TextListToTextProperty(Display *<i>display</i>, char
**<i>list</i>, int <i>count</i>, XICCEncodingStyle
<i>style</i>, XTextProperty *<i>text_prop_return</i>);</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">int
XmbTextPropertyToTextList(Display *<i>display</i>, _Xconst
XTextProperty *<i>text_prop</i>, char ***<i>list_return</i>,
int *<i>count_return</i>);</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">int
XwcTextPropertyToTextList(Display *<i>display</i>, _Xconst
XTextProperty *<i>text_prop</i>, wchar_t
***<i>list_return</i>, int *<i>count_return</i>);</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">int
Xutf8TextPropertyToTextList(Display *<i>display</i>, _Xconst
XTextProperty *<i>text_prop</i>, char ***<i>list_return</i>,
int *<i>count_return</i>);</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">void XwcFreeStringList(wchar_t
**<i>list</i>);</p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">char *XDefaultString(void)</p></td></tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>
<td width="9%"></td>
<td width="9%"></td>
<td width="4%"></td>
<td width="69%">
</td>
<td width="9%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="9%">
<p><i>display</i></p></td>
<td width="4%"></td>
<td width="69%">
<p>Specifies the connection to the X server.</p></td>
<td width="9%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="9%">
<p><i>list</i></p></td>
<td width="4%"></td>
<td width="69%">
<p>Specifies a list of null-terminated character
strings.</p> </td>
<td width="9%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="9%">
<p><i>count</i></p></td>
<td width="4%"></td>
<td width="69%">
<p>Specifies the number of strings specified.</p></td>
<td width="9%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="9%">
<p><i>style</i></p></td>
<td width="4%"></td>
<td width="69%">
<p>Specifies the manner in which the property is
encoded.</p> </td>
<td width="9%">
</td></tr>
</table>
<p style="margin-left:9%;"><i>text_prop_return</i></p>
<p style="margin-left:22%;">Returns the
<b>XTextProperty</b> structure.</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="12%">
<p><i>text_prop</i></p></td>
<td width="1%"></td>
<td width="63%">
<p>Specifies the <b>XTextProperty</b> structure to be
used.</p> </td>
<td width="15%">
</td></tr>
</table>
<p style="margin-left:9%;"><i>list_return</i></p>
<p style="margin-left:22%;">Returns a list of
null-terminated character strings.</p>
<p style="margin-left:9%;"><i>count_return</i></p>
<p style="margin-left:22%;">Returns the number of
strings.</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="5%">
<p><i>list</i></p></td>
<td width="8%"></td>
<td width="54%">
<p>Specifies the list of strings to be freed.</p></td>
<td width="24%">
</td></tr>
</table>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The
<b>XmbTextListToTextProperty</b>,
<b>XwcTextListToTextProperty</b> and
<b>Xutf8TextListToTextProperty</b> functions set the
specified <b>XTextProperty</b> value to a set of
null-separated elements representing the concatenation of
the specified list of null-terminated text strings. The
input text strings must be given in the current locale
encoding (for <b>XmbTextListToTextProperty</b> and
<b>XwcTextListToTextProperty</b>), or in UTF-8 encoding (for
<b>Xutf8TextListToTextProperty</b>).</p>
<p style="margin-left:9%; margin-top: 1em">The functions
set the encoding field of text_prop_return to an <b>Atom</b>
for the specified display naming the encoding determined by
the specified style and convert the specified text list to
this encoding for storage in the text_prop_return value
field. If the style <b>XStringStyle</b> or
<b>XCompoundTextStyle</b> is specified, this encoding is
“STRING” or “COMPOUND_TEXT”,
respectively. If the style <b>XUTF8StringStyle</b> is
specified, this encoding is “UTF8_STRING”. (This
is an extension introduced by The XFree86 Project, Inc., in
their 4.0.2 release. Its presence is indicated by the macro
<b>X_HAVE_UTF8_STRING</b>.) If the style <b>XTextStyle</b>
is specified, this encoding is the encoding of the current
locale. If the style <b>XStdICCTextStyle</b> is specified,
this encoding is “STRING” if the text is fully
convertible to STRING, else “COMPOUND_TEXT”. A
final terminating null byte is stored at the end of the
value field of text_prop_return but is not included in the
nitems member.</p>
<p style="margin-left:9%; margin-top: 1em">If insufficient
memory is available for the new value string, the functions
return <b>XNoMemory</b>. If the current locale is not
supported, the functions return <b>XLocaleNotSupported</b>.
In both of these error cases, the functions do not set
text_prop_return.</p>
<p style="margin-left:9%; margin-top: 1em">To determine if
the functions are guaranteed not to return
<b>XLocaleNotSupported</b>, use <b>XSupportsLocale</b>.</p>
<p style="margin-left:9%; margin-top: 1em">If the supplied
text is not fully convertible to the specified encoding, the
functions return the number of unconvertible characters.
Each unconvertible character is converted to an
implementation-defined and encoding-specific default string.
Otherwise, the functions return <b>Success</b>. Note that
full convertibility to all styles except <b>XStringStyle</b>
is guaranteed.</p>
<p style="margin-left:9%; margin-top: 1em">To free the
storage for the value field, use <b>XFree</b>.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>XmbTextPropertyToTextList</b>,
<b>XwcTextPropertyToTextList</b> and
<b>Xutf8TextPropertyToTextList</b> functions return a list
of text strings representing the null-separated elements of
the specified <b>XTextProperty</b> structure. The returned
strings are encoded using the current locale encoding (for
<b>XmbTextPropertyToTextList</b> and
<b>XwcTextPropertyToTextList</b>) or in UTF-8 (for
<b>Xutf8TextPropertyToTextList</b>). The data in text_prop
must be format 8.</p>
<p style="margin-left:9%; margin-top: 1em">Multiple
elements of the property (for example, the strings in a
disjoint text selection) are separated by a null byte. The
contents of the property are not required to be
null-terminated; any terminating null should not be included
in text_prop.nitems.</p>
<p style="margin-left:9%; margin-top: 1em">If insufficient
memory is available for the list and its elements,
<b>XmbTextPropertyToTextList</b>,
<b>XwcTextPropertyToTextList</b> and
<b>Xutf8TextPropertyToTextList</b> return <b>XNoMemory</b>.
If the current locale is not supported, the functions return
<b>XLocaleNotSupported</b>. Otherwise, if the encoding field
of text_prop is not convertible to the encoding of the
current locale, the functions return
<b>XConverterNotFound</b>. For supported locales, existence
of a converter from COMPOUND_TEXT, STRING, UTF8_STRING or
the encoding of the current locale is guaranteed if
<b>XSupportsLocale</b> returns <b>True</b> for the current
locale (but the actual text may contain unconvertible
characters). Conversion of other encodings is
implementation-dependent. In all of these error cases, the
functions do not set any return values.</p>
<p style="margin-left:9%; margin-top: 1em">Otherwise,
<b>XmbTextPropertyToTextList</b>,
<b>XwcTextPropertyToTextList</b> and
<b>Xutf8TextPropertyToTextList</b> return the list of
null-terminated text strings to list_return and the number
of text strings to count_return.</p>
<p style="margin-left:9%; margin-top: 1em">If the value
field of text_prop is not fully convertible to the encoding
of the current locale, the functions return the number of
unconvertible characters. Each unconvertible character is
converted to a string in the current locale that is specific
to the current locale. To obtain the value of this string,
use <b>XDefaultString</b>. Otherwise,
<b>XmbTextPropertyToTextList</b>,
<b>XwcTextPropertyToTextList</b> and
<b>Xutf8TextPropertyToTextList</b> return
<b>Success</b>.</p>
<p style="margin-left:9%; margin-top: 1em">To free the
storage for the list and its contents returned by
<b>XmbTextPropertyToTextList</b> or
<b>Xutf8TextPropertyToTextList</b>, use
<b>XFreeStringList</b>. To free the storage for the list and
its contents returned by <b>XwcTextPropertyToTextList</b>,
use <b>XwcFreeStringList</b>.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>XwcFreeStringList</b> function frees memory allocated by
<b>XwcTextPropertyToTextList</b>.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>XDefaultString</b> function returns the default string
used by Xlib for text conversion (for example, in
<b>XmbTextPropertyToTextList</b>). The default string is the
string in the current locale that is output when an
unconvertible character is found during text conversion. If
the string returned by <b>XDefaultString</b> is the empty
string (""), no character is output in the
converted text. <b>XDefaultString</b> does not return
NULL.</p>
<p style="margin-left:9%; margin-top: 1em">The string
returned by <b>XDefaultString</b> is independent of the
default string for text drawing; see <b>XCreateFontSet</b>
to obtain the default string for an <b>XFontSet</b>.</p>
<p style="margin-left:9%; margin-top: 1em">The behavior
when an invalid codepoint is supplied to any Xlib function
is undefined.</p>
<p style="margin-left:9%; margin-top: 1em">The returned
string is null-terminated. It is owned by Xlib and should
not be modified or freed by the client. It may be freed
after the current locale is changed. Until freed, it will
not be modified by Xlib.</p>
<p style="margin-left:9%; margin-top: 1em">The functions
<b>Xutf8TextListToTextProperty</b> and
<b>Xutf8TextPropertyToTextList</b> are extensions introduced
by The XFree86 Project, Inc., in their 4.0.2 release. Their
presence is indicated by the macro
<b>X_HAVE_UTF8_STRING</b>.</p>
<h2>STRUCTURES
<a name="STRUCTURES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The
<b>XTextProperty</b> structure contains:</p>
<p style="margin-left:9%; margin-top: 1em">typedef struct {
<br/>
unsigned char *value; /* property data */ <br/>
Atom encoding; /* type of property */ <br/>
int format; /* 8, 16, or 32 */ <br/>
unsigned long nitems; /* number of items in value */ <br/>
} XTextProperty;</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>XICCEncodingStyle</b> structure contains:</p>
<p style="margin-left:9%; margin-top: 1em">typedef enum {
<br/>
XStringStyle, /* STRING */ <br/>
XCompoundTextStyle, /* COMPOUND_TEXT */ <br/>
XTextStyle, /* text in owner’s encoding (current
locale) */ <br/>
XStdICCTextStyle, /* STRING, else COMPOUND_TEXT */ <br/>
XUTF8StringStyle /* UTF8_STRING */ <br/>
} XICCEncodingStyle;</p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">XSetTextProperty(3),
XStringListToTextProperty(3) <i><br/>
Xlib − C Language X Interface</i></p>
<hr/>
</body>
</html>
