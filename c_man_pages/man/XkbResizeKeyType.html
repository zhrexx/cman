<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 19:56:49 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>XkbResizeKeyType</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">XkbResizeKeyType</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#ARGUMENTS">ARGUMENTS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#RETURN VALUES">RETURN VALUES</a><br/>
<a href="#DIAGNOSTICS">DIAGNOSTICS</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">XkbResizeKeyType
− Change the number of levels in a key type</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="31%">
<p style="margin-top: 1em"><b>Status
XkbResizeKeyType</b></p> </td>
<td width="2%"></td>
<td width="58%">
<p style="margin-top: 1em"><b>(XkbDescPtr</b>
<i>xkb</i><b>, int</b> <i>type_ndx</i><b>, int</b>
<i>map_count</i><b>,</b></p> </td></tr>
</table>
<p style="margin-left:9%;"><b>Bool</b>
<i>want_preserve</i><b>, int</b>
<i>new_num_lvls</i><b>);</b></p>
<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="4%">
<p style="margin-top: 1em"><b><i>xkb</i></b></p></td>
<td width="5%"></td>
<td width="67%">
<p style="margin-top: 1em">keyboard description containing
client map to update</p></td>
<td width="15%">
</td></tr>
</table>
<p style="margin-left:9%;"><i>type_ndx</i></p>
<p style="margin-left:18%;">index in xkb-&gt;map-&gt;types
of type to change</p>
<p style="margin-left:9%;"><i>map_count</i></p>
<p style="margin-left:18%;">total # of map entries needed
for the type</p>
<p style="margin-left:9%;"><i>want_preserve</i></p>
<p style="margin-left:18%;">True =&gt; list of preserved
modifiers is necessary</p>
<p style="margin-left:9%;"><i>new_num_lvls</i></p>
<p style="margin-left:18%;">new max # of levels for
type</p>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><i>XkbResizeKeyType</i>
changes the type specified by
<i>xkb-&gt;map-&gt;types[type_ndx],</i> and reallocates the
symbols and actions bound to all keys that use the type, if
necessary. <i>XkbResizeKeyType</i> updates only the local
copy of the types in <i>xkb;</i> to update the
server’s copy for the physical device, use
<i>XkbSetMap</i> or <i>XkbChangeMap</i> after calling
<i>XkbResizeKeyType.</i></p>
<p style="margin-left:9%; margin-top: 1em">The
<i>map_count</i> parameter specifies the total number of map
entries needed for the type, and can be zero or greater. If
<i>map_count</i> is zero, <i>XkbResizeKeyType</i> frees the
existing <i>map</i> and <i>preserve</i> entries for the type
if they exist and sets them to NULL.</p>
<p style="margin-left:9%; margin-top: 1em">The
<i>want_preserve</i> parameter specifies whether a
<i>preserve</i> list for the key should be created. If
<i>want_preserve</i> is True, the <i>preserve</i> list with
<i>map_count</i> entries is allocated or reallocated if it
already exists. Otherwise, if <i>want_preserve</i> is False,
the <i>preserve</i> field is freed if necessary and set to
NULL.</p>
<p style="margin-left:9%; margin-top: 1em">The
<i>new_num_lvls</i> parameter specifies the new maximum
number of shift levels for the type and is used to calculate
and resize the symbols and actions bound to all keys that
use the type.</p>
<p style="margin-left:9%; margin-top: 1em">If
<i>type_ndx</i> does not specify a legal type,
<i>new_num_lvls</i> is less than 1, or the <i>map_count</i>
is less than zero, <i>XkbResizeKeyType</i> returns BadValue.
If <i>XkbResizeKeyType</i> encounters any problems with
allocation, it returns BadAlloc. Otherwise, it returns
Success.</p>
<h2>RETURN VALUES
<a name="RETURN VALUES"></a>
</h2>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="9%">
<p style="margin-top: 1em">Success</p></td>
<td width="10%"></td>
<td width="72%">
<p style="margin-top: 1em">The <i>XkbResizeKeyType</i>
function returns Success if <i>type_ndx</i> specifies a
legal type, <i>new_num_lvls</i> is greater than zero and
<i>map_count</i> is positive.</p></td></tr>
</table>
<h2>DIAGNOSTICS
<a name="DIAGNOSTICS"></a>
</h2>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="10%">
<p style="margin-top: 1em"><b>BadAlloc</b></p></td>
<td width="9%"></td>
<td width="35%">
<p style="margin-top: 1em">Unable to allocate storage</p></td>
<td width="37%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="10%">
<p><b>BadValue</b></p></td>
<td width="9%"></td>
<td width="35%">
<p>An argument is out of range</p></td>
<td width="37%">
</td></tr>
</table>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>XkbChangeMap</b>(3),
<b>XkbSetMap</b>(3)</p>
<hr/>
</body>
</html>
