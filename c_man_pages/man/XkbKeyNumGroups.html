<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 19:56:47 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>XkbKeyNumGroups</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">XkbKeyNumGroups</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#ARGUMENTS">ARGUMENTS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#STRUCTURES">STRUCTURES</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">XkbKeyNumGroups
− Returns the number of groups of symbols bound to the
key corresponding to keycode</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="24%">
<p style="margin-top: 1em"><b>int XkbKeyNumGroups</b></p></td>
<td width="2%"></td>
<td width="43%">
<p style="margin-top: 1em"><b>(XkbDescPtr</b>
<i>xkb</i><b>, KeyCode</b> <i>keycode</i><b>);</b></p></td>
<td width="22%">
</td></tr>
</table>
<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="4%">
<p style="margin-top: 1em"><b><i>xkb</i></b></p></td>
<td width="5%"></td>
<td width="35%">
<p style="margin-top: 1em">Xkb description of interest</p></td>
<td width="47%">
</td></tr>
</table>
<p style="margin-left:9%;"><i>keycode</i></p>
<p style="margin-left:18%;">keycode of interest</p>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The
<i>group_info</i> field of an XkbSymMapRec is an encoded
value containing the number of groups of symbols bound to
the key as well as the specification of the treatment of
out-of-range groups. It is legal for a key to have zero
groups, in which case it also has zero symbols and all
events from that key yield NoSymbol. To obtain the number of
groups of symbols bound to the key, use
<i>XkbKeyNumGroups.</i> To change the number of groups bound
to a key, use <i>XkbChangeTypesOfKey.</i> To obtain a mask
that determines the treatment of out-of-range groups, use
<i>XkbKeyGroupInfo</i> and
<i>XkbOutOfRangeGroupInfo.</i></p>
<p style="margin-left:9%; margin-top: 1em">The keyboard
controls contain a <i>groups_wrap</i> field specifying the
handling of illegal groups on a global basis. That is, when
the user performs an action causing the effective group to
go out of the legal range, the <i>groups_wrap</i> field
specifies how to normalize the effective keyboard group to a
group that is legal for the keyboard as a whole, but there
is no guarantee that the normalized group will be within the
range of legal groups for any individual key. The per-key
<i>group_info</i> field specifies how a key treats a legal
effective group if the key does not have a type specified
for the group of concern. For example, the Enter key usually
has just one group defined. If the user performs an action
causing the global keyboard group to change to Group2, the
<i>group_info</i> field for the Enter key describes how to
handle this situation.</p>
<p style="margin-left:9%; margin-top: 1em">Out-of-range
groups for individual keys are mapped to a legal group using
the same options as are used for the overall keyboard group.
The particular type of mapping used is controlled by the
bits set in the <i>group_info</i> flag, as shown in Table
1.</p>
<p style="margin-top: 1em">The Xkb extension is composed of
two parts: a server extension, and a client-side X library
extension. This chapter discusses functions used to modify
controls effecting the behavior of the server portion of the
Xkb extension. X Library Controls discusses functions used
to modify controls that affect only the behavior of the
client portion of the extension; those controls are known as
Library Controls.</p>
<p style="margin-top: 1em">Xkb contains control features
that affect the entire keyboard, known as global keyboard
controls. Some of the controls may be selectively enabled
and disabled; these controls are known as the <i>Boolean
Controls.</i> Boolean Controls can be turned on or off under
program control and can also be automatically set to an on
or off condition when a client program exits. The remaining
controls, known as the <i>Non-Boolean Controls,</i> are
always active. The XkbControlsRec structure describes the
current state of most of the global controls and the
attributes effecting the behavior of each of these Xkb
features. This chapter describes the Xkb controls and how to
manipulate them.</p>
<p style="margin-top: 1em">There are two possible
components for each of the Boolean Controls: attributes
describing how the control should work, and a state
describing whether the behavior as a whole is enabled or
disabled. The attributes and state for most of these
controls are held in the XkbControlsRec structure.</p>
<p style="margin-top: 1em">You can manipulate the Xkb
controls individually, via convenience functions, or as a
whole. To treat them as a group, modify an XkbControlsRec
structure to describe all of the changes to be made, and
then pass that structure and appropriate flags to an Xkb
library function, or use a XkbControlsChangesRec to reduce
network traffic. When using a convenience function to
manipulate one control individually, you do not use an
XkbControlsRec structure directly.</p>
<p style="margin-top: 1em">The Xkb controls are grouped as
shown in Table 2.</p>
<p style="margin-top: 1em">The individual categories and
controls are described first, together with functions for
manipulating them.</p>
<h2>STRUCTURES
<a name="STRUCTURES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The KeySymMapRec
structure is defined as follows:</p>
<p style="margin-left:9%; margin-top: 1em">#define
XkbNumKbdGroups 4 <br/>
#define XkbMaxKbdGroup (XkbNumKbdGroups-1)</p>
<p style="margin-left:9%; margin-top: 1em">typedef struct {
/* map to keysyms for a single keycode */ <br/>
unsigned char kt_index[XkbNumKbdGroups]; /* key type index
for each group */ <br/>
unsigned char group_info; /* # of groups and out of range
group handling */</p>
<p>unsigned char width; /* max # of shift levels for key */
<br/>
unsigned short offset; /* index to keysym table in syms
array */ <br/>
} XkbSymMapRec, *XkbSymMapPtr;</p>
<p style="margin-top: 1em">The XkbControlsRec structure is
defined as follows:</p>
<p style="margin-top: 1em">#define XkbMaxLegalKeyCode 255
<br/>
#define XkbPerKeyBitArraySize ((XkbMaxLegalKeyCode+1)/8)</p>
<p style="margin-top: 1em">typedef struct { <br/>
unsigned char mk_dflt_btn; /* default button for keyboard
driven mouse */ <br/>
unsigned char num_groups; /* number of keyboard groups */
<br/>
unsigned char groups_wrap; /* how to wrap out-of-bounds
groups */ <br/>
XkbModsRec internal; /* defines server internal modifiers */
<br/>
XkbModsRec ignore_lock; /* modifiers to ignore when checking
for grab */ <br/>
unsigned int enabled_ctrls; /* 1 bit =&gt; corresponding
boolean control enabled */ <br/>
unsigned short repeat_delay; /* ms delay until first repeat
*/ <br/>
unsigned short repeat_interval; /* ms delay between repeats
*/ <br/>
unsigned short slow_keys_delay; /* ms minimum time key must
be down to be ok */ <br/>
unsigned short debounce_delay; /* ms delay before key
reactivated */ <br/>
unsigned short mk_delay; /* ms delay to second mouse motion
event */ <br/>
unsigned short mk_interval; /* ms delay between repeat mouse
events */ <br/>
unsigned short mk_time_to_max; /* # intervals until constant
mouse move */ <br/>
unsigned short mk_max_speed; /* multiplier for maximum mouse
speed */ <br/>
short mk_curve; /* determines mouse move curve type */ <br/>
unsigned short ax_options; /* 1 bit =&gt; Access X option
enabled */ <br/>
unsigned short ax_timeout; /* seconds until Access X
disabled */ <br/>
unsigned short axt_opts_mask; /* 1 bit =&gt; options to
reset on Access X timeout */ <br/>
unsigned short axt_opts_values; /* 1 bit =&gt; turn option
on, 0=&gt; off */ <br/>
unsigned int axt_ctrls_mask; /* which bits in enabled_ctrls
to modify */ <br/>
unsigned int axt_ctrls_values; /* values for new bits in
enabled_ctrls */ <br/>
unsigned char per_key_repeat[XkbPerKeyBitArraySize]; /* per
key auto repeat */ <br/>
} XkbControlsRec, *XkbControlsPtr;</p>
<p style="margin-top: 1em">The XkbControlsRec structure is
defined as follows:</p>
<p style="margin-top: 1em">#define XkbMaxLegalKeyCode 255
<br/>
#define XkbPerKeyBitArraySize ((XkbMaxLegalKeyCode+1)/8)</p>
<p style="margin-top: 1em">typedef struct { <br/>
unsigned char mk_dflt_btn; /* default button for keyboard
driven mouse */ <br/>
unsigned char num_groups; /* number of keyboard groups */
<br/>
unsigned char groups_wrap; /* how to wrap out-of-bounds
groups */ <br/>
XkbModsRec internal; /* defines server internal modifiers
*/</p>
<p>XkbModsRec ignore_lock; /* modifiers to ignore when
checking for grab */ <br/>
unsigned int enabled_ctrls; /* 1 bit =&gt; corresponding
booleancontrol enabled */ <br/>
unsigned short repeat_delay; /* ms delay until first repeat
*/ <br/>
unsigned short repeat_interval; /* ms delay between repeats
*/ <br/>
unsigned short slow_keys_delay; /* ms minimum time key must
be down to be ok */ <br/>
unsigned short debounce_delay; /* ms delay before key
reactivated */ <br/>
unsigned short mk_delay; /* ms delay to second mouse motion
event */ <br/>
unsigned short mk_interval; /* ms delay between repeat mouse
events */ <br/>
unsigned short mk_time_to_max; /* # intervals until constant
mouse move */ <br/>
unsigned short mk_max_speed; /* multiplier for maximum mouse
speed */ <br/>
short mk_curve; /* determines mouse move curve type */ <br/>
unsigned short ax_options; /* 1 bit =&gt; Access X option
enabled */ <br/>
unsigned short ax_timeout; /* seconds until Access X
disabled */ <br/>
unsigned short axt_opts_mask; /* 1 bit =&gt; options to
reset on Access X timeout */ <br/>
unsigned short axt_opts_values; /* 1 bit =&gt; turn option
on, 0=&gt; off */ <br/>
unsigned int axt_ctrls_mask; /* which bits in enabled_ctrls
to modify */ <br/>
unsigned int axt_ctrls_values; /* values for new bits in
enabled_ctrls */ <br/>
unsigned char per_key_repeat[XkbPerKeyBitArraySize]; /* per
key auto repeat */ <br/>
} XkbControlsRec, *XkbControlsPtr;</p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>XkbChangeTypesOfKey</b>(3),
<b>XkbKeyGroupInfo</b>(3),
<b>XkbOutOfRangeGroupInfo.</b>(3)</p>
<hr/>
</body>
</html>
