<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 20:51:54 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>Test2::EventFacet::Trace</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">Test2::EventFacet::Trace</h1>
<a href="#NAME">NAME</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#FACET FIELDS">FACET FIELDS</a><br/>
<a href="#DISCOURAGED HUB RELATED FIELDS">DISCOURAGED HUB RELATED FIELDS</a><br/>
<a href="#METHODS">METHODS</a><br/>
<a href="#SOURCE">SOURCE</a><br/>
<a href="#MAINTAINERS">MAINTAINERS</a><br/>
<a href="#AUTHORS">AUTHORS</a><br/>
<a href="#COPYRIGHT">COPYRIGHT</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Test2::EventFacet::Trace
− Debug information for events</p>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The
Test2::API::Context object, as well as all Test2::Event
types need to have access to information about where they
were created. This object represents that information.</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">use
Test2::EventFacet::Trace; <br/>
my $trace = Test2::EventFacet::Trace−&gt;new( <br/>
frame =&gt; [$package, $file, $line, $subname], <br/>
);</p>
<h2>FACET FIELDS
<a name="FACET FIELDS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">$string =
$trace−&gt;{details} <br/>
$string = $trace−&gt;<b>details()</b></p>
<p style="margin-left:14%;">Used as a custom trace message
that will be used INSTEAD of "at &lt;FILE&gt; line
&lt;LINE&gt;" when calling
"$trace−&gt;debug".</p>
<p style="margin-left:9%;">$frame =
$trace−&gt;{frame} <br/>
$frame = $trace−&gt;<b>frame()</b></p>
<p style="margin-left:14%;">Get the call frame
arrayref.</p>
<p style="margin-left:14%; margin-top: 1em">[$package,
$file, $line, $subname]</p>
<p style="margin-left:9%;">$int = $trace−&gt;{pid}
<br/>
$int = $trace−&gt;<b>pid()</b></p>
<p style="margin-left:14%;">The process ID in which the
event was generated.</p>
<p style="margin-left:9%;">$int = $trace−&gt;{tid}
<br/>
$int = $trace−&gt;<b>tid()</b></p>
<p style="margin-left:14%;">The thread ID in which the
event was generated.</p>
<p style="margin-left:9%;">$id = $trace−&gt;{cid}
<br/>
$id = $trace−&gt;<b>cid()</b></p>
<p style="margin-left:14%;">The ID of the context that was
used to create the event.</p>
<p style="margin-left:9%;">$uuid = $trace−&gt;{uuid}
<br/>
$uuid = $trace−&gt;<b>uuid()</b></p>
<p style="margin-left:14%;">The UUID of the context that
was used to create the event. (If uuid tagging was
enabled)</p>
<p style="margin-left:9%;">($pkg, $file, $line, $subname) =
$trace−&gt;call</p>
<p style="margin-left:14%;">Get the basic call info as a
list.</p>
<p style="margin-left:9%;">@caller =
$trace−&gt;full_call</p>
<p style="margin-left:14%;">Get the full caller(N)
results.</p>
<p style="margin-left:9%;">$warning_bits =
$trace−&gt;warning_bits</p>
<p style="margin-left:14%;">Get index 9 from the full
caller info. This is the warnings_bits field.</p>
<p style="margin-left:14%; margin-top: 1em">The value of
this is not portable across perl versions or even processes.
However it can be used in the process that generated it to
reproduce the warnings settings in a new scope.</p>
<p style="margin-left:14%; margin-top: 1em">eval
&lt;&lt;EOT; <br/>
BEGIN { ${ˆWARNING_BITS} =
$trace−&gt;warning_bits }; <br/>
... context's warning settings apply here ... <br/>
EOT</p>
<h3>DISCOURAGED HUB RELATED FIELDS
<a name="DISCOURAGED HUB RELATED FIELDS"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">These fields
were not always set properly by tools. These are
<b>MOSTLY</b> deprecated by the Test2::EventFacet::Hub
facets. These fields are not required, and may only reflect
the hub that was current when the event was created, which
is not necessarily the same as the hub the event was sent
through.</p>
<p style="margin-left:9%; margin-top: 1em">Some tools did
do a good job setting these to the correct hub, but you
cannot always rely on that. Use the 'hubs' facet list
instead. <br/>
$hid = $trace−&gt;{hid} <br/>
$hid = $trace−&gt;<b>hid()</b></p>
<p style="margin-left:14%;">The ID of the hub that was
current when the event was created.</p>
<p style="margin-left:9%;">$huuid =
$trace−&gt;{huuid} <br/>
$huuid = $trace−&gt;<b>huuid()</b></p>
<p style="margin-left:14%;">The UUID of the hub that was
current when the event was created. (If uuid tagging was
enabled).</p>
<p style="margin-left:9%;">$int = $trace−&gt;{nested}
<br/>
$int = $trace−&gt;<b>nested()</b></p>
<p style="margin-left:14%;">How deeply nested the event
is.</p>
<p style="margin-left:9%;">$bool =
$trace−&gt;{buffered} <br/>
$bool = $trace−&gt;<b>buffered()</b></p>
<p style="margin-left:14%;">True if the event was buffered
and not sent to the formatter independent of a parent (This
should never be set when nested is 0 or
"undef").</p>
<h2>METHODS
<a name="METHODS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>Note:</b> All
facet frames are also methods. <br/>
$trace−&gt;set_detail($msg) <br/>
$msg = $trace−&gt;detail</p>
<p style="margin-left:14%;">Used to get/set a custom trace
message that will be used INSTEAD of "at &lt;FILE&gt;
line &lt;LINE&gt;" when calling
"$trace−&gt;debug".</p>
<p style="margin-left:14%; margin-top: 1em">detail() is an
alias to the "details" facet field for backwards
compatibility.</p>
<p style="margin-left:9%;">$str =
$trace−&gt;debug</p>
<p style="margin-left:14%;">Typically returns the string
"at &lt;FILE&gt; line &lt;LINE&gt;". If
"detail" is set then its value will be returned
instead.</p>
<p style="margin-left:9%;">$trace−&gt;alert($MESSAGE)</p>
<p style="margin-left:14%;">This issues a warning at the
frame (filename and line number where errors should be
reported).</p>
<p style="margin-left:9%;">$trace−&gt;throw($MESSAGE)</p>
<p style="margin-left:14%;">This throws an exception at the
frame (filename and line number where errors should be
reported).</p>
<p style="margin-left:9%;">($package, $file, $line,
$subname) = $trace−&gt;<b>call()</b></p>
<p style="margin-left:14%;">Get the caller details for the
debug−info. This is where errors should be
reported.</p>
<p style="margin-left:9%;">$pkg =
$trace−&gt;package</p>
<p style="margin-left:14%;">Get the debug−info
package.</p>
<p style="margin-left:9%;">$file =
$trace−&gt;file</p>
<p style="margin-left:14%;">Get the debug−info
filename.</p>
<p style="margin-left:9%;">$line =
$trace−&gt;line</p>
<p style="margin-left:14%;">Get the debug−info line
number.</p>
<p style="margin-left:9%;">$subname =
$trace−&gt;subname</p>
<p style="margin-left:14%;">Get the debug−info
subroutine name.</p>
<p style="margin-left:9%;">$sig =
trace−&gt;signature</p>
<p style="margin-left:14%;">Get a signature string that
identifies this trace. This is used to check if multiple
events are related. The signature includes pid, tid, file,
line number, and the cid.</p>
<h2>SOURCE
<a name="SOURCE"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The source code
repository for Test2 can be found at
&lt;https://github.com/Test−More/test−more/&gt;.</p>
<h2>MAINTAINERS
<a name="MAINTAINERS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Chad Granum
&lt;exodist@cpan.org&gt;</p>
<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Chad Granum
&lt;exodist@cpan.org&gt;</p>
<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Copyright Chad
Granum &lt;exodist@cpan.org&gt;.</p>
<p style="margin-left:9%; margin-top: 1em">This program is
free software; you can redistribute it and/or modify it
under the same terms as Perl itself.</p>
<p style="margin-left:9%; margin-top: 1em">See
&lt;https://dev.perl.org/licenses/&gt;</p>
<hr/>
</body>
</html>
