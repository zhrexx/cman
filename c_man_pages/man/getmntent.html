<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 20:43:50 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>getmntent</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">getmntent</h1>
<a href="#NAME">NAME</a><br/>
<a href="#LIBRARY">LIBRARY</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#RETURN VALUE">RETURN VALUE</a><br/>
<a href="#FILES">FILES</a><br/>
<a href="#ATTRIBUTES">ATTRIBUTES</a><br/>
<a href="#STANDARDS">STANDARDS</a><br/>
<a href="#HISTORY">HISTORY</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">getmntent,
setmntent, addmntent, endmntent, hasmntopt, getmntent_r
− get filesystem descriptor file entry</p>
<h2>LIBRARY
<a name="LIBRARY"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Standard C
library (<i>libc</i>, <i>−lc</i>)</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>#include
&lt;stdio.h&gt; <br/>
#include &lt;mntent.h&gt;</b></p>
<p style="margin-left:9%; margin-top: 1em"><b>FILE
*setmntent(const char *</b><i>filename</i><b>, const char
*</b><i>type</i><b>);</b></p>
<p style="margin-left:9%; margin-top: 1em"><b>struct mntent
*getmntent(FILE *</b><i>stream</i><b>);</b></p>
<p style="margin-left:9%; margin-top: 1em"><b>int
addmntent(FILE *restrict</b> <i>stream</i><b>, <br/>
const struct mntent *restrict</b> <i>mnt</i><b>);</b></p>
<p style="margin-left:9%; margin-top: 1em"><b>int
endmntent(FILE *</b><i>streamp</i><b>);</b></p>
<p style="margin-left:9%; margin-top: 1em"><b>char
*hasmntopt(const struct mntent *</b><i>mnt</i><b>, const
char *</b><i>opt</i><b>);</b></p>
<p style="margin-left:9%; margin-top: 1em">/* GNU extension
*/ <b><br/>
#include &lt;mntent.h&gt;</b></p>
<p style="margin-left:9%; margin-top: 1em"><b>struct mntent
*getmntent_r(FILE *restrict</b> <i>streamp</i><b>, <br/>
struct mntent *restrict</b> <i>mntbuf</i><b>, <br/>
char</b> <i>buf</i><b>[restrict .</b><i>buflen</i><b>],
int</b> <i>buflen</i><b>);</b></p>
<p style="margin-left:4%; margin-top: 1em">Feature Test
Macro Requirements for glibc (see
<b>feature_test_macros</b>(7)):</p>
<p style="margin-left:9%; margin-top: 1em"><b>getmntent_r</b>():
<br/>
Since glibc 2.19: <br/>
_DEFAULT_SOURCE <br/>
glibc 2.19 and earlier: <br/>
_BSD_SOURCE || _SVID_SOURCE</p>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">These routines
are used to access the filesystem description file
<i>/etc/fstab</i> and the mounted filesystem description
file <i>/etc/mtab</i>.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>setmntent</b>() function opens the filesystem description
file <i>filename</i> and returns a file pointer which can be
used by <b>getmntent</b>(). The argument <i>type</i> is the
type of access required and can take the same values as the
<i>mode</i> argument of <b>fopen</b>(3). The returned stream
should be closed using <b>endmntent</b>() rather than
<b>fclose</b>(3).</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>getmntent</b>() function reads the next line of the
filesystem description file from <i>stream</i> and returns a
pointer to a structure containing the broken out fields from
a line in the file. The pointer points to a static area of
memory which is overwritten by subsequent calls to
<b>getmntent</b>().</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>addmntent</b>() function adds the <i>mntent</i> structure
<i>mnt</i> to the end of the open <i>stream</i>.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>endmntent</b>() function closes the <i>stream</i>
associated with the filesystem description file.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>hasmntopt</b>() function scans the <i>mnt_opts</i> field
(see below) of the <i>mntent</i> structure <i>mnt</i> for a
substring that matches <i>opt</i>. See
<i>&lt;mntent.h&gt;</i> and <b>mount</b>(8) for valid mount
options.</p>
<p style="margin-left:9%; margin-top: 1em">The reentrant
<b>getmntent_r</b>() function is similar to
<b>getmntent</b>(), but stores the <i>mntent</i> structure
in the provided <i>*mntbuf</i>, and stores the strings
pointed to by the entries in that structure in the provided
array <i>buf</i> of size <i>buflen</i>.</p>
<p style="margin-left:9%; margin-top: 1em">The
<i>mntent</i> structure is defined in
<i>&lt;mntent.h&gt;</i> as follows:</p>
<p style="margin-left:14%; margin-top: 1em">struct mntent {
<br/>
char *mnt_fsname; /* name of mounted filesystem */ <br/>
char *mnt_dir; /* filesystem path prefix */ <br/>
char *mnt_type; /* mount type (see mntent.h) */ <br/>
char *mnt_opts; /* mount options (see mntent.h) */ <br/>
int mnt_freq; /* dump frequency in days */ <br/>
int mnt_passno; /* pass number on parallel fsck */ <br/>
};</p>
<p style="margin-left:9%; margin-top: 1em">Since fields in
the mtab and fstab files are separated by whitespace, octal
escapes are used to represent the characters space (\040),
tab (\011), newline (\012), and backslash (\\) in those
files when they occur in one of the four strings in a
<i>mntent</i> structure. The routines <b>addmntent</b>() and
<b>getmntent</b>() will convert from string representation
to escaped representation and back. When converting from
escaped representation, the sequence \134 is also converted
to a backslash.</p>
<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The
<b>getmntent</b>() and <b>getmntent_r</b>() functions return
a pointer to the <i>mntent</i> structure or NULL on
failure.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>addmntent</b>() function returns 0 on success and 1 on
failure.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>endmntent</b>() function always returns 1.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>hasmntopt</b>() function returns the address of the
substring if a match is found and NULL otherwise.</p>
<h2>FILES
<a name="FILES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><i>/etc/fstab</i></p>
<p style="margin-left:18%;">filesystem description file</p>
<p style="margin-left:9%;"><i>/etc/mtab</i></p>
<p style="margin-left:18%;">mounted filesystem description
file</p>
<h2>ATTRIBUTES
<a name="ATTRIBUTES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">For an
explanation of the terms used in this section, see
<b>attributes</b>(7).</p>
<h2>STANDARDS
<a name="STANDARDS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">None.</p>
<h2>HISTORY
<a name="HISTORY"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The nonreentrant
functions are from SunOS 4.1.3. A routine
<b>getmntent_r</b>() was introduced in HP-UX 10, but it
returns an <i>int</i>. The prototype shown above is
glibc-only.</p>
<p style="margin-left:9%; margin-top: 1em">System V also
has a <b>getmntent</b>() function but the calling sequence
differs, and the returned structure is different. Under
System V <i>/etc/mnttab</i> is used. 4.4BSD and Digital UNIX
have a routine <b>getmntinfo</b>(), a wrapper around the
system call <b>getfsstat</b>().</p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>fopen</b>(3),
<b>fstab</b>(5), <b>mount</b>(8)</p>
<hr/>
</body>
</html>
