<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 20:50:48 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>curs_slk</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">curs_slk</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#Initialization">Initialization</a><br/>
<a href="#Labels">Labels</a><br/>
<a href="#Screen Updates">Screen Updates</a><br/>
<a href="#Video Attributes">Video Attributes</a><br/>
<a href="#Colors">Colors</a><br/>
<a href="#RETURN VALUE">RETURN VALUE</a><br/>
<a href="#NOTES">NOTES</a><br/>
<a href="#EXTENSIONS">EXTENSIONS</a><br/>
<a href="#PORTABILITY">PORTABILITY</a><br/>
<a href="#HISTORY">HISTORY</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>slk_init</b>,
<b>slk_set</b>, <b>slk_wset</b>, <b>slk_refresh</b>,
<b>slk_noutrefresh</b>, <b>slk_label</b>, <b>slk_clear</b>,
<b>slk_restore</b>, <b>slk_touch</b>, <b>slk_attron</b>,
<b>slk_attrset</b>, <b>slk_attroff</b>, <b>slk_attr_on</b>,
<b>slk_attr_set</b>, <b>slk_attr_off</b>, <b>slk_attr</b>,
<b>slk_color</b>, <b>extended_slk_color</b> −
<i>curses</i> soft label key routines</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>#include
&lt;curses.h&gt;</b></p>
<p style="margin-left:9%; margin-top: 1em"><b>int
slk_init(int</b> <i>fmt</i><b>);</b></p>
<p style="margin-left:9%; margin-top: 1em"><b>int
slk_set(int</b> <i>labnum</i><b>, const char
*</b><i>label</i><b>, int</b> <i>align</i><b>); <br/>
int slk_wset(int</b> <i>labnum</i><b>, const wchar_t
*</b><i>label</i><b>, int</b> <i>align</i><b>);</b></p>
<p style="margin-left:9%; margin-top: 1em"><b>char
*slk_label(int</b> <i>labnum</i><b>);</b></p>
<p style="margin-left:9%; margin-top: 1em"><b>int
slk_refresh(void); <br/>
int slk_noutrefresh(void); <br/>
int slk_clear(void); <br/>
int slk_restore(void); <br/>
int slk_touch(void);</b></p>
<p style="margin-left:9%; margin-top: 1em"><b>int
slk_attron(const chtype</b> <i>attrs</i><b>); <br/>
int slk_attroff(const chtype</b> <i>attrs</i><b>); <br/>
int slk_attrset(const chtype</b> <i>attrs</i><b>); <br/>
int slk_attr_on(attr_t</b> <i>attrs</i><b>, void
*</b><i>opts</i><b>); <br/>
int slk_attr_off(const attr_t</b> <i>attrs</i><b>, void
*</b><i>opts</i><b>); <br/>
int slk_attr_set(const attr_t</b> <i>attrs</i><b>, short</b>
<i>pair</i><b>, void*</b><i>opts</i><b>);</b> <i><br/>
/* extension */</i> <b><br/>
attr_t slk_attr(void);</b></p>
<p style="margin-left:9%; margin-top: 1em"><b>int
slk_color(short</b> <i>pair</i><b>);</b> <i><br/>
/* extension */</i> <b><br/>
int extended_slk_color(int</b> <i>pair</i><b>);</b></p>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">These functions
manipulate the soft function key labels that some hardware
terminals support. For those terminals that do not have soft
labels, <i>curses</i> takes over the bottom line of
<b>stdscr</b>, reducing its vertical size and the value of
<b>LINES</b> by one. By default, <i>curses</i> uses eight
labels of up to eight characters each.</p>
<p style="margin-left:9%; margin-top: 1em"><i>ncurses</i>
furthermore supports a mode comprising twelve labels of up
to five characters each, following a convention associated
with the IBM PC/AT keyboard. <i>ncurses</i> simulates this
mode by taking over up to two lines at the bottom of the
screen; it does not try to use any hardware support for this
mode.</p>
<h3>Initialization
<a name="Initialization"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em"><b>slk_init</b>
must be called before <b>initscr</b> or <b>newterm</b>. If
<b>initscr</b> eventually uses a line from <b>stdscr</b> to
emulate the soft labels, then <i>fmt</i> determines how the
labels are arranged on the screen.</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p><b>0</b></p></td>
<td width="3%"></td>
<td width="87%">
<p>indicates a 3−2−3 arrangement of the
labels.</p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p><b>1</b></p></td>
<td width="3%"></td>
<td width="87%">
<p>indicates a 4−4 arrangement</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p><b>2</b></p></td>
<td width="3%"></td>
<td width="87%">
<p>indicates the PC-like 4−4−4 mode.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p><b>3</b></p></td>
<td width="3%"></td>
<td width="87%">
<p>is again the PC-like 4−4−4 mode, but in
addition an index line is generated, helping the user to
associate each label with its numbered function key.
<b>LINES</b> and the vertical size of <b>stdscr</b> are
further reduced.</p></td></tr>
</table>
<h3>Labels
<a name="Labels"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">Populate the
labels with normal strings (<b>slk_set</b>) or
wide-character strings (<b>slk_wset</b>). Each function
takes three parameters.</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="8%">
<p style="margin-top: 1em"><i>labnum</i></p></td>
<td width="2%"></td>
<td width="81%">
<p style="margin-top: 1em">is the label number, from
<b>1</b> to <b>8</b> (12 if <i>fmt</i> in <b>slk_init</b> is
<b>2</b> or <b>3</b>);</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="8%">
<p><i>label</i></p></td>
<td width="2%"></td>
<td width="81%">
<p>is be the string to put on the label, up to eight (five
if <i>fmt</i> in <b>slk_init</b> is <b>2</b> or <b>3</b>)
characters in length. A empty string or a null pointer sets
up a blank label.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="8%">
<p><i>align</i></p></td>
<td width="2%"></td>
<td width="81%">
<p>is <b>0</b>, <b>1</b>, or <b>2</b>, aligning
<i>label</i> to the left, center, or right, respectively,
within the 8 (5) character cells housing it.</p></td></tr>
</table>
<p style="margin-left:9%; margin-top: 1em"><b>slk_label</b>
obtains the string assigned to label number <i>labnum</i>,
with any leading and trailing blanks stripped.</p>
<h3>Screen Updates
<a name="Screen Updates"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em"><b>slk_refresh</b>
and <b>slk_noutrefresh</b> affect the soft key label lines
as <b>wrefresh</b> and <b>wnoutrefresh</b> do the
<i>curses</i> window.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>slk_clear</b> routine clears the soft labels from the
screen.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>slk_restore</b> routine restores the soft labels to the
screen after a <b>slk_clear</b> has been performed.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>slk_touch</b> routine forces all the soft labels to be
output the next time a <b>slk_noutrefresh</b> is
performed.</p>
<h3>Video Attributes
<a name="Video Attributes"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">The
<b>slk_attron</b>, <b>slk_attrset</b>, <b>slk_attroff</b>,
and <b>slk_attr</b> routines correspond to <b>attron</b>,
<b>attrset</b>, <b>attroff</b>, and <b>attr_get</b>,
respectively. They have an effect only if soft labels are
simulated on the bottom line of the screen. The default
highlight for soft key labels is <b>A_STANDOUT</b> (as in
System V <i>curses</i>, which does not document this
fact).</p>
<h3>Colors
<a name="Colors"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">The
<b>slk_color</b> routine corresponds to <b>color_set</b>. It
has an effect only if soft labels are simulated on the
bottom line of the screen.</p>
<p style="margin-left:9%; margin-top: 1em">Because
<b>slk_color</b> accepts only <i>short</i> (signed 16-bit
integer) values, this implementation provides
<b>extended_slk_color</b>, which accepts an <i>int</i> value
of at least 32 bits.</p>
<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Routines that
return an integer return <b>ERR</b> upon failure and
<b>OK</b> (SVr4 specifies only “an integer value other
than <b>ERR</b>”) upon successful completion.</p>
<p style="margin-left:9%; margin-top: 1em">X/Open Curses
defines no error conditions.</p>
<p style="margin-left:9%; margin-top: 1em">In this
implementation</p>
<p style="margin-left:13%;"><b>slk_attr</b></p>
<p style="margin-left:19%;">returns the attribute used for
the soft keys.</p>
<p style="margin-left:13%;"><b>slk_attroff</b>,
<b>slk_attron</b>, <b>slk_clear</b>, <b>slk_noutrefresh</b>,
<b>slk_refresh</b>, <b><br/>
slk_touch</b></p>
<p style="margin-left:19%;">return <b>ERR</b> if the
terminal or the softkeys were not initialized.</p>
<p style="margin-left:13%;"><b>slk_attrset</b></p>
<p style="margin-left:19%;">returns <b>ERR</b> if the
terminal or the softkeys were not initialized.</p>
<p style="margin-left:13%;"><b>slk_attr_set</b></p>
<p style="margin-left:19%;">returns <b>ERR</b> if the
terminal or the softkeys were not initialized, or the color
pair is outside the range 0..<b>COLOR_PAIRS</b>−1.</p>
<p style="margin-left:13%;"><b>slk_color</b></p>
<p style="margin-left:19%;">returns <b>ERR</b> if the
terminal or the softkeys were not initialized, or the color
pair is outside the range 0..<b>COLOR_PAIRS</b>−1.</p>
<p style="margin-left:13%;"><b>slk_init</b></p>
<p style="margin-left:19%;">returns <b>ERR</b> if the
format parameter is outside the range 0..3.</p>
<p style="margin-left:13%;"><b>slk_label</b></p>
<p style="margin-left:19%;">returns <b>NULL</b> on
error.</p>
<p style="margin-left:13%;"><b>slk_set</b></p>
<p style="margin-left:19%;">returns <b>ERR</b> if the
terminal or the softkeys were not initialized, or the
<i>labnum</i> parameter is outside the range of label
counts, or if the format parameter is outside the range
0..2, or if memory for the labels cannot be allocated.</p>
<h2>NOTES
<a name="NOTES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Most
applications would use <b>slk_noutrefresh</b> because a
<b>wrefresh</b> is likely to follow soon.</p>
<h2>EXTENSIONS
<a name="EXTENSIONS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">X/Open Curses
documents the <i>opts</i> argument as reserved for future
use, saying that it must be null. This implementation uses
that parameter in ABI 6 for the functions which have a color
pair parameter to support extended color pairs.</p>
<p style="margin-left:9%; margin-top: 1em">For functions
which modify the color, e.g., <b>slk_attr_set</b>, if
<i>opts</i> is set it is treated as a pointer to <i>int</i>,
and used to set the color pair instead of the <i>short</i>
pair parameter.</p>
<h2>PORTABILITY
<a name="PORTABILITY"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">X/Open Curses,
Issue 4 describes these functions, with some differences
from SVr4 <i>curses</i>:</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="86%">
<p>X/Open added functions like the SVr4
attribute-manipulation functions <b>slk_attron</b>,
<b>slk_attroff</b>, and <b>slk_attrset</b>, but which use
<i>attr_t</i> parameters (rather than <i>chtype</i>), along
with a reserved <i>opts</i> parameter.</p></td></tr>
</table>
<p style="margin-left:14%; margin-top: 1em">Two of these
new functions (unlike the SVr4 functions) have no provision
for color: <b>slk_attr_on</b> and <b>slk_attr_off</b>.</p>
<p style="margin-left:14%; margin-top: 1em">The third
function (<b>slk_attr_set</b>) has a color pair
parameter.</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p style="margin-top: 1em">•</p></td>
<td width="4%"></td>
<td width="77%">
<p style="margin-top: 1em">It added <i>const</i> qualifiers
to parameters (unnecessarily), and</p></td>
<td width="9%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="77%">
<p>It added <b>slk_color</b>.</p></td>
<td width="9%">
</td></tr>
</table>
<p style="margin-left:9%; margin-top: 1em">Although
<b>slk_start</b> is declared in the <i>curses</i> header
file, it was not documented by SVr4 other than its presence
in a list of libtermlib.so.1 symbols. Reading the source
code (i.e., Illumos):</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p style="margin-top: 1em">•</p></td>
<td width="4%"></td>
<td width="37%">
<p style="margin-top: 1em"><b>slk_start</b> has two
parameters:</p> </td>
<td width="49%">
</td></tr>
</table>
<p style="margin-left:14%;">•</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="6%"></td>
<td width="4%"></td>
<td width="32%">
<p style="margin-top: 1em"><i>ng</i> (number of groups)
and</p> </td>
<td width="49%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="6%">
<p>•</p></td>
<td width="4%"></td>
<td width="32%">
<p><i>gp</i> (group pointer).</p></td>
<td width="49%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="6%">
<p>•</p></td>
<td width="4%"></td>
<td width="32%"></td>
<td width="49%">
</td></tr>
</table>
<p style="margin-left:14%; margin-top: 1em">Soft-key groups
are an array of <i>ng</i> integers.</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p style="margin-top: 1em">•</p></td>
<td width="4%"></td>
<td width="86%">
<p style="margin-top: 1em">In SVr4, <b>slk_init</b> calls
<b>slk_start</b> passing a null for <i>gp</i>. For this
case, <b>slk_start</b> uses the number of groups <i>ng</i>
(3 for the 3-2-3 layout, 2 for the 4-4 layout) which
<b>slk_init</b> provided.</p></td></tr>
</table>
<p style="margin-left:14%; margin-top: 1em">If <i>ng</i> is
neither 2 or 3, <b>slk_start</b> checks the terminfo
<b>fln</b> (label_format) capability, interpreting that as a
comma-separated list of numbers, e.g., “3,2,3”
for the 3-2-3 layout.</p>
<p style="margin-left:14%; margin-top: 1em">Finally, if
there is no <b>fln</b> capability, <b>slk_start</b> returns
<b>ERR</b>.</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p style="margin-top: 1em">•</p></td>
<td width="4%"></td>
<td width="86%">
<p style="margin-top: 1em">If <b>slk_start</b> is given a
non-null <i>gp</i>, it copies the <i>ng</i> elements of the
group of soft-keys, up to 16.</p></td></tr>
</table>
<p style="margin-left:14%; margin-top: 1em">If there are
more than 16 elements, <b>slk_start</b> returns
<b>ERR</b>.</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p style="margin-top: 1em">•</p></td>
<td width="4%"></td>
<td width="86%">
<p style="margin-top: 1em">The format codes <b>2</b> and
<b>3</b> for <b>slk_init</b> were added by <i>ncurses</i> in
1996. PDCurses 2.4 added this feature in 2001.</p></td></tr>
</table>
<p style="margin-left:9%; margin-top: 1em">The function
<b>slk_attr</b> was added by <i>ncurses</i> in 1996.</p>
<p style="margin-left:9%; margin-top: 1em">X/Open Curses
does not specify a limit for the number of colors and color
pairs which a terminal can support. However, in its use of
<i>short</i> for the parameters, it carries over
SVr4’s implementation detail for the compiled terminfo
database, which uses signed 16-bit numbers. This
implementation provides extended versions of those functions
which use <i>int</i> parameters, allowing applications to
use larger color- and pair-numbers.</p>
<h2>HISTORY
<a name="HISTORY"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">SVr3 introduced
these functions: <b><br/>
slk_clear <br/>
slk_init <br/>
slk_label <br/>
slk_noutrefresh <br/>
slk_refresh <br/>
slk_restore <br/>
slk_set <br/>
slk_touch</b></p>
<p style="margin-left:9%; margin-top: 1em">SVr4 added these
functions: <b><br/>
slk_attroff <br/>
slk_attron <br/>
slk_attrset <br/>
slk_start</b></p>
<p style="margin-left:9%; margin-top: 1em">X/Open Curses
added these: <b><br/>
slk_attr_off <br/>
slk_attr_on <br/>
slk_attr_set <br/>
slk_color <br/>
slk_wset</b></p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>curses</b>(3X),
<b>curs_attr</b>(3X), <b>curs_initscr</b>(3X),
<b>curs_refresh</b>(3X), <b>curs_variables</b>(3X)</p>
<hr/>
</body>
</html>
