<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 19:54:45 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>curs_bkgd</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">curs_bkgd</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#bkgd, wbkgd">bkgd, wbkgd</a><br/>
<a href="#bkgdset, wbkgdset">bkgdset, wbkgdset</a><br/>
<a href="#getbkgd">getbkgd</a><br/>
<a href="#RETURN VALUE">RETURN VALUE</a><br/>
<a href="#NOTES">NOTES</a><br/>
<a href="#PORTABILITY">PORTABILITY</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>bkgdset</b>,
<b>wbkgdset</b>, <b>bkgd</b>, <b>wbkgd</b>, <b>getbkgd</b>
− manipulate background of a <i>curses</i> window of
characters</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>#include
&lt;curses.h&gt;</b></p>
<p style="margin-left:9%; margin-top: 1em"><b>int
bkgd(chtype</b> <i>ch</i><b>); <br/>
int wbkgd(WINDOW *</b><i>win</i><b>, chtype</b>
<i>ch</i><b>);</b></p>
<p style="margin-left:9%; margin-top: 1em"><b>void
bkgdset(chtype</b> <i>ch</i><b>); <br/>
void wbkgdset(WINDOW *</b><i>win</i><b>, chtype</b>
<i>ch</i><b>);</b></p>
<p style="margin-left:9%; margin-top: 1em"><b>chtype
getbkgd(WINDOW *</b><i>win</i><b>);</b></p>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The
<i>background</i> of a <i>curses</i> window (in the
library’s non-“wide” configuration) is a
<i>chtype</i> combining a set of attributes (see
<b>curs_attr</b>(3X)) with a character called the <i>blank
character.</i></p>
<p style="margin-left:9%; margin-top: 1em">The blank
character is a spacing character that populates a
window’s character cells when their contents are
erased without replacement. The background’s
attributes are combined with all non-blank characters
written to the window, as with the <b>waddch</b>(3X) and
<b>winsch</b>(3X) families of functions.</p>
<p style="margin-left:9%; margin-top: 1em">The blank
character and attributes of the background combine with
characters written to the window as described below. The
background becomes a property of the character and moves
with it through any scrolling and insert/delete
line/character operations.</p>
<p style="margin-left:9%; margin-top: 1em">To the extent
possible on a given terminal, the attribute part of the
background is displayed as the graphic rendition of the
character put on the screen.</p>
<h3>bkgd, wbkgd
<a name="bkgd, wbkgd"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em"><b>bkgd</b> and
<b>wbkgd</b> set the background property of <b>stdscr</b> or
the specified window and then apply this setting to every
character cell in that window.</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="86%">
<p>The rendition of every character in the window changes
to the new background rendition.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="86%">
<p>Wherever the former background character appears, it
changes to the new background character.</p></td></tr>
</table>
<p style="margin-left:9%; margin-top: 1em"><i>ncurses</i>
updates the rendition of each character cell by comparing
the character, non-color attributes, and colors. The library
applies to following procedure to each cell in the window,
whether or not it is blank.</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p style="margin-top: 1em">•</p></td>
<td width="4%"></td>
<td width="86%">
<p style="margin-top: 1em"><i>ncurses</i> first compares
the cell’s character to the previously specified blank
character; if they match, <i>ncurses</i> writes the new
blank character to the cell.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="86%">
<p><i>ncurses</i> then checks if the cell uses color, that
is, its color pair value is nonzero. If not, it simply
replaces the attributes and color pair in the cell with
those from the new background character.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="86%">
<p>If the cell uses color, and its background color matches
that of the current window background, <i>ncurses</i>
removes attributes that may have come from the current
background and adds those from the new background. It
finishes by setting the cell’s background to use the
new window background color.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="4%"></td>
<td width="86%">
<p>If the cell uses color, and its background color does
not match that of the current window background,
<i>ncurses</i> updates only the non-color attributes, first
removing those that may have come from the current
background, and then adding attributes from the new
background.</p> </td></tr>
</table>
<p style="margin-left:9%; margin-top: 1em"><i>ncurses</i>
treats a background character value of zero (0) as a blank
character.</p>
<p style="margin-left:9%; margin-top: 1em">If the terminal
does not support color, or if color has not been initialized
with <b>start_color</b>(3X), <i>ncurses</i> ignores the new
background character’s color attribute.</p>
<h3>bkgdset, wbkgdset
<a name="bkgdset, wbkgdset"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em"><b>bkgdset</b>
and <b>wbkgdset</b> manipulate the background of the
applicable window, without updating the character cells as
<b>bkgd</b> and <b>wbkgd</b> do; only future writes reflect
the updated background.</p>
<h3>getbkgd
<a name="getbkgd"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em"><b>getbkgd</b>
obtains the given window’s background character and
attribute combination.</p>
<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Functions
returning an <i>int</i> return <b>OK</b> on success.
<b>bkgd</b> returns <b>ERR</b> if the library has not been
initialized. <b>wbkgd</b> and <b>getbkgd</b> return
<b>ERR</b> if a <i>WINDOW</i> pointer argument is null.</p>
<p style="margin-left:9%; margin-top: 1em"><b>bkgdset</b>
and <b>wbkgdset</b> do not return a value.</p>
<p style="margin-left:9%; margin-top: 1em"><b>getbkgd</b>
returns a window’s background character and attribute
combination.</p>
<h2>NOTES
<a name="NOTES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Unusually, there
is no <b>wgetbkgd</b> function; <b>getbkgd</b> behaves as
one would expect <b>wgetbkgd</b> to, accepting a
<i>WINDOW</i> pointer argument.</p>
<p style="margin-left:9%; margin-top: 1em"><b>bkgd</b> and
<b>bkgdset</b> may be implemented as macros.</p>
<p style="margin-left:9%; margin-top: 1em">X/Open Curses
mentions that the character part of the background must be a
single-byte value. <i>ncurses</i>, like SVr4 <i>curses</i>,
checks to ensure that, and will reuse the old background
character if the check fails.</p>
<h2>PORTABILITY
<a name="PORTABILITY"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">X/Open Curses,
Issue 4 describes these functions. It specifies that
<b>bkgd</b>, <b>wbkgd</b>, and <b>getbkgd</b> return
<b>ERR</b> on failure (in the case of the last, this value
is cast to <i>chtype</i>), but describes no failure
conditions.</p>
<p style="margin-left:9%; margin-top: 1em">The SVr4.0
manual says that <b>bkgd</b> and <b>wbkgd</b> may return
<b>OK</b> “or a non-negative integer if <b>immedok</b>
is set”, which refers to the return value from
<b>wrefresh</b>(3X), used to implement the immediate
repainting. SVr4 <i>curses</i>’s <b>wrefresh</b>
returns the number of characters written to the screen
during the refresh. <i>ncurses</i> does not do that.</p>
<p style="margin-left:9%; margin-top: 1em">Neither X/Open
Curses nor the SVr4 manual pages detail how the rendition of
characters on the screen updates when <b>bkgd</b> or
<b>wbkgd</b> changes the background character.
<i>ncurses</i>, like SVr4 <i>curses</i>, does not (in its
non-“wide” configuration) store the background
and window attribute contributions to each character cell
separately.</p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>curs_bkgrnd</b>(3X)
describes the corresponding functions in the
“wide” configuration of <i>ncurses</i>.</p>
<p style="margin-left:9%; margin-top: 1em"><b>curses</b>(3X),
<b>curs_addch</b>(3X), <b>curs_attr</b>(3X)</p>
<hr/>
</body>
</html>
