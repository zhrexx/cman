<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 19:49:19 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>OSSL_PARAM_BLD</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">OSSL_PARAM_BLD</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#RETURN VALUES">RETURN VALUES</a><br/>
<a href="#NOTES">NOTES</a><br/>
<a href="#EXAMPLES">EXAMPLES</a><br/>
<a href="#Example 1">Example 1</a><br/>
<a href="#Example 2">Example 2</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<a href="#HISTORY">HISTORY</a><br/>
<a href="#COPYRIGHT">COPYRIGHT</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">OSSL_PARAM_BLD,
OSSL_PARAM_BLD_new, OSSL_PARAM_BLD_to_param,
OSSL_PARAM_BLD_free, OSSL_PARAM_BLD_push_int,
OSSL_PARAM_BLD_push_uint, OSSL_PARAM_BLD_push_long,
OSSL_PARAM_BLD_push_ulong, OSSL_PARAM_BLD_push_int32,
OSSL_PARAM_BLD_push_uint32, OSSL_PARAM_BLD_push_int64,
OSSL_PARAM_BLD_push_uint64, OSSL_PARAM_BLD_push_size_t,
OSSL_PARAM_BLD_push_time_t, OSSL_PARAM_BLD_push_double,
OSSL_PARAM_BLD_push_BN, OSSL_PARAM_BLD_push_BN_pad,
OSSL_PARAM_BLD_push_utf8_string,
OSSL_PARAM_BLD_push_utf8_ptr,
OSSL_PARAM_BLD_push_octet_string,
OSSL_PARAM_BLD_push_octet_ptr − functions to assist in
the creation of OSSL_PARAM arrays</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">#include
&lt;openssl/param_build.h&gt; <br/>
typedef struct OSSL_PARAM_BLD; <br/>
OSSL_PARAM_BLD *OSSL_PARAM_BLD_new(void); <br/>
OSSL_PARAM *OSSL_PARAM_BLD_to_param(OSSL_PARAM_BLD *bld);
<br/>
void OSSL_PARAM_BLD_free(OSSL_PARAM_BLD *bld); <br/>
int OSSL_PARAM_BLD_push_TYPE(OSSL_PARAM_BLD *bld, const char
*key, TYPE val); <br/>
int OSSL_PARAM_BLD_push_BN(OSSL_PARAM_BLD *bld, const char
*key, <br/>
const BIGNUM *bn); <br/>
int OSSL_PARAM_BLD_push_BN_pad(OSSL_PARAM_BLD *bld, const
char *key, <br/>
const BIGNUM *bn, size_t sz); <br/>
int OSSL_PARAM_BLD_push_utf8_string(OSSL_PARAM_BLD *bld,
const char *key, <br/>
const char *buf, size_t bsize); <br/>
int OSSL_PARAM_BLD_push_utf8_ptr(OSSL_PARAM_BLD *bld, const
char *key, <br/>
char *buf, size_t bsize); <br/>
int OSSL_PARAM_BLD_push_octet_string(OSSL_PARAM_BLD *bld,
const char *key, <br/>
const void *buf, size_t bsize); <br/>
int OSSL_PARAM_BLD_push_octet_ptr(OSSL_PARAM_BLD *bld, const
char *key, <br/>
void *buf, size_t bsize);</p>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">A collection of
utility functions that simplify the creation of OSSL_PARAM
arrays. The <b><i>TYPE</i></b> names are as per
<b>OSSL_PARAM_int</b>(3).</p>
<p style="margin-left:9%; margin-top: 1em"><b>OSSL_PARAM_BLD_new()</b>
allocates and initialises a new OSSL_PARAM_BLD structure so
that values can be added. Any existing values are
cleared.</p>
<p style="margin-left:9%; margin-top: 1em"><b>OSSL_PARAM_BLD_free()</b>
deallocates the memory allocates by
<b>OSSL_PARAM_BLD_new()</b>. If the argument is NULL,
nothing is done.</p>
<p style="margin-left:9%; margin-top: 1em"><b>OSSL_PARAM_BLD_to_param()</b>
converts a built up OSSL_PARAM_BLD structure <i>bld</i> into
an allocated OSSL_PARAM array. The OSSL_PARAM array and all
associated storage must be freed by calling
<b>OSSL_PARAM_free()</b> with the functions return value.
<b>OSSL_PARAM_BLD_free()</b> can safely be called any time
after this function is.</p>
<p style="margin-left:9%; margin-top: 1em"><b>OSSL_PARAM_BLD_push_</b><b><i>TYPE</i></b>()
are a series of functions which will create OSSL_PARAM
objects of the specified size and correct type for the
<i>val</i> argument. <i>val</i> is stored by value and an
expression or auto variable can be used.</p>
<p style="margin-left:9%; margin-top: 1em">When
<b><i>TYPE</i></b> denotes an integer type, signed integer
types will normally get the OSSL_PARAM type
<b>OSSL_PARAM_INTEGER</b> params. When <b><i>TYPE</i></b>
denotes an unsigned integer type will get the OSSL_PARAM
type <b>OSSL_PARAM_UNSIGNED_INTEGER</b>.</p>
<p style="margin-left:9%; margin-top: 1em"><b>OSSL_PARAM_BLD_push_BN()</b>
is a function that will create an OSSL_PARAM object that
holds the specified BIGNUM <i>bn</i>. When the <i>bn</i> is
zero or positive, its OSSL_PARAM type becomes
<b>OSSL_PARAM_UNSIGNED_INTEGER</b>. When the <i>bn</i> is
negative, its OSSL_PARAM type becomes
<b>OSSL_PARAM_INTEGER</b>. If <i>bn</i> is marked as being
securely allocated, its OSSL_PARAM representation will also
be securely allocated. The <i>bn</i> argument is stored by
reference and the underlying BIGNUM object must exist until
after <b>OSSL_PARAM_BLD_to_param()</b> has been called.</p>
<p style="margin-left:9%; margin-top: 1em"><b>OSSL_PARAM_BLD_push_BN_pad()</b>
is a function that will create an OSSL_PARAM object that
holds the specified BIGNUM <i>bn</i>. The object will be
padded to occupy exactly <i>sz</i> bytes, if insufficient
space is specified an error results. When the <i>bn</i> is
zero or positive, its OSSL_PARAM type becomes
<b>OSSL_PARAM_UNSIGNED_INTEGER</b>. When the <i>bn</i> is
negative, its OSSL_PARAM type becomes
<b>OSSL_PARAM_INTEGER</b>. If <i>bn</i> is marked as being
securely allocated, its OSSL_PARAM representation will also
be securely allocated. The <i>bn</i> argument is stored by
reference and the underlying BIGNUM object must exist until
after <b>OSSL_PARAM_BLD_to_param()</b> has been called.</p>
<p style="margin-left:9%; margin-top: 1em"><b>OSSL_PARAM_BLD_push_utf8_string()</b>
is a function that will create an OSSL_PARAM object that
references the UTF8 string specified by <i>buf</i>. The
length of the string <i>bsize</i> should not include the
terminating NUL byte. If it is zero then it will be
calculated. The string that <i>buf</i> points to is stored
by reference and must remain in scope until after
<b>OSSL_PARAM_BLD_to_param()</b> has been called.</p>
<p style="margin-left:9%; margin-top: 1em"><b>OSSL_PARAM_BLD_push_octet_string()</b>
is a function that will create an OSSL_PARAM object that
references the octet string specified by <i>buf</i> and
&lt;bsize&gt;. The memory that <i>buf</i> points to is
stored by reference and must remain in scope until after
<b>OSSL_PARAM_BLD_to_param()</b> has been called.</p>
<p style="margin-left:9%; margin-top: 1em"><b>OSSL_PARAM_BLD_push_utf8_ptr()</b>
is a function that will create an OSSL_PARAM object that
references the UTF8 string specified by <i>buf</i>. The
length of the string <i>bsize</i> should not include the
terminating NUL byte. If it is zero then it will be
calculated. The string <i>buf</i> points to is stored by
reference and must remain in scope until the OSSL_PARAM
array is freed.</p>
<p style="margin-left:9%; margin-top: 1em"><b>OSSL_PARAM_BLD_push_octet_ptr()</b>
is a function that will create an OSSL_PARAM object that
references the octet string specified by <i>buf</i>. The
memory <i>buf</i> points to is stored by reference and must
remain in scope until the OSSL_PARAM array is freed.</p>
<h2>RETURN VALUES
<a name="RETURN VALUES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>OSSL_PARAM_BLD_new()</b>
returns the allocated OSSL_PARAM_BLD structure, or NULL on
error.</p>
<p style="margin-left:9%; margin-top: 1em"><b>OSSL_PARAM_BLD_to_param()</b>
returns the allocated OSSL_PARAM array, or NULL on
error.</p>
<p style="margin-left:9%; margin-top: 1em">All of the
OSSL_PARAM_BLD_push_TYPE functions return 1 on success and 0
on error.</p>
<h2>NOTES
<a name="NOTES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>OSSL_PARAM_BLD_push_BN()</b>
and <b>OSSL_PARAM_BLD_push_BN_pad()</b> only support
nonnegative <b>BIGNUM</b>s. They return an error on negative
<b>BIGNUM</b>s. To pass signed <b>BIGNUM</b>s, use
<b>OSSL_PARAM_BLD_push_signed_BN()</b>.</p>
<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Both examples
creating an OSSL_PARAM array that contains an RSA key. For
both, the predefined key variables are:</p>
<p style="margin-left:9%; margin-top: 1em">BIGNUM *n; /*
modulus */ <br/>
unsigned int e; /* public exponent */ <br/>
BIGNUM *d; /* private exponent */ <br/>
BIGNUM *p, *q; /* first two prime factors */ <br/>
BIGNUM *dmp1, *dmq1; /* first two CRT exponents */ <br/>
BIGNUM *iqmp; /* first CRT coefficient */</p>
<h3>Example 1
<a name="Example 1"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">This example
shows how to create an OSSL_PARAM array that contains an RSA
private key.</p>
<p style="margin-left:9%; margin-top: 1em">OSSL_PARAM_BLD
*bld = OSSL_PARAM_BLD_new(); <br/>
OSSL_PARAM *params = NULL; <br/>
if (bld == NULL <br/>
|| !OSSL_PARAM_BLD_push_BN(bld, "n", n) <br/>
|| !OSSL_PARAM_BLD_push_uint(bld, "e", e) <br/>
|| !OSSL_PARAM_BLD_push_BN(bld, "d", d) <br/>
|| !OSSL_PARAM_BLD_push_BN(bld,
"rsa−factor1", p) <br/>
|| !OSSL_PARAM_BLD_push_BN(bld,
"rsa−factor2", q) <br/>
|| !OSSL_PARAM_BLD_push_BN(bld,
"rsa−exponent1", dmp1) <br/>
|| !OSSL_PARAM_BLD_push_BN(bld,
"rsa−exponent2", dmq1) <br/>
|| !OSSL_PARAM_BLD_push_BN(bld,
"rsa−coefficient1", iqmp) <br/>
|| (params = OSSL_PARAM_BLD_to_param(bld)) == NULL) <br/>
goto err; <br/>
OSSL_PARAM_BLD_free(bld); <br/>
/* Use params */ <br/>
... <br/>
OSSL_PARAM_free(params);</p>
<h3>Example 2
<a name="Example 2"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">This example
shows how to create an OSSL_PARAM array that contains an RSA
public key.</p>
<p style="margin-left:9%; margin-top: 1em">OSSL_PARAM_BLD
*bld = OSSL_PARAM_BLD_new(); <br/>
OSSL_PARAM *params = NULL; <br/>
if (nld == NULL <br/>
|| !OSSL_PARAM_BLD_push_BN(bld, "n", n) <br/>
|| !OSSL_PARAM_BLD_push_uint(bld, "e", e) <br/>
|| (params = OSSL_PARAM_BLD_to_param(bld)) == NULL) <br/>
goto err; <br/>
OSSL_PARAM_BLD_free(bld); <br/>
/* Use params */ <br/>
... <br/>
OSSL_PARAM_free(params);</p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>OSSL_PARAM_int</b>(3),
<b>OSSL_PARAM</b>(3), <b>OSSL_PARAM_free</b>(3)</p>
<h2>HISTORY
<a name="HISTORY"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The functions
described here were all added in OpenSSL 3.0.</p>
<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Copyright
2019−2024 The OpenSSL Project Authors. All Rights
Reserved.</p>
<p style="margin-left:9%; margin-top: 1em">Licensed under
the Apache License 2.0 (the "License"). You may
not use this file except in compliance with the License. You
can obtain a copy in the file LICENSE in the source
distribution or at
&lt;https://www.openssl.org/source/license.html&gt;.</p>
<hr/>
</body>
</html>
