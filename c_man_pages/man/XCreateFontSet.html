<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 20:53:53 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>XCreateFontSet</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">XCreateFontSet</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNTAX">SYNTAX</a><br/>
<a href="#ARGUMENTS">ARGUMENTS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">XCreateFontSet,
XFreeFontSet − create and free an international text
drawing font set</p>
<h2>SYNTAX
<a name="SYNTAX"></a>
</h2>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">XFontSet XCreateFontSet(Display
*<i>display</i>, _Xconst char *<i>base_font_name_list</i>,
char ***<i>missing_charset_list_return</i>, int
*<i>missing_charset_count_return</i>, char
**<i>def_string_return</i>);</p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">void XFreeFontSet(Display
*<i>display</i>, XFontSet <i>font_set</i>);</p></td></tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>
<td width="9%"></td>
<td width="9%"></td>
<td width="4%"></td>
<td width="52%">
</td>
<td width="26%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="9%">
<p><i>display</i></p></td>
<td width="4%"></td>
<td width="52%">
<p>Specifies the connection to the X server.</p></td>
<td width="26%">
</td></tr>
</table>
<p style="margin-left:9%;"><i>base_font_name_list</i></p>
<p style="margin-left:22%;">Specifies the base font
names.</p>
<p style="margin-left:9%;"><i>def_string_return</i></p>
<p style="margin-left:22%;">Returns the string drawn for
missing charsets.</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="10%">
<p><i>font_set</i></p></td>
<td width="3%"></td>
<td width="29%">
<p>Specifies the font set.</p></td>
<td width="49%">
</td></tr>
</table>
<p style="margin-left:9%;"><i>missing_charset_count_return</i></p>
<p style="margin-left:22%;">Returns the number of missing
charsets.</p>
<p style="margin-left:9%;"><i>missing_charset_list_return</i></p>
<p style="margin-left:22%;">Returns the missing
charsets.</p>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The
<b>XCreateFontSet</b> function creates a font set for the
specified display. The font set is bound to the current
locale when <b>XCreateFontSet</b> is called. The font set
may be used in subsequent calls to obtain font and character
information and to image text in the locale of the font
set.</p>
<p style="margin-left:9%; margin-top: 1em">The
base_font_name_list argument is a list of base font names
that Xlib uses to load the fonts needed for the locale. The
base font names are a comma-separated list. The string is
null-terminated and is assumed to be in the Host Portable
Character Encoding; otherwise, the result is
implementation-dependent. White space immediately on either
side of a separating comma is ignored.</p>
<p style="margin-left:9%; margin-top: 1em">Use of XLFD font
names permits Xlib to obtain the fonts needed for a variety
of locales from a single locale-independent base font name.
The single base font name should name a family of fonts
whose members are encoded in the various charsets needed by
the locales of interest.</p>
<p style="margin-left:9%; margin-top: 1em">An XLFD base
font name can explicitly name a charset needed for the
locale. This allows the user to specify an exact font for
use with a charset required by a locale, fully controlling
the font selection.</p>
<p style="margin-left:9%; margin-top: 1em">If a base font
name is not an XLFD name, Xlib will attempt to obtain an
XLFD name from the font properties for the font. If this
action is successful in obtaining an XLFD name, the
<b>XBaseFontNameListOfFontSet</b> function will return this
XLFD name instead of the client-supplied name.</p>
<p style="margin-left:9%; margin-top: 1em">Xlib uses the
following algorithm to select the fonts that will be used to
display text with the <b>XFontSet</b>.</p>
<p style="margin-left:9%; margin-top: 1em">For each font
charset required by the locale, the base font name list is
searched for the first appearance of one of the following
cases that names a set of fonts that exist at the
server:</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="5%"></td>
<td width="85%">
<p>The first XLFD-conforming base font name that specifies
the required charset or a superset of the required charset
in its <b>CharSetRegistry</b> and <b>CharSetEncoding</b>
fields. The implementation may use a base font name whose
specified charset is a superset of the required charset, for
example, an ISO8859-1 font for an ASCII charset.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="5%"></td>
<td width="85%">
<p>The first set of one or more XLFD-conforming base font
names that specify one or more charsets that can be remapped
to support the required charset. The Xlib implementation may
recognize various mappings from a required charset to one or
more other charsets and use the fonts for those charsets.
For example, JIS Roman is ASCII with tilde and backslash
replaced by yen and overbar; Xlib may load an ISO8859-1 font
to support this character set if a JIS Roman font is not
available.</p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="5%"></td>
<td width="85%">
<p>The first XLFD-conforming font name or the first
non-XLFD font name for which an XLFD font name can be
obtained, combined with the required charset (replacing the
<b>CharSetRegistry</b> and <b>CharSetEncoding</b> fields in
the XLFD font name). As in case 1, the implementation may
use a charset that is a superset of the required
charset.</p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="1%">
<p>•</p></td>
<td width="5%"></td>
<td width="85%">
<p>The first font name that can be mapped in some
implementation-dependent manner to one or more fonts that
support imaging text in the charset.</p></td></tr>
</table>
<p style="margin-left:9%; margin-top: 1em">For example,
assume that a locale required the charsets:</p>
<p style="margin-left:9%; margin-top: 1em">ISO8859-1 <br/>
JISX0208.1983 <br/>
JISX0201.1976 <br/>
GB2312-1980.0</p>
<p style="margin-left:9%; margin-top: 1em">The user could
supply a base_font_name_list that explicitly specifies the
charsets, ensuring that specific fonts are used if they
exist. For example:</p>
<p style="margin-left:9%; margin-top: 1em">"-JIS-Fixed-Medium-R-Normal--26-180-100-100-C-240-JISX0208.1983-0,\
<br/>

-JIS-Fixed-Medium-R-Normal--26-180-100-100-C-120-JISX0201.1976-0,\
<br/>

-GB-Fixed-Medium-R-Normal--26-180-100-100-C-240-GB2312-1980.0,\
<br/>

-Adobe-Courier-Bold-R-Normal--25-180-75-75-M-150-ISO8859-1"</p>
<p style="margin-left:9%; margin-top: 1em">Alternatively,
the user could supply a base_font_name_list that omits the
charsets, letting Xlib select font charsets required for the
locale. For example:</p>
<p style="margin-left:9%; margin-top: 1em">"-JIS-Fixed-Medium-R-Normal--26-180-100-100-C-240,\
<br/>
-JIS-Fixed-Medium-R-Normal--26-180-100-100-C-120,\ <br/>
-GB-Fixed-Medium-R-Normal--26-180-100-100-C-240,\ <br/>

-Adobe-Courier-Bold-R-Normal--25-180-100-100-M-150"</p>
<p style="margin-left:9%; margin-top: 1em">Alternatively,
the user could simply supply a single base font name that
allows Xlib to select from all available fonts that meet
certain minimum XLFD property requirements. For example:</p>
<p style="margin-left:9%; margin-top: 1em">"-*-*-*-R-Normal--*-180-100-100-*-*"</p>
<p style="margin-left:9%; margin-top: 1em">If
<b>XCreateFontSet</b> is unable to create the font set,
either because there is insufficient memory or because the
current locale is not supported, <b>XCreateFontSet</b>
returns NULL, missing_charset_list_return is set to NULL,
and missing_charset_count_return is set to zero. If fonts
exist for all of the charsets required by the current
locale, <b>XCreateFontSet</b> returns a valid
<b>XFontSet</b>, missing_charset_list_return is set to NULL,
and missing_charset_count_return is set to zero.</p>
<p style="margin-left:9%; margin-top: 1em">If no font
exists for one or more of the required charsets,
<b>XCreateFontSet</b> sets missing_charset_list_return to a
list of one or more null-terminated charset names for which
no font exists and sets missing_charset_count_return to the
number of missing fonts. The charsets are from the list of
the required charsets for the encoding of the locale and do
not include any charsets to which Xlib may be able to remap
a required charset.</p>
<p style="margin-left:9%; margin-top: 1em">If no font
exists for any of the required charsets or if the locale
definition in Xlib requires that a font exist for a
particular charset and a font is not found for that charset,
<b>XCreateFontSet</b> returns NULL. Otherwise,
<b>XCreateFontSet</b> returns a valid <b>XFontSet</b> to
font_set.</p>
<p style="margin-left:9%; margin-top: 1em">When an Xmb/wc
drawing or measuring function is called with an
<b>XFontSet</b> that has missing charsets, some characters
in the locale will not be drawable. If def_string_return is
non-NULL, <b>XCreateFontSet</b> returns a pointer to a
string that represents the glyphs that are drawn with this
<b>XFontSet</b> when the charsets of the available fonts do
not include all font glyphs required to draw a codepoint.
The string does not necessarily consist of valid characters
in the current locale and is not necessarily drawn with the
fonts loaded for the font set, but the client can draw and
measure the default glyphs by including this string in a
string being drawn or measured with the <b>XFontSet</b>.</p>
<p style="margin-left:9%; margin-top: 1em">If the string
returned to def_string_return is the empty string
(""), no glyphs are drawn, and the escapement is
zero. The returned string is null-terminated. It is owned by
Xlib and should not be modified or freed by the client. It
will be freed by a call to <b>XFreeFontSet</b> with the
associated <b>XFontSet</b>. Until freed, its contents will
not be modified by Xlib.</p>
<p style="margin-left:9%; margin-top: 1em">The client is
responsible for constructing an error message from the
missing charset and default string information and may
choose to continue operation in the case that some fonts did
not exist.</p>
<p style="margin-left:9%; margin-top: 1em">The returned
<b>XFontSet</b> and missing charset list should be freed
with <b>XFreeFontSet</b> and <b>XFreeStringList</b>,
respectively. The client-supplied base_font_name_list may be
freed by the client after calling <b>XCreateFontSet</b>.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>XFreeFontSet</b> function frees the specified font set.
The associated base font name list, font name list,
<b>XFontStruct</b> list, and <b>XFontSetExtents</b>, if any,
are freed.</p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">XExtentsofFontSet(3),
XFontsOfFontSet(3), XFontSetExtents(3) <i><br/>
Xlib − C Language X Interface</i></p>
<hr/>
</body>
</html>
