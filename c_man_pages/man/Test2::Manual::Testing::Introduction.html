<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 20:51:54 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>Test2::Manual::Testing::Introduction</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">Test2::Manual::Testing::Introduction</h1>
<a href="#NAME">NAME</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#BOILERPLATE">BOILERPLATE</a><br/>
<a href="#THE TEST FILE">THE TEST FILE</a><br/>
<a href="#DIST CONFIG">DIST CONFIG</a><br/>
<a href="#MAKING ASSERTIONS">MAKING ASSERTIONS</a><br/>
<a href="#RUNNING THE TEST">RUNNING THE TEST</a><br/>
<a href="#RUN DIRECTLY">RUN DIRECTLY</a><br/>
<a href="#USING YATH">USING YATH</a><br/>
<a href="#USING PROVE">USING PROVE</a><br/>
<a href='#THE "PLAN"'>THE "PLAN"</a><br/>
<a href="#ADDITIONAL ASSERTION TOOLS">ADDITIONAL ASSERTION TOOLS</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<a href="#SOURCE">SOURCE</a><br/>
<a href="#MAINTAINERS">MAINTAINERS</a><br/>
<a href="#AUTHORS">AUTHORS</a><br/>
<a href="#COPYRIGHT">COPYRIGHT</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Test2::Manual::Testing::Introduction
− Introduction to testing with Test2.</p>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">This tutorial is
a beginners introduction to testing. This will take you
through writing a test file, making assertions, and running
your test.</p>
<h2>BOILERPLATE
<a name="BOILERPLATE"></a>
</h2>
<h3>THE TEST FILE
<a name="THE TEST FILE"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">Test files
typically are placed inside the "t/" directory,
and end with the ".t" file extension.</p>
<p style="margin-left:9%; margin-top: 1em">"t/example.t":</p>
<p style="margin-left:9%; margin-top: 1em">use Test2::V0;
<br/>
# Assertions will go here <br/>
done_testing;</p>
<p style="margin-left:9%; margin-top: 1em">This is all the
boilerplate you need. <br/>
use Test2::V0;</p>
<p style="margin-left:14%;">This loads a collection of
testing tools that will be described later in the tutorial.
This will also turn on "strict" and
"warnings" for you.</p>
<p style="margin-left:9%;">done_testing;</p>
<p style="margin-left:14%;">This should always be at the
end of your test files. This tells Test2 that you are done
making assertions. This is important as "test2"
will assume the test did not complete successfully without
this, or some other form of test "plan".</p>
<h3>DIST CONFIG
<a name="DIST CONFIG"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">You should
always list bundles and tools directly. You should not
simply list Test2::Suite and call it done, bundles and tools
may be moved out of Test2::Suite to their own dists at any
time.</p>
<p style="margin-left:9%; margin-top: 1em"><i>Dist::Zilla</i></p>
<p style="margin-left:9%; margin-top: 1em">[Prereqs /
TestRequires] <br/>
Test2::V0 = 0.000060</p>
<p style="margin-left:9%; margin-top: 1em"><i>ExtUtils::MakeMaker</i></p>
<p style="margin-left:9%; margin-top: 1em">my
%WriteMakefileArgs = ( <br/>
..., <br/>
"TEST_REQUIRES" =&gt; { <br/>
"Test2::V0" =&gt; "0.000060" <br/>
}, <br/>
... <br/>
);</p>
<p style="margin-left:9%; margin-top: 1em"><i>Module::Install</i></p>
<p style="margin-left:9%; margin-top: 1em">test_requires
'Test2::V0' =&gt; '0.000060';</p>
<p style="margin-left:9%; margin-top: 1em"><i>Module::Build</i></p>
<p style="margin-left:9%; margin-top: 1em">my $build =
Module::Build−&gt;new( <br/>
..., <br/>
test_requires =&gt; { <br/>
"Test2::V0" =&gt; "0.000060", <br/>
}, <br/>
... <br/>
);</p>
<h2>MAKING ASSERTIONS
<a name="MAKING ASSERTIONS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The most simple
tool for making assertions is ok(). ok() lets you assert
that a condition is true.</p>
<p style="margin-left:9%; margin-top: 1em">ok($CONDITION,
"Description of the condition");</p>
<p style="margin-left:9%; margin-top: 1em">Here is a
complete "t/example.t":</p>
<p style="margin-left:9%; margin-top: 1em">use Test2::V0;
<br/>
ok(1, "1 is true, so this will pass"); <br/>
done_testing;</p>
<h2>RUNNING THE TEST
<a name="RUNNING THE TEST"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Test files are
simply scripts. Just like any other script you can run the
test directly with perl. Another option is to use a test
"harness" which runs the test for you, and
provides extra information and checks the scripts exit value
for you.</p>
<h3>RUN DIRECTLY
<a name="RUN DIRECTLY"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">$ perl
−Ilib t/example.t</p>
<p style="margin-left:9%; margin-top: 1em">Which should
produce output like this:</p>
<p style="margin-left:9%; margin-top: 1em"># Seeded srand
with seed '20161028' from local date. <br/>
ok 1 − 1 is true, so this will pass <br/>
1..1</p>
<p style="margin-left:9%; margin-top: 1em">If the test had
failed ("ok(0, ...)") it would look like this:</p>
<p style="margin-left:9%; margin-top: 1em"># Seeded srand
with seed '20161028' from local date. <br/>
not ok 1 − 0 is false, so this will fail <br/>
1..1</p>
<p style="margin-left:9%; margin-top: 1em">Test2 will also
set the exit value of the script, a successful run will have
an exit value of 0, a failed run will have a non−zero
exit value.</p>
<h3>USING YATH
<a name="USING YATH"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">The
"yath" command line tool is provided by
Test2::Harness which you may need to install yourself from
cpan. "yath" is the harness written specifically
for Test2.</p>
<p style="margin-left:9%; margin-top: 1em">$ yath
−Ilib t/example.t</p>
<p style="margin-left:9%; margin-top: 1em">This will
produce output similar to this:</p>
<p style="margin-left:9%; margin-top: 1em">( PASSED ) job 1
t/example.t <br/>

================================================================================
<br/>
Run ID: 1508027909 <br/>
All tests were successful!</p>
<p style="margin-left:9%; margin-top: 1em">You can also
request verbose output with the "−v"
flag:</p>
<p style="margin-left:9%; margin-top: 1em">$ yath
−Ilib −v t/example.t</p>
<p style="margin-left:9%; margin-top: 1em">Which
produces:</p>
<p style="margin-left:9%; margin-top: 1em">( LAUNCH ) job 1
example.t <br/>
( NOTE ) job 1 Seeded srand with seed '20171014' from local
date. <br/>
[ PASS ] job 1 + 1 is true, so this will pass <br/>
[ PLAN ] job 1 Expected asserions: 1 <br/>
( PASSED ) job 1 example.t <br/>

================================================================================
<br/>
Run ID: 1508028002 <br/>
All tests were successful!</p>
<h3>USING PROVE
<a name="USING PROVE"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">The
"prove" command line tool is provided by the
Test::Harness module which comes with most versions of perl.
Test::Harness is dual−life, which means you can also
install the latest version from cpan.</p>
<p style="margin-left:9%; margin-top: 1em">$ prove
−Ilib t/example.t</p>
<p style="margin-left:9%; margin-top: 1em">This will
produce output like this:</p>
<p style="margin-left:9%; margin-top: 1em">example.t .. ok
<br/>
All tests successful. <br/>
Files=1, Tests=1, 0 wallclock secs ( 0.01 usr 0.00 sys +
0.05 cusr 0.00 csys = 0.06 CPU) <br/>
Result: PASS</p>
<p style="margin-left:9%; margin-top: 1em">You can also
request verbose output with the "−v"
flag:</p>
<p style="margin-left:9%; margin-top: 1em">$ prove
−Ilib −v t/example.t</p>
<p style="margin-left:9%; margin-top: 1em">The verbose
output looks like this:</p>
<p style="margin-left:9%; margin-top: 1em">example.t ..
<br/>
# Seeded srand with seed '20161028' from local date. <br/>
ok 1 − 1 is true, so this will pass <br/>
1..1 <br/>
ok <br/>
All tests successful. <br/>
Files=1, Tests=1, 0 wallclock secs ( 0.02 usr 0.00 sys +
0.06 cusr 0.00 csys = 0.08 CPU) <br/>
Result: PASS</p>
<h2>THE "PLAN"
<a name='THE "PLAN"'></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">All tests need a
"plan". The job of a plan is to make sure you ran
all the tests you expected. The plan prevents a passing
result from a test that exits before all the tests are
run.</p>
<p style="margin-left:9%; margin-top: 1em">There are 2
primary ways to set the plan: <b><br/>
done_testing()</b></p>
<p style="margin-left:14%;">The most common, and
recommended way to set a plan is to add
"done_testing" at the end of your test file. This
will automatically calculate the plan for you at the end of
the test. If the test were to exit early then
"done_testing" would not run and no plan would be
found, forcing a failure.</p>
<p style="margin-left:9%;">plan($COUNT)</p>
<p style="margin-left:14%;">The plan() function allows you
to specify an exact number of assertions you want to run. If
you run too many or too few assertions then the plan will
not match and it will be counted as a failure. The primary
problem with this way of planning is that you need to add up
the number of assertions, and adjust the count whenever you
update the test file.</p>
<p style="margin-left:14%; margin-top: 1em">plan() must be
used before all assertions, or after all assertions, it
cannot be done in the middle of making assertions.</p>
<h2>ADDITIONAL ASSERTION TOOLS
<a name="ADDITIONAL ASSERTION TOOLS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The Test2::V0
bundle provides a lot more than ok(), plan(), and
done_testing(). The biggest tools to note are: <br/>
is($a, $b, $description)</p>
<p style="margin-left:14%;">is() allows you to compare 2
structures and insure they are identical. You can use it for
simple string comparisons, or even deep data structure
comparisons.</p>
<p style="margin-left:14%; margin-top: 1em">is("foo",
"foo", "Both strings are identical");
<br/>
is(["foo", 1], ["foo", 1], "Both
arrays contain the same elements");</p>
<p style="margin-left:9%;">like($a, $b, $description)</p>
<p style="margin-left:14%;">like() is similar to is()
except that it only checks items listed on the right, it
ignores any extra values found on the left.</p>
<p style="margin-left:14%; margin-top: 1em">like([1, 2, 3,
4], [1, 2, 3], "Passes, the extra element on the left
is ignored");</p>
<p style="margin-left:14%; margin-top: 1em">You can also
used regular expressions on the right hand side:</p>
<p style="margin-left:14%; margin-top: 1em">like("foo
bar baz", qr/bar/, "The string matches the regex,
this passes");</p>
<p style="margin-left:14%; margin-top: 1em">You can also
nest the regexes:</p>
<p style="margin-left:14%; margin-top: 1em">like([1, 2,
'foo bar baz', 3], [1, 2, qr/bar/], "This
passes");</p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Test2::Manual
− Primary index of the manual.</p>
<h2>SOURCE
<a name="SOURCE"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The source code
repository for Test2−Manual can be found at
<i>https://github.com/Test−More/test−more/</i>.</p>
<h2>MAINTAINERS
<a name="MAINTAINERS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Chad Granum
&lt;exodist@cpan.org&gt;</p>
<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Chad Granum
&lt;exodist@cpan.org&gt;</p>
<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Copyright Chad
Granum &lt;exodist@cpan.org&gt;.</p>
<p style="margin-left:9%; margin-top: 1em">This program is
free software; you can redistribute it and/or modify it
under the same terms as Perl itself.</p>
<p style="margin-left:9%; margin-top: 1em">See
<i>http://dev.perl.org/licenses/</i></p>
<hr/>
</body>
</html>
