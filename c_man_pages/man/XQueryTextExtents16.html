<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 19:56:58 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>XTextExtents</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">XTextExtents</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNTAX">SYNTAX</a><br/>
<a href="#ARGUMENTS">ARGUMENTS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#DIAGNOSTICS">DIAGNOSTICS</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">XTextExtents,
XTextExtents16, XQueryTextExtents, XQueryTextExtents16
− compute or query text extents</p>
<h2>SYNTAX
<a name="SYNTAX"></a>
</h2>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">int XTextExtents(XFontStruct
*<i>font_struct</i>, _Xconst char *<i>string</i>, int
<i>nchars</i>, int *<i>direction_return</i>, int
*<i>font_ascent_return</i>, int *<i>font_descent_return</i>,
XCharStruct *<i>overall_return</i>);</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">int XTextExtents16(XFontStruct
*<i>font_struct</i>, _Xconst XChar2b *<i>string</i>, int
<i>nchars</i>, int *<i>direction_return</i>, int
*<i>font_ascent_return</i>, int *<i>font_descent_return</i>,
XCharStruct *<i>overall_return</i>);</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">int XQueryTextExtents(Display
*<i>display</i>, XID <i>font_ID</i>, _Xconst char
*<i>string</i>, int <i>nchars</i>, int
*<i>direction_return</i>, int *<i>font_ascent_return</i>,
int *<i>font_descent_return</i>, XCharStruct
*<i>overall_return</i>);</p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">int XQueryTextExtents16(Display
*<i>display</i>, XID <i>font_ID</i>, _Xconst XChar2b
*<i>string</i>, int <i>nchars</i>, int
*<i>direction_return</i>, int *<i>font_ascent_return</i>,
int *<i>font_descent_return</i>, XCharStruct
*<i>overall_return</i>);</p> </td></tr>
</table>
<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><i>direction_return</i></p>
<p style="margin-left:22%;">Returns the value of the
direction hint (<b>FontLeftToRight</b> or
<b>FontRightToLeft</b>).</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="9%">
<p><i>display</i></p></td>
<td width="4%"></td>
<td width="78%">
<p>Specifies the connection to the X server.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="9%">
<p><i>font_ID</i></p></td>
<td width="4%"></td>
<td width="78%">
<p>Specifies either the font ID or the <b>GContext</b> ID
that contains the font.</p></td></tr>
</table>
<p style="margin-left:9%;"><i>font_ascent_return</i></p>
<p style="margin-left:22%;">Returns the font ascent.</p>
<p style="margin-left:9%;"><i>font_descent_return</i></p>
<p style="margin-left:22%;">Returns the font descent.</p>
<p style="margin-left:9%;"><i>font_struct</i></p>
<p style="margin-left:22%;">Specifies the
<b>XFontStruct</b> structure.</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="8%">
<p><i>nchars</i></p></td>
<td width="5%"></td>
<td width="75%">
<p>Specifies the number of characters in the character
string.</p> </td>
<td width="3%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="8%">
<p><i>string</i></p></td>
<td width="5%"></td>
<td width="75%">
<p>Specifies the character string.</p></td>
<td width="3%">
</td></tr>
</table>
<p style="margin-left:9%;"><i>overall_return</i></p>
<p style="margin-left:22%;">Returns the overall size in the
specified <b>XCharStruct</b> structure.</p>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The
<b>XTextExtents</b> and <b>XTextExtents16</b> functions
perform the size computation locally and, thereby, avoid the
round-trip overhead of <b>XQueryTextExtents</b> and
<b>XQueryTextExtents16</b>. Both functions return an
<b>XCharStruct</b> structure, whose members are set to the
values as follows.</p>
<p style="margin-left:9%; margin-top: 1em">The ascent
member is set to the maximum of the ascent metrics of all
characters in the string. The descent member is set to the
maximum of the descent metrics. The width member is set to
the sum of the character-width metrics of all characters in
the string. For each character in the string, let W be the
sum of the character-width metrics of all characters
preceding it in the string. Let L be the left-side-bearing
metric of the character plus W. Let R be the
right-side-bearing metric of the character plus W. The
lbearing member is set to the minimum L of all characters in
the string. The rbearing member is set to the maximum R.</p>
<p style="margin-left:9%; margin-top: 1em">For fonts
defined with linear indexing rather than 2-byte matrix
indexing, each <b>XChar2b</b> structure is interpreted as a
16-bit number with byte1 as the most significant byte. If
the font has no defined default character, undefined
characters in the string are taken to have all zero
metrics.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>XQueryTextExtents</b> and <b>XQueryTextExtents16</b>
functions return the bounding box of the specified 8-bit and
16-bit character string in the specified font or the font
contained in the specified GC. These functions query the X
server and, therefore, suffer the round-trip overhead that
is avoided by <b>XTextExtents</b> and <b>XTextExtents16</b>.
Both functions return a <b>XCharStruct</b> structure, whose
members are set to the values as follows.</p>
<p style="margin-left:9%; margin-top: 1em">The ascent
member is set to the maximum of the ascent metrics of all
characters in the string. The descent member is set to the
maximum of the descent metrics. The width member is set to
the sum of the character-width metrics of all characters in
the string. For each character in the string, let W be the
sum of the character-width metrics of all characters
preceding it in the string. Let L be the left-side-bearing
metric of the character plus W. Let R be the
right-side-bearing metric of the character plus W. The
lbearing member is set to the minimum L of all characters in
the string. The rbearing member is set to the maximum R.</p>
<p style="margin-left:9%; margin-top: 1em">For fonts
defined with linear indexing rather than 2-byte matrix
indexing, each <b>XChar2b</b> structure is interpreted as a
16-bit number with byte1 as the most significant byte. If
the font has no defined default character, undefined
characters in the string are taken to have all zero
metrics.</p>
<p style="margin-left:9%; margin-top: 1em">Characters with
all zero metrics are ignored. If the font has no defined
default_char, the undefined characters in the string are
also ignored.</p>
<p style="margin-left:9%; margin-top: 1em"><b>XQueryTextExtents</b>
and <b>XQueryTextExtents16</b> can generate <b>BadFont</b>
and <b>BadGC</b> errors.</p>
<h2>DIAGNOSTICS
<a name="DIAGNOSTICS"></a>
</h2>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="9%">
<p style="margin-top: 1em"><b>BadFont</b></p></td>
<td width="4%"></td>
<td width="78%">
<p style="margin-top: 1em">A value for a Font or GContext
argument does not name a defined Font.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="9%">
<p><b>BadGC</b></p></td>
<td width="4%"></td>
<td width="78%">
<p>A value for a GContext argument does not name a defined
GContext.</p> </td></tr>
</table>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">XLoadFont(3),
XTextWidth(3) <i><br/>
Xlib − C Language X Interface</i></p>
<hr/>
</body>
</html>
