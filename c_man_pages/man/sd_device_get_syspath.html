<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 20:48:46 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SD_DEVICE_GET_SYSPATH</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">SD_DEVICE_GET_SYSPATH</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#RETURN VALUE">RETURN VALUE</a><br/>
<a href="#Errors">Errors</a><br/>
<a href="#NOTES">NOTES</a><br/>
<a href="#HISTORY">HISTORY</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">sd_device_get_syspath,
sd_device_get_devpath, sd_device_get_sysname,
sd_device_get_sysnum, sd_device_get_subsystem,
sd_device_get_devtype, sd_device_get_devname,
sd_device_get_devnum, sd_device_get_ifindex,
sd_device_get_driver, sd_device_get_diskseq − Returns
various fields of device objects</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>#include
&lt;systemd/sd−device.h&gt;</b></p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="83%">
<p style="margin-top: 1em"><b>int
sd_device_get_syspath(sd_device *</b><i>device</i><b>,
const char **</b><i>ret</i><b>);</b></p> </td>
<td width="8%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="83%">
<p style="margin-top: 1em"><b>int
sd_device_get_devpath(sd_device *</b><i>device</i><b>,
const char **</b><i>ret</i><b>);</b></p> </td>
<td width="8%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="83%">
<p style="margin-top: 1em"><b>int
sd_device_get_sysname(sd_device *</b><i>device</i><b>,
const char **</b><i>ret</i><b>);</b></p> </td>
<td width="8%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="83%">
<p style="margin-top: 1em"><b>int
sd_device_get_sysnum(sd_device *</b><i>device</i><b>,
const char **</b><i>ret</i><b>);</b></p> </td>
<td width="8%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="83%">
<p style="margin-top: 1em"><b>int
sd_device_get_subsystem(sd_device *</b><i>device</i><b>,
const char **</b><i>ret</i><b>);</b></p> </td>
<td width="8%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="83%">
<p style="margin-top: 1em"><b>int
sd_device_get_devtype(sd_device *</b><i>device</i><b>,
const char **</b><i>ret</i><b>);</b></p> </td>
<td width="8%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="83%">
<p style="margin-top: 1em"><b>int
sd_device_get_devname(sd_device *</b><i>device</i><b>,
const char **</b><i>ret</i><b>);</b></p> </td>
<td width="8%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="83%">
<p style="margin-top: 1em"><b>int
sd_device_get_devnum(sd_device *</b><i>device</i><b>,
dev_t *</b><i>ret</i><b>);</b></p> </td>
<td width="8%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="83%">
<p style="margin-top: 1em"><b>int
sd_device_get_ifindex(sd_device *</b><i>device</i><b>,
int *</b><i>ret</i><b>);</b></p> </td>
<td width="8%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="83%">
<p style="margin-top: 1em"><b>int
sd_device_get_driver(sd_device *</b><i>device</i><b>,
const char **</b><i>ret</i><b>);</b></p> </td>
<td width="8%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="83%">
<p style="margin-top: 1em"><b>int
sd_device_get_diskseq(sd_device *</b><i>device</i><b>,
uint64_t *</b><i>ret</i><b>);</b></p> </td>
<td width="8%">
</td></tr>
</table>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>sd_device_get_syspath()</b>
returns the sysfs path of the specified device record,
including the /sys prefix. Example:
/sys/devices/virtual/tty/tty7</p>
<p style="margin-left:9%; margin-top: 1em"><b>sd_device_get_devpath()</b>
returns the sysfs path of the specified device record,
excluding the /sys prefix. Example:
/devices/virtual/tty/tty7</p>
<p style="margin-left:9%; margin-top: 1em"><b>sd_device_get_sysname()</b>
returns the sysfs name of the specified device record, i.e.
the last component of the sysfs path. Example:
"tty7" for the device
/sys/devices/virtual/tty/tty7</p>
<p style="margin-left:9%; margin-top: 1em"><b>sd_device_get_sysnum()</b>
returns the sysfs device number of the specified device
record, i.e. the numeric suffix of the last component of the
sysfs path. Example: "7" for the device
/sys/devices/virtual/tty/tty7</p>
<p style="margin-left:9%; margin-top: 1em"><b>sd_device_get_subsystem()</b>
returns the kernel subsystem of the specified device record.
This is a short string fitting into a filename, and thus
does not contain a slash and cannot be empty. Example:
"tty", "block" or "net".</p>
<p style="margin-left:9%; margin-top: 1em"><b>sd_device_get_devtype()</b>
returns the device type of the specified device record, if
the subsystem manages multiple types of devices. Example:
for devices of the "block" subsystem this can be
"disk" or "partition"</p>
<p style="margin-left:9%; margin-top: 1em"><b>sd_device_get_devname()</b>
returns the device node path of the specified device record
if the device has a device node. Example: for
/sys/devices/virtual/tty/tty7 the string /dev/tty7 is
typically returned.</p>
<p style="margin-left:9%; margin-top: 1em"><b>sd_device_get_devnum()</b>
returns the device node major/minor (i.e. <b>dev_t</b>) of
the specified device record if the device has a device node
(i.e. the one returned by <b>sd_device_get_devname()</b>).
For devices belonging to the "block" subsystem
this refers to a block device node, in all other cases to a
character device node. Example: for the
/sys/devices/virtual/tty/tty7 device this typically returns
the device number with major/minor "4:7".</p>
<p style="margin-left:9%; margin-top: 1em"><b>sd_device_get_ifindex()</b>
returns the network interface index of the specified device
record, if the device encapsulates a network interface
device, i.e. belongs to the "net" subsystem.
Example: the "lo" interface typically has
interface index 1.</p>
<p style="margin-left:9%; margin-top: 1em"><b>sd_device_get_driver()</b>
returns the kernel driver name attached to the device. Note
that the driver field is set on the devices consumed by the
driver, not on the device created by it. Example: a PCI
device /sys/bus/pci/devices/0000:00:1f.6 might be attached
to a driver "e1000e".</p>
<p style="margin-left:9%; margin-top: 1em"><b>sd_device_get_diskseq()</b>
returns the kernel disk sequence number of the block device.
This number monotonically increases whenever a backing
medium of a block device changes without the device name
changing, and is relevant for block devices encapsulating
devices with changing media (e.g. floppy or CD−ROM),
or loopback block devices. Only defined for block devices,
i.e. those of subsystem "block".</p>
<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">On success,
these calls return 0 or a positive integer. On failure, they
return a negative errno−style error code.</p>
<h3>Errors
<a name="Errors"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">Returned errors
may indicate the following problems:</p>
<p style="margin-left:9%; margin-top: 1em"><b>−EINVAL</b></p>
<p style="margin-left:14%;">A specified parameter is
invalid.</p>
<p style="margin-left:14%; margin-top: 1em">Added in
version 251.</p>
<p style="margin-left:9%; margin-top: 1em"><b>−ENOENT</b></p>
<p style="margin-left:14%;">The requested field is not
present in the device record.</p>
<p style="margin-left:14%; margin-top: 1em">Added in
version 251.</p>
<h2>NOTES
<a name="NOTES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Functions
described here are available as a shared library, which can
be compiled against and linked to with the
<b>libsystemd pkg-config</b>(1) file.</p>
<p style="margin-left:9%; margin-top: 1em">The code
described here uses <b>getenv</b>(3), which is declared to
be not multi−thread−safe. This means that the
code calling the functions described here must not call
<b>setenv</b>(3) from a parallel thread. It is recommended
to only do calls to <b>setenv()</b> from an early phase of
the program when no other threads have been started.</p>
<h2>HISTORY
<a name="HISTORY"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>sd_device_get_syspath()</b>,
<b>sd_device_get_devpath()</b>,
<b>sd_device_get_sysname()</b>,
<b>sd_device_get_sysnum()</b>,
<b>sd_device_get_subsystem()</b>,
<b>sd_device_get_devtype()</b>,
<b>sd_device_get_devname()</b>,
<b>sd_device_get_devnum()</b>,
<b>sd_device_get_ifindex()</b>,
<b>sd_device_get_driver()</b>, and
<b>sd_device_get_diskseq()</b> were added in version
251.</p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>systemd</b>(1),
<b>sd-device</b>(3)</p>
<hr/>
</body>
</html>
