<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 20:53:51 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>XCOMPOSITE</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">XCOMPOSITE</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#ARGUMENTS">ARGUMENTS</a><br/>
<a href="#FUNCTIONS">FUNCTIONS</a><br/>
<a href="#AUTHORS">AUTHORS</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Xcomposite
− X Composite Extension library</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>#include
&lt;X11/extensions/Xcomposite.h&gt;</b></p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em"><b>Bool
XCompositeQueryExtension(Display *</b><i>dpy</i><b>,
int *</b><i>event_base_return</i><b>,
int *</b><i>error_base_return</i><b>);</b></p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em"><b>Status
XCompositeQueryVersion(Display *</b><i>dpy</i><b>,
int *</b><i>major_version_return</i><b>,
int *</b><i>minor_version_return</i><b>);</b></p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em"><b>int
XCompositeVersion(void);</b></p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em"><b>void
XCompositeRedirectWindow(Display *</b><i>dpy</i><b>,
Window </b><i>window</i><b>,
int </b><i>update</i><b>);</b></p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em"><b>void
XCompositeRedirectSubwindows(Display *</b><i>dpy</i><b>,
Window </b><i>window</i><b>,
int </b><i>update</i><b>);</b></p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em"><b>void
XCompositeUnredirectWindow(Display *</b><i>dpy</i><b>,
Window </b><i>window</i><b>,
int </b><i>update</i><b>);</b></p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em"><b>void
XCompositeUnredirectSubwindows(Display *</b><i>dpy</i><b>,
Window </b><i>window</i><b>,
int </b><i>update</i><b>);</b></p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em"><b>XserverRegion
XCompositeCreateRegionFromBorderClip(Display *</b><i>dpy</i><b>,
Window </b><i>window</i><b>);</b></p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em"><b>Pixmap
XCompositeNameWindowPixmap(Display *</b><i>dpy</i><b>,
Window </b><i>window</i><b>);</b></p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em"><b>Window
XCompositeGetOverlayWindow(Display *</b><i>dpy</i><b>,
Window </b><i>window</i><b>);</b></p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em"><b>void
XCompositeReleaseOverlayWindow(Display *</b><i>dpy</i><b>,
Window </b><i>window</i><b>);</b></p> </td></tr>
</table>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The composite
extension provides several related mechanisms:</p>
<p style="margin-left:9%; margin-top: 1em">Per−hierarchy
storage</p>
<p style="margin-left:14%;">The rendering of an entire
hierarchy of windows is redirected to off−screen
storage. The pixels of that hierarchy are available whenever
it is viewable. Storage is automatically reallocated when
the top level window changes size. Contents beyond the
geometry of the top window are not preserved.</p>
<p style="margin-left:9%; margin-top: 1em">Automatic shadow
update</p>
<p style="margin-left:14%;">When a hierarchy is rendered
off−screen, the X server provides an automatic
mechanism for presenting those contents within the parent
window. The implementation is free to make this update lag
behind actual rendering operations by an unspecified amount
of time. This automatic update mechanism may be disabled so
that the parent window contents can be completely determined
by an external application.</p>
<p style="margin-left:9%; margin-top: 1em">Composite
Overlay Window</p>
<p style="margin-left:14%;">Version 0.3 of the protocol
adds the Composite Overlay Window, which provides
compositing managers with a surface on which to draw without
interference. This window is always above normal windows and
is always below the screen saver window. It is an
InputOutput window whose width and height are the screen
dimensions. Its visual is the root visual and its border
width is zero. Attempts to redirect it using the composite
extension are ignored. This window does not appear in the
reply of the QueryTree request. It is also an override
redirect window. These last two features make it invisible
to window managers and other X11 clients. The only way to
access the XID of this window is via the
CompositeGetOverlayWindow request. Initially, the Composite
Overlay Window is unmapped.</p>
<p style="margin-left:9%; margin-top: 1em">Parent window
clipping</p>
<p style="margin-left:14%;">Version 0.4 of the protocol
modifies the semantics of parent window clipping in the
presence of manual redirected children. With this version,
the area in the parent covered by manual redirected children
is left in the parent clip list instead of being removed as
in older versions.</p>
<p style="margin-left:9%; margin-top: 1em">Per−hierarchy
storage may be created for individual windows or for all
children of a window. Manual shadow update may be selected
by only a single application for each window; manual update
may also be selected on a per−window basis or for each
child of a window. Detecting when to update may be done with
the Damage extension.</p>
<p style="margin-left:9%; margin-top: 1em">The
off−screen storage includes the window contents, its
borders and the contents of all descendants.</p>
<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><i>display</i></p>
<p style="margin-left:14%;">Pointer to the <b>Display</b>
structure returned from <b>XOpenDisplay</b> for the
connection to the X server.</p>
<p style="margin-left:9%; margin-top: 1em"><i>event_base_return</i></p>
<p style="margin-left:14%;">Pointer to integer where the
base value for Composite Extension events will be
stored.</p>
<p style="margin-left:9%; margin-top: 1em"><i>error_base_return</i></p>
<p style="margin-left:14%;">Pointer to integer where the
base value for Composite Extension errors will be
stored.</p>
<p style="margin-left:9%; margin-top: 1em"><i>major_version_return</i></p>
<p style="margin-left:14%;">Pointer to integer where the
major version of the Composite Extension supported by the X
server will be stored.</p>
<p style="margin-left:9%; margin-top: 1em"><i>minor_version_return</i></p>
<p style="margin-left:14%;">Pointer to integer where the
minor version of the Composite Extension supported by the X
server will be stored.</p>
<p style="margin-left:9%; margin-top: 1em"><i>window</i></p>
<p style="margin-left:14%;">Specifies the window ID to
operate on.</p>
<p style="margin-left:9%; margin-top: 1em"><i>update</i></p>
<p style="margin-left:14%;">Specifies the mode for updating
the window contents. Must be either
<b>CompositeRedirectAutomatic</b> or
<b>CompositeRedirectManual</b>.</p>
<h2>FUNCTIONS
<a name="FUNCTIONS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>XCompositeQueryExtension</b></p>
<p style="margin-left:14%; margin-top: 1em"><b>XCompositeQueryExtension</b>
determines if the Composite Extension is available on the
given display. It returns <b>True</b> if the extension is
supported, otherwise <b>False</b>. If the extension is
present, the base values for events and errors are returned,
and can be used to decode incoming event and error
values.</p>
<p style="margin-left:9%; margin-top: 1em"><b>XCompositeQueryVersion</b></p>
<p style="margin-left:14%; margin-top: 1em"><b>XCompositeQueryVersion</b>
determines if the X Server supports a version of the X
Composite Extension which is compatible with the client
library. A non−zero Status is returned if a compatible
version of the extension is supported, otherwise a zero
Status is returned. If the extension is supported, the major
and minor version numbers are returned to indicate the level
of Composite Extension support. No other XComposite
functions (except XCompositeQueryExtension) may be called
before this function. If a client violates this rule, the
effects of all subsequent XComposite calls that it makes are
undefined.</p>
<p style="margin-left:9%; margin-top: 1em"><b>XCompositeVersion</b></p>
<p style="margin-left:14%; margin-top: 1em"><b>XCompositeVersion</b>
returns the version of the X Composite library. The version
number is encoded as: (major * 10000) + (minor * 100) +
revision</p>
<p style="margin-left:14%; margin-top: 1em">For example,
version 1.4.6 would be encoded as the integer 10406.</p>
<p style="margin-left:9%; margin-top: 1em"><b>XCompositeRedirectWindow</b></p>
<p style="margin-left:14%; margin-top: 1em"><b>XCompositeRedirectWindow</b>
requests the X server to direct the hierarchy starting at
<i>window</i> to off−screen storage. The <i>update</i>
argument specifies whether the contents are mirrored to the
parent window automatically or not. Only one client at a
time may specify an update type of
<b>CompositeRedirectManual</b>, another attempt will result
in a BadAccess error. When all clients enabling redirection
terminate, the redirection will automatically be
disabled.</p>
<p style="margin-left:14%; margin-top: 1em">The root window
may not be redirected. Doing so results in a BadMatch error.
Specifying an invalid window id will result in a BadWindow
error.</p>
<p style="margin-left:9%; margin-top: 1em"><b>XCompositeRedirectSubwindows</b></p>
<p style="margin-left:14%; margin-top: 1em"><b>XCompositeRedirectSubwindows</b>
requests the X server to redirect hierarchies starting at
all current and future children of <i>window</i> as in
<b>XCompositeRedirectWindow</b>. If <i>update</i> is
<b>CompositeRedirectManual</b>, then painting of the window
background during window manipulation and ClearArea requests
is inhibited.</p>
<p style="margin-left:9%; margin-top: 1em"><b>XCompositeUnredirectWindow</b></p>
<p style="margin-left:14%; margin-top: 1em"><b>XCompositeUnredirectWindow</b>
requests the X server to terminate redirection of
<i>window</i>. If the specified window was not selected for
redirection by the current client, a BadValue error
results.</p>
<p style="margin-left:9%; margin-top: 1em"><b>XCompositeUnredirectSubwindows</b></p>
<p style="margin-left:14%; margin-top: 1em"><b>XCompositeUnredirectWindow</b>
requests the X server to terminate redirection of all
children of <i>window</i>. If the specified window was not
selected for sub−redirection by the current client, a
BadValue error results.</p>
<p style="margin-left:9%; margin-top: 1em"><b>XCompositeCreateRegionFromBorderClip</b></p>
<p style="margin-left:14%; margin-top: 1em"><b>XCompositeCreateRegionFromBorderClip</b>
creates a region containing the "usual" border
clip value; that is the area of the window clipped against
siblings and the parent. This region can be used to restrict
rendering to suitable areas while updating only a single
window. The region is copied at the moment the request is
executed; future changes to the window hierarchy will not be
reflected in this region.</p>
<p style="margin-left:9%; margin-top: 1em"><b>XCompositeNameWindowPixmap</b></p>
<p style="margin-left:14%; margin-top: 1em"><b>XCompositeNameWindowPixmap</b>
creates and returns a pixmap id that serves as a reference
to the off−screen storage for <i>window</i>. This
pixmap will remain allocated until freed, even if the window
is unmapped, reconfigured or destroyed. However, the window
will get a new pixmap allocated each time it is mapped or
resized, so this function will need to be reinvoked for the
client to continue to refer to the storage holding the
current window contents. Generates a BadMatch error if
<i>window</i> is not redirected or is not visible.</p>
<p style="margin-left:14%; margin-top: 1em">The X server
must support at least version 0.2 of the Composite Extension
for <b>XCompositeNameWindowPixmap</b>.</p>
<p style="margin-left:9%; margin-top: 1em"><b>XCompositeGetOverlayWindow</b></p>
<p style="margin-left:14%; margin-top: 1em"><b>XCompositeGetOverlayWindow</b>
returns the window ID of the Composite Overlay Window for
the screen specified by the argument <i>window</i>. This
function notifies the X server that the client wishes to use
the Composite Overlay Window of this screen. If this
Composite Overlay Window has not yet been mapped, it is
mapped by this request.</p>
<p style="margin-left:14%; margin-top: 1em">The Composite
Overlay Window for a particular screen will be unmapped when
all clients who have called this function have either called
<b>XCompositeReleaseOverlayWindow</b> for that screen, or
terminated their connection to the X server.</p>
<p style="margin-left:14%; margin-top: 1em">The X server
must support at least version 0.3 of the Composite Extension
for <b>XCompositeGetOverlayWindow</b>.</p>
<p style="margin-left:9%; margin-top: 1em"><b>XCompositeReleaseOverlayWindow</b></p>
<p style="margin-left:14%;">This request specifies that the
client is no longer using the Composite Overlay Window on
the screen specified by the argument <i>window</i>. A
screen's Composite Overlay Window is unmapped when there are
no longer any clients using it.</p>
<p style="margin-left:14%; margin-top: 1em">The X server
must support at least version 0.3 of the Composite Extension
for <b>XCompositeReleaseOverlayWindow</b>.</p>
<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>Keith
Packard</b> &lt;keithp@keithp.com&gt;</p>
<p style="margin-left:14%;">Extension specification and
implementation</p>
<p style="margin-left:9%; margin-top: 1em"><b>Deron
Johnson</b> &lt;deron.johnson@sun.com&gt;</p>
<p style="margin-left:14%;">Overlay Window specification
and implementation</p>
<hr/>
</body>
</html>
