<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 19:56:39 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>XChangeKeyboardMapping</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">XChangeKeyboardMapping</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNTAX">SYNTAX</a><br/>
<a href="#ARGUMENTS">ARGUMENTS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#STRUCTURES">STRUCTURES</a><br/>
<a href="#DIAGNOSTICS">DIAGNOSTICS</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">XChangeKeyboardMapping,
XGetKeyboardMapping, XDisplayKeycodes, XSetModifierMapping,
XGetModifierMapping, XNewModifiermap,
XInsertModifiermapEntry, XDeleteModifiermapEntry,
XFreeModifiermap, XModifierKeymap − manipulate
keyboard encoding and keyboard encoding structure</p>
<h2>SYNTAX
<a name="SYNTAX"></a>
</h2>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">int
XChangeKeyboardMapping(Display *<i>display</i>, int
<i>first_keycode</i>, int <i>keysyms_per_keycode</i>, KeySym
*<i>keysyms</i>, int <i>num_codes</i>);</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">KeySym
*XGetKeyboardMapping(Display *<i>display</i>, KeyCode
<i>first_keycode</i>, int <i>keycode_count</i>, int
*<i>keysyms_per_keycode_return</i>);</p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">int XDisplayKeycodes(Display
*<i>display</i>, int *<i>min_keycodes_return</i>, int
*<i>max_keycodes_return</i>);</p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">int XSetModifierMapping(Display
*<i>display</i>, XModifierKeymap *<i>modmap</i>);</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">XModifierKeymap
*XGetModifierMapping(Display *<i>display</i>);</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">XModifierKeymap
*XNewModifiermap(int <i>max_keys_per_mod</i>);</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">XModifierKeymap
*XInsertModifiermapEntry(XModifierKeymap *<i>modmap</i>,
KeyCode <i>keycode_entry</i>, int <i>modifier</i>);</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">XModifierKeymap
*XDeleteModifiermapEntry(XModifierKeymap *<i>modmap</i>,
KeyCode <i>keycode_entry</i>, int <i>modifier</i>);</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="91%">
<p style="margin-top: 1em">int
XFreeModifiermap(XModifierKeymap *<i>modmap</i>);</p></td></tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>
<td width="9%"></td>
<td width="9%"></td>
<td width="4%"></td>
<td width="52%">
</td>
<td width="26%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="9%">
<p><i>display</i></p></td>
<td width="4%"></td>
<td width="52%">
<p>Specifies the connection to the X server.</p></td>
<td width="26%">
</td></tr>
</table>
<p style="margin-left:9%;"><i>first_keycode</i></p>
<p style="margin-left:22%;">Specifies the first KeyCode
that is to be changed or returned.</p>
<p style="margin-left:9%;"><i>keycode_count</i></p>
<p style="margin-left:22%;">Specifies the number of
KeyCodes that are to be returned.</p>
<p style="margin-left:9%;"><i>keycode_entry</i></p>
<p style="margin-left:22%;">Specifies the KeyCode.</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="9%">
<p><i>keysyms</i></p></td>
<td width="4%"></td>
<td width="38%">
<p>Specifies an array of KeySyms.</p></td>
<td width="40%">
</td></tr>
</table>
<p style="margin-left:9%;"><i>keysyms_per_keycode</i></p>
<p style="margin-left:22%;">Specifies the number of KeySyms
per KeyCode.</p>
<p style="margin-left:9%;"><i>keysyms_per_keycode_return</i></p>
<p style="margin-left:22%;">Returns the number of KeySyms
per KeyCode.</p>
<p style="margin-left:9%;"><i>max_keys_per_mod</i></p>
<p style="margin-left:22%;">Specifies the number of KeyCode
entries preallocated to the modifiers in the map.</p>
<p style="margin-left:9%;"><i>max_keycodes_return</i></p>
<p style="margin-left:22%;">Returns the maximum number of
KeyCodes.</p>
<p style="margin-left:9%;"><i>min_keycodes_return</i></p>
<p style="margin-left:22%;">Returns the minimum number of
KeyCodes.</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="12%">
<p><i>modifier</i></p></td>
<td width="1%"></td>
<td width="72%">
<p>Specifies the modifier.</p></td>
<td width="6%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="12%">
<p><i>modmap</i></p></td>
<td width="1%"></td>
<td width="72%">
<p>Specifies the <b>XModifierKeymap</b> structure.</p></td>
<td width="6%">
</td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="12%">
<p><i>num_codes</i></p></td>
<td width="1%"></td>
<td width="72%">
<p>Specifies the number of KeyCodes that are to be
changed.</p> </td>
<td width="6%">
</td></tr>
</table>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The
<b>XChangeKeyboardMapping</b> function defines the symbols
for the specified number of KeyCodes starting with
first_keycode. The symbols for KeyCodes outside this range
remain unchanged. The number of elements in keysyms must
be:</p>
<p style="margin-left:9%; margin-top: 1em">num_codes *
keysyms_per_keycode</p>
<p style="margin-left:9%; margin-top: 1em">The specified
first_keycode must be greater than or equal to min_keycode
returned by <b>XDisplayKeycodes</b>, or a <b>BadValue</b>
error results. In addition, the following expression must be
less than or equal to max_keycode as returned by
<b>XDisplayKeycodes</b>, or a <b>BadValue</b> error
results:</p>
<p style="margin-left:9%; margin-top: 1em">first_keycode +
num_codes − 1</p>
<p style="margin-left:9%; margin-top: 1em">KeySym number N,
counting from zero, for KeyCode K has the following index in
keysyms, counting from zero:</p>
<p style="margin-left:9%; margin-top: 1em">(K −
first_keycode) * keysyms_per_keycode + N</p>
<p style="margin-left:9%; margin-top: 1em">The specified
keysyms_per_keycode can be chosen arbitrarily by the client
to be large enough to hold all desired symbols. A special
KeySym value of <b>NoSymbol</b> should be used to fill in
unused elements for individual KeyCodes. It is legal for
<b>NoSymbol</b> to appear in nontrailing positions of the
effective list for a KeyCode. <b>XChangeKeyboardMapping</b>
generates a <b>MappingNotify</b> event.</p>
<p style="margin-left:9%; margin-top: 1em">There is no
requirement that the X server interpret this mapping. It is
merely stored for reading and writing by clients.</p>
<p style="margin-left:9%; margin-top: 1em"><b>XChangeKeyboardMapping</b>
can generate <b>BadAlloc</b> and <b>BadValue</b> errors.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>XGetKeyboardMapping</b> function returns the symbols for
the specified number of KeyCodes starting with
first_keycode. The value specified in first_keycode must be
greater than or equal to min_keycode as returned by
<b>XDisplayKeycodes</b>, or a <b>BadValue</b> error results.
In addition, the following expression must be less than or
equal to max_keycode as returned by
<b>XDisplayKeycodes</b>:</p>
<p style="margin-left:9%; margin-top: 1em">first_keycode +
keycode_count − 1</p>
<p style="margin-left:9%; margin-top: 1em">If this is not
the case, a <b>BadValue</b> error results. The number of
elements in the KeySyms list is:</p>
<p style="margin-left:9%; margin-top: 1em">keycode_count *
keysyms_per_keycode_return</p>
<p style="margin-left:9%; margin-top: 1em">KeySym number N,
counting from zero, for KeyCode K has the following index in
the list, counting from zero: <br/>
(K − first_code) * keysyms_per_code_return + N</p>
<p style="margin-left:9%; margin-top: 1em">The X server
arbitrarily chooses the keysyms_per_keycode_return value to
be large enough to report all requested symbols. A special
KeySym value of <b>NoSymbol</b> is used to fill in unused
elements for individual KeyCodes. To free the storage
returned by <b>XGetKeyboardMapping</b>, use
<b>XFree</b>.</p>
<p style="margin-left:9%; margin-top: 1em"><b>XGetKeyboardMapping</b>
can generate a <b>BadValue</b> error.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>XDisplayKeycodes</b> function returns the min-keycodes
and max-keycodes supported by the specified display. The
minimum number of KeyCodes returned is never less than 8,
and the maximum number of KeyCodes returned is never greater
than 255. Not all KeyCodes in this range are required to
have corresponding keys.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>XSetModifierMapping</b> function specifies the KeyCodes
of the keys (if any) that are to be used as modifiers. If it
succeeds, the X server generates a <b>MappingNotify</b>
event, and <b>XSetModifierMapping</b> returns
<b>MappingSuccess</b>. X permits at most 8 modifier keys. If
more than 8 are specified in the <b>XModifierKeymap</b>
structure, a <b>BadLength</b> error results.</p>
<p style="margin-left:9%; margin-top: 1em">The modifiermap
member of the <b>XModifierKeymap</b> structure contains 8
sets of max_keypermod KeyCodes, one for each modifier in the
order <b>Shift</b>, <b>Lock</b>, <b>Control</b>,
<b>Mod1</b>, <b>Mod2</b>, <b>Mod3</b>, <b>Mod4</b>, and
<b>Mod5</b>. Only nonzero KeyCodes have meaning in each set,
and zero KeyCodes are ignored. In addition, all of the
nonzero KeyCodes must be in the range specified by
min_keycode and max_keycode in the <b>Display</b> structure,
or a <b>BadValue</b> error results.</p>
<p style="margin-left:9%; margin-top: 1em">An X server can
impose restrictions on how modifiers can be changed, for
example, if certain keys do not generate up transitions in
hardware, if auto-repeat cannot be disabled on certain keys,
or if multiple modifier keys are not supported. If some such
restriction is violated, the status reply is
<b>MappingFailed</b>, and none of the modifiers are changed.
If the new KeyCodes specified for a modifier differ from
those currently defined and any (current or new) keys for
that modifier are in the logically down state,
<b>XSetModifierMapping</b> returns <b>MappingBusy</b>, and
none of the modifiers is changed.</p>
<p style="margin-left:9%; margin-top: 1em"><b>XSetModifierMapping</b>
can generate <b>BadAlloc</b> and <b>BadValue</b> errors.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>XGetModifierMapping</b> function returns a pointer to a
newly created <b>XModifierKeymap</b> structure that contains
the keys being used as modifiers. The structure should be
freed after use by calling <b>XFreeModifiermap</b>. If only
zero values appear in the set for any modifier, that
modifier is disabled.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>XNewModifiermap</b> function returns a pointer to
<b>XModifierKeymap</b> structure for later use.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>XInsertModifiermapEntry</b> function adds the specified
KeyCode to the set that controls the specified modifier and
returns the resulting <b>XModifierKeymap</b> structure
(expanded as needed).</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>XDeleteModifiermapEntry</b> function deletes the
specified KeyCode from the set that controls the specified
modifier and returns a pointer to the resulting
<b>XModifierKeymap</b> structure.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>XFreeModifiermap</b> function frees the specified
<b>XModifierKeymap</b> structure.</p>
<h2>STRUCTURES
<a name="STRUCTURES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The
<b>XModifierKeymap</b> structure contains:</p>
<p style="margin-left:9%; margin-top: 1em">typedef struct {
<br/>
int max_keypermod; /* This server’s max number of keys
per modifier */ <br/>
KeyCode *modifiermap; /* An 8 by max_keypermod array of the
modifiers */ <br/>
} XModifierKeymap;</p>
<h2>DIAGNOSTICS
<a name="DIAGNOSTICS"></a>
</h2>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="10%">
<p style="margin-top: 1em"><b>BadAlloc</b></p></td>
<td width="3%"></td>
<td width="78%">
<p style="margin-top: 1em">The server failed to allocate
the requested resource or server memory.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="10%">
<p><b>BadValue</b></p></td>
<td width="3%"></td>
<td width="78%">
<p>Some numeric value falls outside the range of values
accepted by the request. Unless a specific range is
specified for an argument, the full range defined by the
argument’s type is accepted. Any argument defined as a
set of alternatives can generate this error.</p></td></tr>
</table>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">XFree(3),
XkbGetMap(3), XSetPointerMapping(3) <i><br/>
Xlib − C Language X Interface</i></p>
<hr/>
</body>
</html>
