<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 20:41:15 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>DEBUGINFOD_FIND_*</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">DEBUGINFOD_FIND_*</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#RETURN VALUE">RETURN VALUE</a><br/>
<a href="#OPTIONAL FUNCTIONS">OPTIONAL FUNCTIONS</a><br/>
<a href="#PROGRESS CALLBACK">PROGRESS CALLBACK</a><br/>
<a href="#VERBOSE OUTPUT">VERBOSE OUTPUT</a><br/>
<a href="#USER DATA POINTER">USER DATA POINTER</a><br/>
<a href="#URL">URL</a><br/>
<a href="#HTTP HEADER">HTTP HEADER</a><br/>
<a href="#MACROS">MACROS</a><br/>
<a href="#DEBUGINFOD_SONAME">DEBUGINFOD_SONAME</a><br/>
<a href="#SECURITY">SECURITY</a><br/>
<a href="#ERRORS">ERRORS</a><br/>
<a href="#ENVIRONMENT VARIABLES">ENVIRONMENT VARIABLES</a><br/>
<a href="#CACHE">CACHE</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">debuginfod_find_debuginfo
− request debuginfo from debuginfod</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>#include
&lt;elfutils/debuginfod.h&gt;</b></p>
<p style="margin-left:9%; margin-top: 1em">Link with
<b>-ldebuginfod</b>.</p>
<p style="margin-left:9%; margin-top: 1em">CONNECTION
HANDLE</p>
<p style="margin-left:9%; margin-top: 1em"><b>debuginfod_client
*debuginfod_begin(void); <br/>
void debuginfod_end(debuginfod_client
*</b><i>client</i><b>);</b></p>
<p style="margin-left:9%; margin-top: 1em">LOOKUP
FUNCTIONS</p>
<p style="margin-left:9%; margin-top: 1em"><b>int
debuginfod_find_debuginfo(debuginfod_client
*</b><i>client</i><b>, <br/>
const unsigned char *</b><i>build_id</i><b>, <br/>
int</b> <i>build_id_len</i><b>, <br/>
char **</b> <i>path</i><b>); <br/>
int debuginfod_find_executable(debuginfod_client
*</b><i>client</i><b>, <br/>
const unsigned char *</b><i>build_id</i><b>, <br/>
int</b> <i>build_id_len</i><b>, <br/>
char **</b> <i>path</i><b>); <br/>
int debuginfod_find_source(debuginfod_client
*</b><i>client</i><b>, <br/>
const unsigned char *</b><i>build_id</i><b>, <br/>
int</b> <i>build_id_len</i><b>, <br/>
const char *</b><i>filename</i><b>, <br/>
char **</b> <i>path</i><b>); <br/>
int debuginfod_find_section(debuginfod_client
*</b><i>client</i><b>, <br/>
const unsigned char *</b><i>build_id</i><b>, <br/>
int</b> <i>build_id_len</i><b>, <br/>
const char *</b> <i>section</i><b>, <br/>
char **</b> <i>path</i><b>); <br/>
int debuginfod_find_metadata(debuginfod_client
*</b><i>client</i><b>, <br/>
const char *</b><i>key</i><b>, <br/>
const char *</b><i>value</i><b>, <br/>
char **</b> <i>path</i><b>);</b></p>
<p style="margin-left:9%; margin-top: 1em">OPTIONAL
FUNCTIONS</p>
<p style="margin-left:9%; margin-top: 1em"><b>typedef int
(*debuginfod_progressfn_t)(debuginfod_client
*</b><i>client</i><b>, <br/>
long a, long b); <br/>
void debuginfod_set_progressfn(debuginfod_client
*</b><i>client</i><b>, <br/>
debuginfod_progressfn_t</b> <i>progressfn</i><b>); <br/>
void debuginfod_set_verbose_fd(debuginfod_client
*</b><i>client</i><b>, <br/>
int</b> <i>fd</i><b>); <br/>
void debuginfod_set_user_data(debuginfod_client
*</b><i>client</i><b>, <br/>
void *</b><i>data</i><b>); <br/>
void* debuginfod_get_user_data(debuginfod_client
*</b><i>client</i><b>); <br/>
const char* debuginfod_get_url(debuginfod_client
*</b><i>client</i><b>); <br/>
int debuginfod_add_http_header(debuginfod_client
*</b><i>client</i><b>, <br/>
const char*</b> <i>header</i><b>); <br/>
const char* debuginfod_get_headers(debuginfod_client
*</b><i>client</i><b>);</b></p>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>debuginfod_begin</b>()
creates a <b>debuginfod_client</b> connection handle that
should be used with all other calls. <b>debuginfod_end</b>()
should be called on the <b>client</b> handle to release all
state and storage when done.</p>
<p style="margin-left:9%; margin-top: 1em"><b>debuginfod_find_debuginfo</b>(),
<b>debuginfod_find_executable</b>(), and
<b>debuginfod_find_source</b>() query the debuginfod server
URLs contained in <b>$DEBUGINFOD_URLS</b> (see below) for
the debuginfo, executable or source file with the given
<i>build_id</i>. <i>build_id</i> should be a pointer to
either a null-terminated, lowercase hex string or a binary
blob. If <i>build_id</i> is given as a hex string,
<i>build_id_len</i> should be 0. Otherwise
<i>build_id_len</i> should be the number of bytes in the
binary blob.</p>
<p style="margin-left:9%; margin-top: 1em"><b>debuginfod_find_source</b>()
also requires a <i>filename</i> in order to specify a
particular source file. <i>filename</i> should be an
absolute path that includes the compilation directory of the
CU associated with the source file. Relative path names
commonly appear in the DWARF file’s source directory,
but these paths are relative to individual compilation unit
AT_comp_dir paths, and yet an executable is made up of
multiple CUs. Therefore, to disambiguate, debuginfod expects
source queries to prefix relative path names with the CU
compilation-directory, followed by a mandatory
"/".</p>
<p style="margin-left:9%; margin-top: 1em">Note: the caller
may or may not elide <b>../</b> or <b>/./</b> or extraneous
<b>///</b> sorts of path components in the directory names.
debuginfod accepts both forms. Specifically, debuginfod
canonicalizes path names according to RFC3986 section 5.2.4
(Remove Dot Segments), plus reducing any <b>//</b> to
<b>/</b> in the path.</p>
<p style="margin-left:9%; margin-top: 1em"><b>debuginfod_find_section</b>()
queries the debuginfod server URLs contained in
<b>$DEBUGINFOD_URLS</b> for the binary contents of an
ELF/DWARF section contained in a debuginfo or executable
file with the given <i>build_id</i>. <i>section</i> should
be the name of the desired ELF/DWARF section. If a server
does not support section queries, debuginfod_find_section
may query the server for the debuginfo and/or executable
with <i>build_id</i> in order to retrieve and extract the
section.</p>
<p style="margin-left:9%; margin-top: 1em"><b>debuginfod_find_metadata</b>()
queries all debuginfod server URLs contained in
<b>$DEBUGINFOD_URLS</b> for metadata for all matches of a
given key/value query against files in their indexes. The
resulting file is a JSON document. See the
<i>debuginfod-find(1)</i> man page for examples of the
supported types of key/value queries and their JSON
results.</p>
<p style="margin-left:9%; margin-top: 1em">If <i>path</i>
is not NULL and the query is successful, <i>path</i> is set
to the path of the file in the cache. The caller must
<b>free</b>() this value.</p>
<p style="margin-left:9%; margin-top: 1em">The URLs in
<b>$DEBUGINFOD_URLS</b> may be queried in parallel. As soon
as a debuginfod server begins transferring the target file
all of the connections to the other servers are closed.</p>
<p style="margin-left:9%; margin-top: 1em">A <b>client</b>
handle should be used from only one thread at a time. A
handle may be reused for a series of lookups, which can
improve performance due to retention of connections and
caches.</p>
<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>debuginfod_begin</b>
returns the <b>debuginfod_client</b> handle to use with all
other calls. On error <b>NULL</b> will be returned and
<b>errno</b> will be set.</p>
<p style="margin-left:9%; margin-top: 1em">If a find family
function is successful, the resulting file is saved to the
client cache and a file descriptor to that file is returned.
The file descriptor points to the beginning of the file. The
caller needs to <b>close</b>() this descriptor. Otherwise, a
negative error code is returned.</p>
<h2>OPTIONAL FUNCTIONS
<a name="OPTIONAL FUNCTIONS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">A small number
of optional functions are available to tune or query the
operation of the debuginfod client.</p>
<h3>PROGRESS CALLBACK
<a name="PROGRESS CALLBACK"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">As the
<b>debuginfod_find_*</b>() functions may block for seconds
or longer, a progress callback function is called
periodically, if configured with
<b>debuginfod_set_progressfn</b>(). This function sets a new
progress callback function (or NULL) for the client
handle.</p>
<p style="margin-left:9%; margin-top: 1em">The given
callback function is called from the context of each thread
that is invoking any of the other lookup functions. It is
given two numeric parameters that, if thought of as a
numerator <i>a</i> and denominator <i>b</i>, together
represent a completion fraction <i>a/b</i>. The denominator
may be zero initially, until a quantity such as an exact
download size becomes known.</p>
<p style="margin-left:9%; margin-top: 1em">The progress
callback function is also the supported way to
<i>interrupt</i> the download operation. (The library does
<i>not</i> modify or trigger signals.) The progress callback
must return 0 to continue the work, or any other value to
stop work as soon as possible. Consequently, the
<b>debuginfod_find_*</b>() function will likely return with
an error, but might still succeed.</p>
<h3>VERBOSE OUTPUT
<a name="VERBOSE OUTPUT"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">The
<b>debuginfod_find_*</b>() functions may use several
techniques to retrieve the requested files, through the
cache or through one or multiple servers or file URLs. To
show how a query is handled the
<b>debuginfod_set_verbose_fd</b>() can be used to set a
particular file descriptor on which verbose output is given
about the query steps and eventual errors encountered.</p>
<h3>USER DATA POINTER
<a name="USER DATA POINTER"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">A single <i>void
*</i> pointer associated with the connection handle may be
set any time via <b>debuginfod_set_user_data</b>()<b>,</b>
and retrieved via <b>debuginfod_get_user_data</b>()<b>.</b>
The value is undefined if unset.</p>
<h3>URL
<a name="URL"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">The URL of the
current or most recent outgoing download, if known, may be
retrieved via <b>debuginfod_get_url</b>() from the
progressfn callback, or afterwards. It may be NULL. The
resulting string is owned by the library, and must not be
modified or freed. The caller should copy it if it is needed
beyond the release of the client object.</p>
<h3>HTTP HEADER
<a name="HTTP HEADER"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">Before each
lookup function is initiated, a client application may add
HTTP request headers. These are reset after each lookup
function. <b>debuginfod_add_http_header</b>() may be called
with strings of the form
<b>"Header: value"</b>. These strings are
copied by the library. A zero return value indicates
success, but out-of-memory conditions may result in a
non-zero <i>-ENOMEM</i>. If the string is in the wrong form
<i>-EINVAL</i> will be returned.</p>
<p style="margin-left:9%; margin-top: 1em"><i>$DEBUGINFOD_HEADERS_FILE</i>
specifies a file to supply headers to outgoing requests.
Each non-whitespace line of this file is handled as if
<b>debuginfod_add_http_header</b>() were called on the
contents.</p>
<p style="margin-left:9%; margin-top: 1em">Note that the
current debuginfod-client library implementation uses
libcurl, but you shouldn’t rely on that fact.
Don’t use this function for replacing any standard
headers, except for the User-Agent mentioned below. You can
use this function to add authorization information for
access control, or to provide optional headers to the server
for logging purposes.</p>
<p style="margin-left:9%; margin-top: 1em">By default, the
library adds a descriptive <i>User-Agent:</i> header to
outgoing requests. If the client application adds a header
with the same name, this default is suppressed.</p>
<p style="margin-left:9%; margin-top: 1em">During or after
a lookup, a client application may call
<b>debuginfod_get_headers</b>() to gather the subset of HTTP
response headers received from the current or most recent
debuginfod server. Only those headers prefixed with
<b>X-DEBUGINFOD</b> (case-insensitive) are kept. They are
returned as a single string, with each "header:
value" terminated with a \n (not \r\n as in HTTP). It
may be NULL. The resulting string is owned by the library,
and must not be modified or freed. The caller should copy
the returned string if it is needed beyond the release of
the client object.</p>
<h2>MACROS
<a name="MACROS"></a>
</h2>
<h3>DEBUGINFOD_SONAME
<a name="DEBUGINFOD_SONAME"></a>
</h3>
<p style="margin-left:9%; margin-top: 1em">Defined to the
string that could be passed to <b>dlopen</b>(3) if the
library is loaded at runtime, for example</p>
<p style="margin-left:14%; margin-top: 1em">void
*debuginfod_so = dlopen(DEBUGINFOD_SONAME, RTLD_LAZY);</p>
<h2>SECURITY
<a name="SECURITY"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">If IMA
signature(s) are available from the RPMs that contain
requested files, then <b>debuginfod</b> will extract those
signatures into response headers, and
<b>debuginfod_find_*</b>() will perform verification upon
the files. Validation policy is controlled via tags inserted
into $DEBUGINFOD_URLS. By default,
<b>debuginfod_find_*</b>() acts in ignore mode.</p>
<p style="margin-left:9%; margin-top: 1em">If accessed
across HTTP rather than HTTPS, the network should be
trustworthy. Authentication information through the internal
<i>libcurl</i> library is not currently enabled, except for
the basic plaintext
<i>http[s]://userid:password@hostname/</i> style. (The
debuginfod server does not perform authentication, but a
front-end proxy server could.)</p>
<h2>ERRORS
<a name="ERRORS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The following
list is not comprehensive. Error codes may also originate
from calls to various C Library functions. <b><br/>
EACCESS</b></p>
<p style="margin-left:18%;">Denied access to resource
located at the URL.</p>
<p style="margin-left:9%;"><b>ECONNREFUSED</b></p>
<p style="margin-left:18%;">Unable to connect to remote
host. Also returned when an HTTPS connection couldn’t
be verified (bad certificate).</p>
<p style="margin-left:9%;"><b>ECONNRESET</b></p>
<p style="margin-left:18%;">Unable to either send or
receive network data.</p>
<p style="margin-left:9%;"><b>EHOSTUNREACH</b></p>
<p style="margin-left:18%;">Unable to resolve remote
host.</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="8%">
<p><b>EINVAL</b></p></td>
<td width="1%"></td>
<td width="82%">
<p>One or more arguments are incorrectly formatted.
<i>build_id</i> may be too long (greater than 256
characters), <i>filename</i> may not be an absolute path or
a debuginfod URL is malformed.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="8%">
<p><b>EIO</b></p></td>
<td width="1%"></td>
<td width="82%">
<p>Unable to write data received from server to local
file.</p> </td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="8%">
<p><b>EMLINK</b></p></td>
<td width="1%"></td>
<td width="82%">
<p>Too many HTTP redirects.</p></td></tr>
</table>
<p style="margin-left:9%;"><b>ENETUNREACH</b></p>
<p style="margin-left:18%;">Unable to initialize network
connection.</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="8%">
<p><b>ENOENT</b></p></td>
<td width="1%"></td>
<td width="82%">
<p>Could not find the resource located at URL. Often this
error code indicates that a debuginfod server was
successfully contacted but the server could not find the
target file.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="8%">
<p><b>ENOMEM</b></p></td>
<td width="1%"></td>
<td width="82%">
<p>System is unable to allocate resources.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="8%">
<p><b>ENOSYS</b></p></td>
<td width="1%"></td>
<td width="82%">
<p><b>$DEBUGINFOD_URLS</b> is not defined.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="8%">
<p><b>ETIME</b></p></td>
<td width="1%"></td>
<td width="82%">
<p>Query failed due to timeout. <b>$DEBUGINFOD_TIMEOUT</b>
and <b>$DEBUGINFOD_MAXTIME</b> control this.</p></td></tr>
<tr align="left" valign="top">
<td width="9%"></td>
<td width="8%">
<p><b>EF2BIG</b></p></td>
<td width="1%"></td>
<td width="82%">
<p>Query aborted due to the file requested being too big.
The <b>$DEBUGINFOD_MAXSIZE</b> controls this.</p></td></tr>
</table>
<p style="margin-left:9%;"><b>EBADMSG</b></p>
<p style="margin-left:18%;">File content failed IMA
verification against a known signer certificate.</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="8%">
<p><b>ENOKEY</b></p></td>
<td width="1%"></td>
<td width="82%">
<p>File content failed IMA verification due to missing
signer certificate.</p></td></tr>
</table>
<p style="margin-left:9%;"><b>ENODATA</b></p>
<p style="margin-left:18%;">File content failed IMA
verification because of a missing signature.</p>
<h2>ENVIRONMENT VARIABLES
<a name="ENVIRONMENT VARIABLES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>$TMPDIR</b></p>
<p style="margin-left:18%;">This environment variable
points to a file system to be used for temporary files. The
default is /tmp.</p>
<p style="margin-left:9%;"><b>$DEBUGINFOD_URLS</b></p>
<p style="margin-left:18%;">This environment variable
contains a list of URL prefixes for trusted debuginfod
instances. Alternate URL prefixes are separated by space.
This environment variable may be set by /etc/profile.d
scripts reading /etc/debuginfod/*.urls files.</p>
<p style="margin-left:18%; margin-top: 1em">This
environment variable can also contain policy defining tags
which dictate the response policy for verifying per-file IMA
signatures in RPMs. As the space seperated list is read left
to right, upon encountering a tag, subsequent URLs up to the
next tag will be handled using that specified policy. All
URLs before the first tag will use the default policy,
<i>ima:ignore</i>. For example:</p>
<p style="margin-left:23%; margin-top: 1em">DEBUGINFOD_URLS="https://foo.com
ima:enforcing https://bar.ca http://localhost:8002/
ima:ignore https://baz.org"</p>
<p style="margin-left:18%; margin-top: 1em">Where foo.com
and baz.org use the default <i>ignore</i> policy and bar.ca
and localhost use an <i>enforcing</i> policy. The policy tag
may be one of the following:</p>
<p style="margin-left:18%; margin-top: 1em"><i>ima:enforcing</i>
Every downloaded file requires a valid signature, fully
protecting integrity.</p>
<p style="margin-left:18%; margin-top: 1em"><i>ima:ignore</i>
Skips verification altogether, providing no protection.</p>
<p style="margin-left:18%; margin-top: 1em">Alerts of
validation failure will be directed as specified in
$DEBUGINFOD_VERBOSE.</p>
<p style="margin-left:9%;"><b>$DEBUGINFOD_CACHE_PATH</b></p>
<p style="margin-left:18%;">This environment variable
governs the location of the cache where downloaded files and
cache-control files are kept. The default directory is
chosen based on other environment variables, see below.</p>
<p style="margin-left:9%;"><b>$DEBUGINFOD_PROGRESS</b></p>
<p style="margin-left:18%;">This environment variable
governs the default progress function. If set, and if a
progressfn is not explicitly set, then the library will
configure a default progressfn. This function will append a
simple progress message periodically to stderr. The default
is no progress function output.</p>
<p style="margin-left:9%;"><b>$DEBUGINFOD_VERBOSE</b></p>
<p style="margin-left:18%;">This environment variable
governs the default file descriptor for verbose output. If
set, and if a verbose fd is not explicitly set, then the
verbose output will be produced on STDERR_FILENO.</p>
<p style="margin-left:9%;"><b>$DEBUGINFOD_RETRY_LIMIT</b></p>
<p style="margin-left:18%;">This environment variable
governs the default limit of retry attempts. If a query
failed with errno other than ENOENT, will initiate several
attempts within the limit.</p>
<p style="margin-left:9%;"><b>$DEBUGINFOD_TIMEOUT</b></p>
<p style="margin-left:18%;">This environment variable
governs the download <i>commencing</i> timeout for each
debuginfod HTTP connection. A server that fails to provide
at least 100K of data within this many seconds is skipped.
The default is 90 seconds. (Zero or negative means "no
timeout".)</p>
<p style="margin-left:9%;"><b>$DEBUGINFOD_MAXTIME</b></p>
<p style="margin-left:18%;">This environment variable
dictates how long the client will wait to <i>complete</i>
the download a file found on a server in seconds. It is best
used to ensure that a file is downloaded quickly or be
rejected. The default is 0 (infinite time).</p>
<p style="margin-left:9%;"><b>$DEBUGINFOD_MAXSIZE</b></p>
<p style="margin-left:18%;">This environment variable
dictates the maximum size of a file to download in bytes.
This is best used if the user would like to ensure only
small files are downloaded. A value of 0 causes no
consideration for size, and the client may attempt to
download a file of any size. The default is 0 (infinite
size).</p>
<p style="margin-left:9%;"><b>$DEBUGINFOD_HEADERS_FILE</b></p>
<p style="margin-left:18%;">This environment variable
points to a file that supplies headers to outbound HTTP
requests, one per line. The header lines shouldn’t end
with CRLF, unless that’s the system newline
convention. Whitespace-only lines are skipped.</p>
<p style="margin-left:9%;"><b>$DEBUGINFOD_IMA_CERT_PATH</b></p>
<p style="margin-left:18%;">This environment variable
contains a list of absolute directory paths holding X.509
certificates for RPM per-file IMA-verification. Alternate
paths are separated by colons.</p>
<h2>CACHE
<a name="CACHE"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Before each
query, the debuginfod client library checks for a need to
clean the cache. If it’s time to clean, the library
traverses the cache directory and removes downloaded
debuginfo-related artifacts and newly empty directories, if
they have not been accessed recently.</p>
<p style="margin-left:9%; margin-top: 1em">Control files
are located directly under the cache directory. They contain
simple decimal numbers to set cache-related configuration
parameters. If the files do not exist, the client library
creates the files with the default parameter values as
content.</p>
<p style="margin-left:9%; margin-top: 1em">After each
query, the debuginfod client library deposits newly received
files into a directory &amp; file that is named based on the
build-id. A failed query is also cached by a special file.
The naming convention used for these artifacts is
deliberately <b>undocumented</b>. <b><br/>
$XDG_CACHE_HOME/debuginfod_client/</b></p>
<p style="margin-left:18%;">Default cache directory, if
$XDG_CACHE_HOME is set.</p>
<p style="margin-left:9%;"><b>$HOME/.cache/debuginfod_client/</b></p>
<p style="margin-left:18%;">Default cache directory, if
$XDG_CACHE_HOME is not set.</p>
<p style="margin-left:9%;"><b>$HOME/.debuginfod_client_cache/</b></p>
<p style="margin-left:18%;">Deprecated cache directory,
used only if preexisting.</p>
<p style="margin-left:9%;"><b>cache_clean_interval_s</b></p>
<p style="margin-left:18%;">This control file gives the
interval between cache cleaning rounds, in seconds. The
default is 86400, one day. 0 means
"immediately".</p>
<p style="margin-left:9%;"><b>max_unused_age_s</b></p>
<p style="margin-left:18%;">This control file sets how long
unaccessed debuginfo-related files are retained, in seconds.
The default is 604800, one week. 0 means
"immediately".</p>
<p style="margin-left:9%;"><b>cache_miss_s</b></p>
<p style="margin-left:18%;">This control file sets how long
to remember a query failure, in seconds. New queries for the
same artifacts within this time window are short-circuited
(returning an immediate failure instead of sending a new
query to servers). This accelerates queries that probably
would still fail. The default is 600, 10 minutes. 0 means
"forget immediately".</p>
<p style="margin-left:9%;"><b>metadata_retention_s</b></p>
<p style="margin-left:18%;">This control file sets how long
to remember the results of a metadata query. New queries for
the same artifacts within this time window are
short-circuited (repeating the same results). This
accelerates queries that probably would probably have the
same results. The default is 3600, 1 hour. 0 means "do
not retain".</p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><i>debuginfod(8)</i></p>
<hr/>
</body>
</html>
