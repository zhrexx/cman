<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 19:56:48 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>XkbListComponents</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">XkbListComponents</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#ARGUMENTS">ARGUMENTS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#STRUCTURES">STRUCTURES</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<a href="#NOTES">NOTES</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">XkbListComponents
− List of components for one or more component
types</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="50%">
<p style="margin-top: 1em"><b>XkbComponentListPtr
XkbListComponents</b></p> </td>
<td width="3%"></td>
<td width="38%">
<p style="margin-top: 1em"><b>(Display *</b><i>dpy</i><b>,
unsigned int</b></p></td></tr>
</table>
<p style="margin-left:9%;"><i>device_spec</i><b>,
XkbComponentNamesPtr</b> <i>ptrns</i><b>, int
*</b><i>max_inout</i><b>);</b></p>
<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="4%">
<p style="margin-top: 1em"><b><i>dpy</i></b></p></td>
<td width="5%"></td>
<td width="28%">
<p style="margin-top: 1em">connection to X server</p></td>
<td width="54%">
</td></tr>
</table>
<p style="margin-left:9%;"><i>device_spec</i></p>
<p style="margin-left:18%;">device ID, or XkbUseCoreKbd</p>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="6%">
<p><i>ptrns</i></p></td>
<td width="3%"></td>
<td width="45%">
<p>namelist for components of interest</p></td>
<td width="37%">
</td></tr>
</table>
<p style="margin-left:9%;"><i>max_inout</i></p>
<p style="margin-left:18%;">max # returned names, # left
over</p>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">You may ask the
server for a list of components for one or more component
types. The request takes the form of a set of patterns, one
pattern for each of the component types, including a pattern
for the complete keyboard description. To obtain this list,
use <i>XkbListComponents.</i></p>
<p style="margin-left:9%; margin-top: 1em"><i>XkbListComponents</i>
queries the server for a list of component names matching
the patterns specified in <i>ptrns.</i> It waits for a reply
and returns the matching component names in an
XkbComponentListRec structure. When you are done using the
structure, you should free it using <i>XkbFreeComponentList.
device_spec</i> indicates a particular device in which the
caller is interested. A server is allowed (but not required)
to restrict its reply to portions of the database that are
relevant for that particular device.</p>
<p style="margin-left:9%; margin-top: 1em"><i>ptrns</i> is
a pointer to an XkbComponentNamesRec. Each of the fields in
<i>ptrns</i> contains a pattern naming the components of
interest. Each of the patterns is composed of characters
from the ISO Latin1 encoding, but can contain only
parentheses, the wildcard characters ‘?’ and
‘*’, and characters permitted in a component
class or member name. A pattern may be NULL, in which case
no components for that type is returned. Pattern matches
with component names are case sensitive. The ‘?’
wildcard matches any single character, except a left or
right parenthesis; the ‘*’ wildcard matches any
number of characters, except a left or right parenthesis. If
an implementation allows additional characters in a
component class or member name other than those required by
the Xkb extension, the result of comparing one of the
additional characters to either of the wildcard characters
is implementation-dependent.</p>
<p style="margin-left:9%; margin-top: 1em">If a pattern
contains illegal characters, the illegal characters are
ignored. The matching process is carried out as if the
illegal characters were omitted from the pattern.</p>
<p style="margin-left:9%; margin-top: 1em"><i>max_inout</i>
is used to throttle the amount of data passed to and from
the server. On input, it specifies the maximum number of
names to be returned (the total number of names in all
component categories). Upon return from
<i>XkbListComponents,</i> max_inout contains the number of
names that matched the request but were not returned because
of the limit.</p>
<p style="margin-left:9%; margin-top: 1em"><b>Component
Names</b></p>
<p style="margin-left:9%; margin-top: 1em">Component names
have the form <i>class(member)</i> where <i>class</i>
describes a subset of the available components for a
particular type and the optional <i>member</i> identifies a
specific component from that subset. For example, the name
"atlantis(acme)" for a symbols component might
specify the symbols used for the atlantis national keyboard
layout by the vendor "acme." Each class has an
optional <i>default</i> member - references that specify a
class but not a member refer to the default member of the
class, if one exists. Xkb places no constraints on the
interpretation of the class and member names used in
component names.</p>
<p style="margin-left:9%; margin-top: 1em">The <i>class</i>
and <i>member</i> names are both specified using characters
from the Latin-1 character set. Xkb implementations must
accept all alphanumeric characters, minus (‘-’)
and underscore (‘_’) in class or member names,
and must not accept parentheses, plus, vertical bar, percent
sign, asterisk, question mark, or white space. The use of
other characters is implementation-dependent.</p>
<h2>STRUCTURES
<a name="STRUCTURES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The component
name patterns used to describe the request are passed to
<i>XkbListComponents</i> using an XkbComponentNamesRec
structure. This structure has no special allocation
constraints or interrelationships with other structures;
allocate and free this structure using standard
<i>malloc</i> and <i>free</i> calls or their equivalent:</p>
<p style="margin-left:9%; margin-top: 1em">typedef struct
_XkbComponentNames { <br/>
char * keymap; /* keymap names */ <br/>
char * keycodes; /* keycode names */ <br/>
char * types; /* type names */ <br/>
char * compat; /* compatibility map names */ <br/>
char * symbols; /* symbol names */ <br/>
char * geometry; /* geometry names */ <br/>
} XkbComponentNamesRec, *XkbComponentNamesPtr;</p>
<p style="margin-left:9%; margin-top: 1em"><i>XkbListComponents</i>
returns a pointer to an XkbComponentListRec:</p>
<p style="margin-left:9%; margin-top: 1em">typedef struct
_XkbComponentList { <br/>
int num_keymaps; /* number of entries in keymap */ <br/>
int num_keycodes; /* number of entries in keycodes */ <br/>
int num_types; /* number of entries in types */ <br/>
int num_compat; /* number of entries in compat */ <br/>
int num_symbols; /* number of entries in symbols */ <br/>
int num_geometry; /* number of entries in geometry; <br/>
XkbComponentNamePtr keymap; /* keymap names */ <br/>
XkbComponentNamePtr keycodes; /* keycode names */ <br/>
XkbComponentNamePtr types; /* type names */ <br/>
XkbComponentNamePtr compat; /* compatibility map names */
<br/>
XkbComponentNamePtr symbols; /* symbol names */ <br/>
XkbComponentNamePtr geometry; /* geometry names */ <br/>
} XkbComponentListRec, *XkbComponentListPtr;</p>
<p style="margin-left:9%; margin-top: 1em">typedef struct
_XkbComponentName { <br/>
unsigned short flags; /* hints regarding component name */
<br/>
char * name; /* name of component */ <br/>
} XkbComponentNameRec, *XkbComponentNamePtr;</p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>XkbFreeComponentList</b>(3)</p>
<h2>NOTES
<a name="NOTES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Note that the
structure used to specify patterns on input is an
XkbComponentNamesRec, and that used to hold the individual
component names upon return is an XkbComponentNameRec (no
trailing ‘s’ in Name).</p>
<hr/>
</body>
</html>
