<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 20:40:44 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>CURLOPT_NETRC</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">CURLOPT_NETRC</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#FILE FORMAT">FILE FORMAT</a><br/>
<a href="#DEFAULT">DEFAULT</a><br/>
<a href="#PROTOCOLS">PROTOCOLS</a><br/>
<a href="#EXAMPLE">EXAMPLE</a><br/>
<a href="#AVAILABILITY">AVAILABILITY</a><br/>
<a href="#RETURN VALUE">RETURN VALUE</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">CURLOPT_NETRC
− enable use of .netrc</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">#include
&lt;curl/curl.h&gt;</p>
<p style="margin-left:9%; margin-top: 1em">CURLcode
curl_easy_setopt(CURL *handle, CURLOPT_NETRC, long
level);</p>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">This parameter
controls the preference <i>level</i> of libcurl between
using usernames and passwords from your <i>˜/.netrc</i>
file, relative to usernames and passwords in the URL
supplied with <i>CURLOPT_URL(3)</i>.</p>
<p style="margin-left:9%; margin-top: 1em">On Windows,
libcurl primarily checks for <i>.netrc</i> in <i>%HOME%</i>.
If <i>%HOME%</i> is not set on Windows, libcurl falls back
to <i>%USERPROFILE%</i>. If the file does not exist, it
falls back to check if there is instead a file named
<i>_netrc</i> − using an underscore instead of
period.</p>
<p style="margin-left:9%; margin-top: 1em">You can also
tell libcurl a different filename to use with
<i>CURLOPT_NETRC_FILE(3)</i>.</p>
<p style="margin-left:9%; margin-top: 1em">libcurl uses a
username (and supplied or prompted password) supplied with
<i>CURLOPT_USERPWD(3)</i> or <i>CURLOPT_USERNAME(3)</i> in
preference to any of the options controlled by this
parameter.</p>
<p style="margin-left:9%; margin-top: 1em">Only machine
name, username and password are taken into account (init
macros and similar things are not supported).</p>
<p style="margin-left:9%; margin-top: 1em">libcurl does not
verify that the file has the correct properties set (as the
standard Unix ftp client does). It should only be readable
by user.</p>
<p style="margin-left:9%; margin-top: 1em"><i>level</i> is
a long that should be set to one of the values described
below. <br/>
CURL_NETRC_IGNORED (0)</p>
<p style="margin-left:18%;">libcurl ignores the
<i>.netrc</i> file. This is the default.</p>
<p style="margin-left:9%;">CURL_NETRC_OPTIONAL (1)</p>
<p style="margin-left:18%;">The use of the <i>.netrc</i>
file is optional, and information in the URL is to be
preferred. The file is scanned for the host and username (to
find the password only) or for the host only, to find the
first username and password after that <i>machine</i>, which
ever information is not specified.</p>
<p style="margin-left:9%;">CURL_NETRC_REQUIRED (2)</p>
<p style="margin-left:18%;">The use of the <i>.netrc</i>
file is required, and any credential information present in
the URL is ignored. The file is scanned for the host and
username (to find the password only) or for the host only,
to find the first username and password after that
<i>machine</i>, which ever information is not specified.</p>
<h2>FILE FORMAT
<a name="FILE FORMAT"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">The
<b>.netrc</b> file format is simple: you specify lines with
a machine name and follow the login and password that are
associated with that machine.</p>
<p style="margin-left:9%; margin-top: 1em">Each field is
provided as a sequence of letters that ends with a space or
newline. Starting in 7.84.0, libcurl also supports quoted
strings. They start and end with double quotes and support
the escaped special letters ", n, r, and t. Quoted
strings are the only way a space character can be used in a
username or password. <br/>
machine &lt;name&gt;</p>
<p style="margin-left:18%;">Provides credentials for a host
called <b>name</b>. libcurl searches the .netrc file for a
machine token that matches the hostname specified in the
URL. Once a match is made, the subsequent tokens are
processed, stopping when the end of file is reached or
another "machine" is encountered.</p>
<p style="margin-left:9%;">default</p>
<p style="margin-left:18%;">This is the same as machine
name except that default matches any name. There can be only
one default token, and it must be after all machine tokens.
To provide a default anonymous login for hosts that are not
otherwise matched, add a line similar to this in the
end:</p>
<p style="margin-left:18%; margin-top: 1em">default login
anonymous password user@domain</p>
<p style="margin-left:9%;">login &lt;name&gt;</p>
<p style="margin-left:18%;">The username string for the
remote machine.</p>
<p style="margin-left:9%;">password &lt;secret&gt;</p>
<p style="margin-left:18%;">Supply a password. If this
token is present, curl supplies the specified string if the
remote server requires a password as part of the login
process. Note that if this token is present in the .netrc
file you really should make sure the file is not readable by
anyone besides the user.</p>
<p style="margin-left:9%;">macdef &lt;name&gt;</p>
<p style="margin-left:18%;">Define a macro. This feature is
not supported by libcurl. In order for the rest of the
.netrc to still work fine, libcurl properly skips every
definition done with "macdef" that it finds.</p>
<h2>DEFAULT
<a name="DEFAULT"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">CURL_NETRC_IGNORED</p>
<h2>PROTOCOLS
<a name="PROTOCOLS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">This
functionality affects all supported protocols</p>
<h2>EXAMPLE
<a name="EXAMPLE"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">int main(void)
<br/>
{ <br/>
CURL *curl = curl_easy_init(); <br/>
if(curl) { <br/>
CURLcode ret; <br/>
curl_easy_setopt(curl, CURLOPT_URL,
"ftp://example.com/"); <br/>
curl_easy_setopt(curl, CURLOPT_NETRC, CURL_NETRC_OPTIONAL);
<br/>
ret = curl_easy_perform(curl); <br/>
} <br/>
}</p>
<h2>AVAILABILITY
<a name="AVAILABILITY"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Added in curl
7.1</p>
<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Returns
CURLE_OK</p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>CURLOPT_NETRC_FILE</b>(3),
<b>CURLOPT_USERNAME</b>(3), <b>CURLOPT_USERPWD</b>(3)</p>
<hr/>
</body>
</html>
