<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 19:44:29 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>EVP_MD_METH_NEW</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">EVP_MD_METH_NEW</h1>
<a href="#NAME">NAME</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#RETURN VALUES">RETURN VALUES</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<a href="#HISTORY">HISTORY</a><br/>
<a href="#COPYRIGHT">COPYRIGHT</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">EVP_MD_meth_new,
EVP_MD_meth_dup, EVP_MD_meth_free,
EVP_MD_meth_set_input_blocksize,
EVP_MD_meth_set_result_size, EVP_MD_meth_set_app_datasize,
EVP_MD_meth_set_flags, EVP_MD_meth_set_init,
EVP_MD_meth_set_update, EVP_MD_meth_set_final,
EVP_MD_meth_set_copy, EVP_MD_meth_set_cleanup,
EVP_MD_meth_set_ctrl, EVP_MD_meth_get_input_blocksize,
EVP_MD_meth_get_result_size, EVP_MD_meth_get_app_datasize,
EVP_MD_meth_get_flags, EVP_MD_meth_get_init,
EVP_MD_meth_get_update, EVP_MD_meth_get_final,
EVP_MD_meth_get_copy, EVP_MD_meth_get_cleanup,
EVP_MD_meth_get_ctrl − Routines to build up legacy
EVP_MD methods</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">#include
&lt;openssl/evp.h&gt;</p>
<p style="margin-left:9%; margin-top: 1em">The following
functions have been deprecated since OpenSSL 3.0, and can be
hidden entirely by defining <b>OPENSSL_API_COMPAT</b> with a
suitable version value, see
<b>openssl_user_macros</b>(7):</p>
<p style="margin-left:9%; margin-top: 1em">EVP_MD
*EVP_MD_meth_new(int md_type, int pkey_type); <br/>
void EVP_MD_meth_free(EVP_MD *md); <br/>
EVP_MD *EVP_MD_meth_dup(const EVP_MD *md); <br/>
int EVP_MD_meth_set_input_blocksize(EVP_MD *md, int
blocksize); <br/>
int EVP_MD_meth_set_result_size(EVP_MD *md, int resultsize);
<br/>
int EVP_MD_meth_set_app_datasize(EVP_MD *md, int datasize);
<br/>
int EVP_MD_meth_set_flags(EVP_MD *md, unsigned long flags);
<br/>
int EVP_MD_meth_set_init(EVP_MD *md, int (*init)(EVP_MD_CTX
*ctx)); <br/>
int EVP_MD_meth_set_update(EVP_MD *md, int
(*update)(EVP_MD_CTX *ctx, <br/>
const void *data, <br/>
size_t count)); <br/>
int EVP_MD_meth_set_final(EVP_MD *md, int
(*final)(EVP_MD_CTX *ctx, <br/>
unsigned char *md)); <br/>
int EVP_MD_meth_set_copy(EVP_MD *md, int (*copy)(EVP_MD_CTX
*to, <br/>
const EVP_MD_CTX *from)); <br/>
int EVP_MD_meth_set_cleanup(EVP_MD *md, int
(*cleanup)(EVP_MD_CTX *ctx)); <br/>
int EVP_MD_meth_set_ctrl(EVP_MD *md, int (*ctrl)(EVP_MD_CTX
*ctx, int cmd, <br/>
int p1, void *p2)); <br/>
int EVP_MD_meth_get_input_blocksize(const EVP_MD *md); <br/>
int EVP_MD_meth_get_result_size(const EVP_MD *md); <br/>
int EVP_MD_meth_get_app_datasize(const EVP_MD *md); <br/>
unsigned long EVP_MD_meth_get_flags(const EVP_MD *md); <br/>
int (*EVP_MD_meth_get_init(const EVP_MD *md))(EVP_MD_CTX
*ctx); <br/>
int (*EVP_MD_meth_get_update(const EVP_MD *md))(EVP_MD_CTX
*ctx, <br/>
const void *data, <br/>
size_t count); <br/>
int (*EVP_MD_meth_get_final(const EVP_MD *md))(EVP_MD_CTX
*ctx, <br/>
unsigned char *md); <br/>
int (*EVP_MD_meth_get_copy(const EVP_MD *md))(EVP_MD_CTX
*to, <br/>
const EVP_MD_CTX *from); <br/>
int (*EVP_MD_meth_get_cleanup(const EVP_MD *md))(EVP_MD_CTX
*ctx); <br/>
int (*EVP_MD_meth_get_ctrl(const EVP_MD *md))(EVP_MD_CTX
*ctx, int cmd, <br/>
int p1, void *p2);</p>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">All of the
functions described on this page are deprecated.
Applications should instead use the OSSL_PROVIDER APIs.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>EVP_MD</b> type is a structure for digest method
implementation. It can also have associated public/private
key signing and verifying routines.</p>
<p style="margin-left:9%; margin-top: 1em"><b>EVP_MD_meth_new()</b>
creates a new <b>EVP_MD</b> structure. These <b>EVP_MD</b>
structures are reference counted.</p>
<p style="margin-left:9%; margin-top: 1em"><b>EVP_MD_meth_dup()</b>
creates a copy of <b>md</b>.</p>
<p style="margin-left:9%; margin-top: 1em"><b>EVP_MD_meth_free()</b>
decrements the reference count for the <b>EVP_MD</b>
structure. If the reference count drops to 0 then the
structure is freed. If the argument is NULL, nothing is
done.</p>
<p style="margin-left:9%; margin-top: 1em"><b>EVP_MD_meth_set_input_blocksize()</b>
sets the internal input block size for the method <b>md</b>
to <b>blocksize</b> bytes.</p>
<p style="margin-left:9%; margin-top: 1em"><b>EVP_MD_meth_set_result_size()</b>
sets the size of the result that the digest method in
<b>md</b> is expected to produce to <b>resultsize</b>
bytes.</p>
<p style="margin-left:9%; margin-top: 1em">The digest
method may have its own private data, which OpenSSL will
allocate for it. <b>EVP_MD_meth_set_app_datasize()</b>
should be used to set the size for it to
<b>datasize</b>.</p>
<p style="margin-left:9%; margin-top: 1em"><b>EVP_MD_meth_set_flags()</b>
sets the flags to describe optional behaviours in the
particular <b>md</b>. Several flags can be or'd together.
The available flags are: <br/>
EVP_MD_FLAG_ONESHOT</p>
<p style="margin-left:14%;">This digest method can only
handle one block of input.</p>
<p style="margin-left:9%;">EVP_MD_FLAG_XOF</p>
<p style="margin-left:14%;">This digest method is an
extensible−output function (XOF) and supports the
<b>EVP_MD_CTRL_XOF_LEN</b> control.</p>
<p style="margin-left:9%;">EVP_MD_FLAG_DIGALGID_NULL</p>
<p style="margin-left:14%;">When setting up a
DigestAlgorithmIdentifier, this flag will have the parameter
set to NULL by default. Use this for PKCS#1. <i>Note: if
combined with EVP_MD_FLAG_DIGALGID_ABSENT, the latter will
override.</i></p>
<p style="margin-left:9%;">EVP_MD_FLAG_DIGALGID_ABSENT</p>
<p style="margin-left:14%;">When setting up a
DigestAlgorithmIdentifier, this flag will have the parameter
be left absent by default. <i>Note: if combined with
EVP_MD_FLAG_DIGALGID_NULL, the latter will be
overridden.</i></p>
<p style="margin-left:9%;">EVP_MD_FLAG_DIGALGID_CUSTOM</p>
<p style="margin-left:14%;">Custom
DigestAlgorithmIdentifier handling via ctrl, with
<b>EVP_MD_FLAG_DIGALGID_ABSENT</b> as default. <i>Note: if
combined with EVP_MD_FLAG_DIGALGID_NULL, the latter will be
overridden.</i> Currently unused.</p>
<p style="margin-left:9%;">EVP_MD_FLAG_FIPS</p>
<p style="margin-left:14%;">This digest method is suitable
for use in FIPS mode. Currently unused.</p>
<p style="margin-left:9%; margin-top: 1em"><b>EVP_MD_meth_set_init()</b>
sets the digest init function for <b>md</b>. The digest init
function is called by <b>EVP_Digest()</b>,
<b>EVP_DigestInit()</b>, <b>EVP_DigestInit_ex()</b>,
EVP_SignInit, <b>EVP_SignInit_ex()</b>,
<b>EVP_VerifyInit()</b> and <b>EVP_VerifyInit_ex()</b>.</p>
<p style="margin-left:9%; margin-top: 1em"><b>EVP_MD_meth_set_update()</b>
sets the digest update function for <b>md</b>. The digest
update function is called by <b>EVP_Digest()</b>,
<b>EVP_DigestUpdate()</b> and <b>EVP_SignUpdate()</b>.</p>
<p style="margin-left:9%; margin-top: 1em"><b>EVP_MD_meth_set_final()</b>
sets the digest final function for <b>md</b>. The digest
final function is called by <b>EVP_Digest()</b>,
<b>EVP_DigestFinal()</b>, <b>EVP_DigestFinal_ex()</b>,
<b>EVP_SignFinal()</b> and <b>EVP_VerifyFinal()</b>.</p>
<p style="margin-left:9%; margin-top: 1em"><b>EVP_MD_meth_set_copy()</b>
sets the function for <b>md</b> to do extra computations
after the method's private data structure has been copied
from one <b>EVP_MD_CTX</b> to another. If all that's needed
is to copy the data, there is no need for this copy
function. Note that the copy function is passed two
<b>EVP_MD_CTX *</b>, the private data structure is then
available with <b>EVP_MD_CTX_get0_md_data()</b>. This copy
function is called by <b>EVP_MD_CTX_copy()</b> and
<b>EVP_MD_CTX_copy_ex()</b>.</p>
<p style="margin-left:9%; margin-top: 1em"><b>EVP_MD_meth_set_cleanup()</b>
sets the function for <b>md</b> to do extra cleanup before
the method's private data structure is cleaned out and
freed. Note that the cleanup function is passed a
<b>EVP_MD_CTX *</b>, the private data structure is then
available with <b>EVP_MD_CTX_get0_md_data()</b>. This
cleanup function is called by <b>EVP_MD_CTX_reset()</b> and
<b>EVP_MD_CTX_free()</b>.</p>
<p style="margin-left:9%; margin-top: 1em"><b>EVP_MD_meth_set_ctrl()</b>
sets the control function for <b>md</b>. See
<b>EVP_MD_CTX_ctrl</b>(3) for the available controls.</p>
<p style="margin-left:9%; margin-top: 1em"><b>EVP_MD_meth_get_input_blocksize()</b>,
<b>EVP_MD_meth_get_result_size()</b>,
<b>EVP_MD_meth_get_app_datasize()</b>,
<b>EVP_MD_meth_get_flags()</b>,
<b>EVP_MD_meth_get_init()</b>,
<b>EVP_MD_meth_get_update()</b>,
<b>EVP_MD_meth_get_final()</b>,
<b>EVP_MD_meth_get_copy()</b>,
<b>EVP_MD_meth_get_cleanup()</b> and
<b>EVP_MD_meth_get_ctrl()</b> are all used to retrieve the
method data given with the EVP_MD_meth_set_*() functions
above.</p>
<h2>RETURN VALUES
<a name="RETURN VALUES"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>EVP_MD_meth_new()</b>
and <b>EVP_MD_meth_dup()</b> return a pointer to a newly
created <b>EVP_MD</b>, or NULL on failure. All
EVP_MD_meth_set_*() functions return 1.
<b>EVP_MD_get_input_blocksize()</b>,
<b>EVP_MD_meth_get_result_size()</b>,
<b>EVP_MD_meth_get_app_datasize()</b> and
<b>EVP_MD_meth_get_flags()</b> return the indicated sizes or
flags. All other EVP_CIPHER_meth_get_*() functions return
pointers to their respective <b>md</b> function.</p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>EVP_DigestInit</b>(3),
<b>EVP_SignInit</b>(3), <b>EVP_VerifyInit</b>(3)</p>
<h2>HISTORY
<a name="HISTORY"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">All of these
functions were deprecated in OpenSSL 3.0.</p>
<p style="margin-left:9%; margin-top: 1em">The
<b>EVP_MD</b> structure was openly available in OpenSSL
before version 1.1. The functions described here were added
in OpenSSL 1.1. The <b>EVP_MD</b> structure created with
these functions became reference counted in OpenSSL 3.0.</p>
<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Copyright
2015−2024 The OpenSSL Project Authors. All Rights
Reserved.</p>
<p style="margin-left:9%; margin-top: 1em">Licensed under
the Apache License 2.0 (the "License"). You may
not use this file except in compliance with the License. You
can obtain a copy in the file LICENSE in the source
distribution or at
&lt;https://www.openssl.org/source/license.html&gt;.</p>
<hr/>
</body>
</html>
