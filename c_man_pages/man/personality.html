<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Apr  5 20:38:54 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta content="groff -Thtml, see www.gnu.org" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" name="Content-Style"/>
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>personality</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
            :root {
                --primary-color: #3498db;
                --background-color: #f9f9f9;
                --text-color: #333;
                --code-bg: #f0f0f0;
                --header-color: #2c3e50;
                --link-color: #2980b9;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--background-color);
                max-width: 900px;
                margin: 0 auto;
                padding: 2rem;
            }
            h1, h2, h3, h4 {
                color: var(--header-color);
            }
            h1 {
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }
            pre {
                background-color: var(--code-bg);
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
            }
            a {
                color: var(--link-color);
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .man-navigation {
                background-color: #fff;
                border-bottom: 1px solid #ddd;
                padding: 0.5rem 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .section {
                margin-top: 2rem;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --primary-color: #3498db;
                    --background-color: #222;
                    --text-color: #f0f0f0;
                    --code-bg: #333;
                    --header-color: #3498db;
                    --link-color: #5dade2;
                }
            }
            .back-to-index {
                display: inline-block;
                margin: 1rem 0;
                padding: 0.5rem 1rem;
                background-color: var(--primary-color);
                color: white;
                border-radius: 4px;
                text-decoration: none;
            }
            .back-to-index:hover {
                background-color: var(--link-color);
                text-decoration: none;
            }
        </style></head>
<body><div><a class="back-to-index" href="../index.html">← Back to Index</a></div>
<h1 align="center">personality</h1>
<a href="#NAME">NAME</a><br/>
<a href="#LIBRARY">LIBRARY</a><br/>
<a href="#SYNOPSIS">SYNOPSIS</a><br/>
<a href="#DESCRIPTION">DESCRIPTION</a><br/>
<a href="#RETURN VALUE">RETURN VALUE</a><br/>
<a href="#ERRORS">ERRORS</a><br/>
<a href="#STANDARDS">STANDARDS</a><br/>
<a href="#HISTORY">HISTORY</a><br/>
<a href="#SEE ALSO">SEE ALSO</a><br/>
<hr/>
<h2>NAME
<a name="NAME"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">personality
− set the process execution domain</p>
<h2>LIBRARY
<a name="LIBRARY"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Standard C
library (<i>libc</i>, <i>−lc</i>)</p>
<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>#include
&lt;sys/personality.h&gt;</b></p>
<p style="margin-left:9%; margin-top: 1em"><b>int
personality(unsigned long</b> <i>persona</i><b>);</b></p>
<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Linux supports
different execution domains, or personalities, for each
process. Among other things, execution domains tell Linux
how to map signal numbers into signal actions. The execution
domain system allows Linux to provide limited support for
binaries compiled under other UNIX-like operating
systems.</p>
<p style="margin-left:9%; margin-top: 1em">If
<i>persona</i> is not 0xffffffff, then <b>personality</b>()
sets the caller’s execution domain to the value
specified by <i>persona</i>. Specifying <i>persona</i> as
0xffffffff provides a way of retrieving the current persona
without changing it.</p>
<p style="margin-left:9%; margin-top: 1em">A list of the
available execution domains can be found in
<i>&lt;sys/personality.h&gt;</i>. The execution domain is a
32-bit value in which the top three bytes are set aside for
flags that cause the kernel to modify the behavior of
certain system calls so as to emulate historical or
architectural quirks. The least significant byte is a value
defining the personality the kernel should assume. The flag
values are as follows: <b><br/>
ADDR_COMPAT_LAYOUT</b> (since Linux 2.6.9)</p>
<p style="margin-left:18%;">With this flag set, provide
legacy virtual address space layout.</p>
<p style="margin-left:9%;"><b>ADDR_NO_RANDOMIZE</b> (since
Linux 2.6.12)</p>
<p style="margin-left:18%;">With this flag set, disable
address-space-layout randomization.</p>
<p style="margin-left:9%;"><b>ADDR_LIMIT_32BIT</b> (since
Linux 2.2)</p>
<p style="margin-left:18%;">Limit the address space to 32
bits.</p>
<p style="margin-left:9%;"><b>ADDR_LIMIT_3GB</b> (since
Linux 2.4.0)</p>
<p style="margin-left:18%;">With this flag set, use
0xc0000000 as the offset at which to search a virtual memory
chunk on <b>mmap</b>(2); otherwise use 0xffffe000. Applies
to 32-bit x86 processes only.</p>
<p style="margin-left:9%;"><b>FDPIC_FUNCPTRS</b> (since
Linux 2.6.11)</p>
<p style="margin-left:18%;">User-space function pointers to
signal handlers point to descriptors. Applies only to ARM if
BINFMT_ELF_FDPIC and SuperH.</p>
<p style="margin-left:9%;"><b>MMAP_PAGE_ZERO</b> (since
Linux 2.4.0)</p>
<p style="margin-left:18%;">Map page 0 as read-only (to
support binaries that depend on this SVr4 behavior).</p>
<p style="margin-left:9%;"><b>READ_IMPLIES_EXEC</b> (since
Linux 2.6.8)</p>
<p style="margin-left:18%;">With this flag set,
<b>PROT_READ</b> implies <b>PROT_EXEC</b> for
<b>mmap</b>(2).</p>
<p style="margin-left:9%;"><b>SHORT_INODE</b> (since Linux
2.4.0)</p>
<p style="margin-left:18%;">No effect.</p>
<p style="margin-left:9%;"><b>STICKY_TIMEOUTS</b> (since
Linux 1.2.0)</p>
<p style="margin-left:18%;">With this flag set,
<b>select</b>(2), <b>pselect</b>(2), and <b>ppoll</b>(2) do
not modify the returned timeout argument when interrupted by
a signal handler.</p>
<p style="margin-left:9%;"><b>UNAME26</b> (since Linux
3.1)</p>
<p style="margin-left:18%;">Have <b>uname</b>(2) report a
2.6.(40+x) version number rather than a MAJOR.x version
number. Added as a stopgap measure to support broken
applications that could not handle the kernel
version-numbering switch from Linux 2.6.x to Linux 3.x.</p>
<p style="margin-left:9%;"><b>WHOLE_SECONDS</b> (since
Linux 1.2.0)</p>
<p style="margin-left:18%;">No effect.</p>
<p style="margin-left:9%; margin-top: 1em">The available
execution domains are: <b><br/>
PER_BSD</b> (since Linux 1.2.0)</p>
<p style="margin-left:18%;">BSD. (No effects.)</p>
<p style="margin-left:9%;"><b>PER_HPUX</b> (since Linux
2.4)</p>
<p style="margin-left:18%;">Support for 32-bit HP/UX. This
support was never complete, and was dropped so that since
Linux 4.0, this value has no effect.</p>
<p style="margin-left:9%;"><b>PER_IRIX32</b> (since Linux
2.2)</p>
<p style="margin-left:18%;">IRIX 5 32-bit. Never fully
functional; support dropped in Linux 2.6.27. Implies
<b>STICKY_TIMEOUTS</b>.</p>
<p style="margin-left:9%;"><b>PER_IRIX64</b> (since Linux
2.2)</p>
<p style="margin-left:18%;">IRIX 6 64-bit. Implies
<b>STICKY_TIMEOUTS</b>; otherwise no effect.</p>
<p style="margin-left:9%;"><b>PER_IRIXN32</b> (since Linux
2.2)</p>
<p style="margin-left:18%;">IRIX 6 new 32-bit. Implies
<b>STICKY_TIMEOUTS</b>; otherwise no effect.</p>
<p style="margin-left:9%;"><b>PER_ISCR4</b> (since Linux
1.2.0)</p>
<p style="margin-left:18%;">Implies <b>STICKY_TIMEOUTS</b>;
otherwise no effect.</p>
<p style="margin-left:9%;"><b>PER_LINUX</b> (since Linux
1.2.0)</p>
<p style="margin-left:18%;">Linux.</p>
<p style="margin-left:9%;"><b>PER_LINUX32</b> (since Linux
2.2)</p>
<p style="margin-left:18%;"><b>uname</b>(2) returns the
name of the 32-bit architecture in the <i>machine</i> field
("i686" instead of "x86_64",
&amp;c.).</p>
<p style="margin-left:18%; margin-top: 1em">Under ia64
(Itanium), processes with this personality don’t have
the O_LARGEFILE <b>open</b>(2) flag forced.</p>
<p style="margin-left:18%; margin-top: 1em">Under 64-bit
ARM, setting this personality is forbidden if
<b>execve</b>(2)ing a 32-bit process would also be forbidden
(cf. the allow_mismatched_32bit_el0 kernel parameter and
<i>Documentation/arm64/asymmetric-32bit.rst</i>).</p>
<p style="margin-left:9%;"><b>PER_LINUX32_3GB</b> (since
Linux 2.4)</p>
<p style="margin-left:18%;">Same as <b>PER_LINUX32</b>, but
implies <b>ADDR_LIMIT_3GB</b>.</p>
<p style="margin-left:9%;"><b>PER_LINUX_32BIT</b> (since
Linux 2.0)</p>
<p style="margin-left:18%;">Same as <b>PER_LINUX</b>, but
implies <b>ADDR_LIMIT_32BIT</b>.</p>
<p style="margin-left:9%;"><b>PER_LINUX_FDPIC</b> (since
Linux 2.6.11)</p>
<p style="margin-left:18%;">Same as <b>PER_LINUX</b>, but
implies <b>FDPIC_FUNCPTRS</b>.</p>
<p style="margin-left:9%;"><b>PER_OSF4</b> (since Linux
2.4)</p>
<p style="margin-left:18%;">OSF/1 v4. No effect since Linux
6.1, which removed a.out binary support. Before, on alpha,
would clear top 32 bits of iov_len in the user’s
buffer for compatibility with old versions of OSF/1 where
iov_len was defined as. <i>int</i>.</p>
<p style="margin-left:9%;"><b>PER_OSR5</b> (since Linux
2.4)</p>
<p style="margin-left:18%;">SCO OpenServer 5. Implies
<b>STICKY_TIMEOUTS</b> and <b>WHOLE_SECONDS</b>; otherwise
no effect.</p>
<p style="margin-left:9%;"><b>PER_RISCOS</b> (since Linux
2.3.7; macro since Linux 2.3.13)</p>
<p style="margin-left:18%;">Acorn RISC OS/Arthur (MIPS). No
effect. Up to Linux v4.0, would set the emulation altroot to
<i>/usr/gnemul/riscos</i> (cf. <b>PER_SUNOS</b>, below).
Before then, up to Linux 2.6.3, just Arthur emulation.</p>
<p style="margin-left:9%;"><b>PER_SCOSVR3</b> (since Linux
1.2.0)</p>
<p style="margin-left:18%;">SCO UNIX System V Release 3.
Same as <b>PER_OSR5</b>, but also implies
<b>SHORT_INODE</b>.</p>
<p style="margin-left:9%;"><b>PER_SOLARIS</b> (since Linux
2.4)</p>
<p style="margin-left:18%;">Solaris. Implies
<b>STICKY_TIMEOUTS</b>; otherwise no effect.</p>
<p style="margin-left:9%;"><b>PER_SUNOS</b> (since Linux
2.4.0)</p>
<p style="margin-left:18%;">Sun OS. Same as <b>PER_BSD</b>,
but implies <b>STICKY_TIMEOUTS</b>. Prior to Linux 2.6.26,
diverted library and dynamic linker searches to
<i>/usr/gnemul</i>. Buggy, largely unmaintained, and almost
entirely unused.</p>
<p style="margin-left:9%;"><b>PER_SVR3</b> (since Linux
1.2.0)</p>
<p style="margin-left:18%;">AT&amp;T UNIX System V Release
3. Implies <b>STICKY_TIMEOUTS</b> and <b>SHORT_INODE</b>;
otherwise no effect.</p>
<p style="margin-left:9%;"><b>PER_SVR4</b> (since Linux
1.2.0)</p>
<p style="margin-left:18%;">AT&amp;T UNIX System V Release
4. Implies <b>STICKY_TIMEOUTS</b> and <b>MMAP_PAGE_ZERO</b>;
otherwise no effect.</p>
<p style="margin-left:9%;"><b>PER_UW7</b> (since Linux
2.4)</p>
<p style="margin-left:18%;">UnixWare 7. Implies
<b>STICKY_TIMEOUTS</b> and <b>MMAP_PAGE_ZERO</b>; otherwise
no effect.</p>
<p style="margin-left:9%;"><b>PER_WYSEV386</b> (since Linux
1.2.0)</p>
<p style="margin-left:18%;">WYSE UNIX System V/386. Implies
<b>STICKY_TIMEOUTS</b> and <b>SHORT_INODE</b>; otherwise no
effect.</p>
<p style="margin-left:9%;"><b>PER_XENIX</b> (since Linux
1.2.0)</p>
<p style="margin-left:18%;">XENIX. Implies
<b>STICKY_TIMEOUTS</b> and <b>SHORT_INODE</b>; otherwise no
effect.</p>
<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">On success, the
previous <i>persona</i> is returned. On error, −1 is
returned, and <i>errno</i> is set to indicate the error.</p>
<h2>ERRORS
<a name="ERRORS"></a>
</h2>
<table border="0" cellpadding="0" cellspacing="0" frame="void" rules="none" width="100%">
<tr align="left" valign="top">
<td width="9%"></td>
<td width="8%">
<p style="margin-top: 1em"><b>EINVAL</b></p></td>
<td width="1%"></td>
<td width="61%">
<p style="margin-top: 1em">The kernel was unable to change
the personality.</p></td>
<td width="21%">
</td></tr>
</table>
<h2>STANDARDS
<a name="STANDARDS"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Linux.</p>
<h2>HISTORY
<a name="HISTORY"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em">Linux 1.1.20,
glibc 2.3.</p>
<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>
<p style="margin-left:9%; margin-top: 1em"><b>setarch</b>(8)</p>
<hr/>
</body>
</html>
